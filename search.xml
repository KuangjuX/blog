<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>LeetCode307-区域和检索</title>
    <url>/2020/10/15/1/</url>
    <content><![CDATA[<h2 id="description"><a class="markdownIt-Anchor" href="#description"></a> Description</h2>
<p>给定一个整数数组 nums，求出数组从索引 i 到 j  (i ≤ j) 范围内元素的总和，包含 i,  j 两点。</p>
<p>update(i, val) 函数可以通过将下标为 i 的数值更新为 val，从而对数列进行修改。</p>
<h2 id="examples"><a class="markdownIt-Anchor" href="#examples"></a> Examples</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Given nums &#x3D; [1, 3, 5]</span><br><span class="line"></span><br><span class="line">sumRange(0, 2) -&gt; 9</span><br><span class="line">update(1, 2)</span><br><span class="line">sumRange(0, 2) -&gt; 8</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="thought"><a class="markdownIt-Anchor" href="#thought"></a> Thought</h2>
<h3 id="segement-tree线段树"><a class="markdownIt-Anchor" href="#segement-tree线段树"></a> Segement Tree(线段树)</h3>
<p>一颗线段树的构造就是根据区间的性质的来构造的, 如下是一棵区间<code>[0, 3]</code>的线段树，每个<code>[start, end]</code>都是一个二叉树中的节点。</p>
<pre class="mermaid">graph TD;
	A["[0,3]"] --> B["[0,1]"];
	A["[0,3]"] --> C["[2,3]"];
	B --> D["[0,0]"];
	B --> E["[1,1]"];
	C --> F["[2,2]"];
	C --> G["[3,3]"];</pre>
<p>区间划分大概就是上述的区间划分。可以看出每次都将区间的长度一分为二,数列长度为<code>n</code>,所以线段树的高度是<code>log(n)</code>,这是很多高效操作的基础。<br>
上述的区间存储的只是区间的左右边界。我们可以将区间的最大值加入进来,也就是树中的<code>Node</code>需要存储<code>left</code>，<code>right</code>左右子节点外，还需要存储<code>start</code>, <code>end</code>, <code>val</code>区间的范围和区间内表示的值。</p>
<p><strong>可以储存不同的值，例如区间内的最大值，最小值，区间的求和等等。</strong></p>
<p>因为每次将区间的长度一分为二,所有创造的节点个数，即底层有<code>n</code>个节点，那么倒数第二次约<code>n/2</code>个节点，倒数第三次约<code>n/4</code>个节点，依次类推：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">n + 1&#x2F;2 * n + 1&#x2F;4 * n + 1&#x2F;8 * n + ...</span><br><span class="line">&#x3D;   (1 + 1&#x2F;2 + 1&#x2F;4 + 1&#x2F;8 + ...) * n</span><br><span class="line">&#x3D;   2n</span><br></pre></td></tr></table></figure>
<p><strong>所以构造线段树的时间复杂度和空间复杂度都为<code>O(n)</code>。</strong></p>
<h2 id="solution"><a class="markdownIt-Anchor" href="#solution"></a> Solution</h2>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">segmentTree</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(start,end,sum)&#123;</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">        <span class="keyword">this</span>.sum = sum;</span><br><span class="line">        <span class="keyword">this</span>.left = <span class="keyword">this</span>.right = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> NumArray = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// console.log(nums.length);</span></span><br><span class="line">    <span class="keyword">this</span>.segmentTree = build(<span class="number">0</span>,nums.length<span class="number">-1</span>,nums);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> build = <span class="function"><span class="keyword">function</span>(<span class="params">left,right,array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left &gt; right)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> root = <span class="keyword">new</span> segmentTree(left,right,array[left]);</span><br><span class="line">    <span class="keyword">if</span>(left === right)&#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> mid = <span class="built_in">Math</span>.floor((left+right)/<span class="number">2</span>);</span><br><span class="line">    root.left = build(left,mid,array);</span><br><span class="line">    root.right = build(mid+<span class="number">1</span>,right,array);</span><br><span class="line">    root.sum = root.left.sum+root.right.sum;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">NumArray.prototype.update = <span class="function"><span class="keyword">function</span>(<span class="params">i,val</span>) </span>&#123;</span><br><span class="line">    modify(<span class="keyword">this</span>.segmentTree,i,val);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> modify = <span class="function"><span class="keyword">function</span>(<span class="params">root,index,value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root.start == index &amp;&amp; root.end == index)&#123;</span><br><span class="line">        root.sum = value;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> mid = <span class="built_in">Math</span>.floor((root.start+root.end)/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span>(index&lt;=mid)&#123;</span><br><span class="line">        modify(root.left,index,value);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        modify(root.right,index,value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    root.sum = root.left.sum+root.right.sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>i </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">j</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">NumArray.prototype.sumRange = <span class="function"><span class="keyword">function</span>(<span class="params">i,j</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">this</span>.segmentTree);</span><br><span class="line">   <span class="keyword">let</span> res = query(<span class="keyword">this</span>.segmentTree,i,j);</span><br><span class="line">   <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> query = <span class="function"><span class="keyword">function</span>(<span class="params">root,start,end</span>)</span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(start == root.start &amp;&amp; root.end == end)&#123;</span><br><span class="line">        <span class="keyword">return</span> root.sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> mid = <span class="built_in">Math</span>.floor((root.start+root.end)/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">let</span> leftsum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> rightsum=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//左子区</span></span><br><span class="line">    <span class="keyword">if</span>(mid &gt;= start)&#123;</span><br><span class="line">        <span class="keyword">if</span>(mid&lt;end)&#123;</span><br><span class="line">            leftsum = query(root.left,start,mid);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            leftsum = query(root.left,start,end);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//右子区</span></span><br><span class="line">    <span class="keyword">if</span>(mid&lt;end)&#123;</span><br><span class="line">        <span class="keyword">if</span>(start &lt;= mid)&#123;</span><br><span class="line">            rightsum = query(root.right,mid+<span class="number">1</span>,end);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            rightsum = query(root.right,start,end);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> leftsum+rightsum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>Leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode416-分割等和子集</title>
    <url>/2020/10/11/1/</url>
    <content><![CDATA[<h2 id="description"><a class="markdownIt-Anchor" href="#description"></a> Description</h2>
<p>给定一个<strong>只包含正整数</strong>的<strong>非空</strong>数组。是否可以将这个数组分割成两个子集，使得两个子集的元素和相等。</p>
<h2 id="examples"><a class="markdownIt-Anchor" href="#examples"></a> Examples</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">输入: [1, 5, 11, 5]</span><br><span class="line"></span><br><span class="line">输出: true</span><br><span class="line"></span><br><span class="line">解释: 数组可以分割成 [1, 5, 5] 和 [11].</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">输入: [1, 2, 3, 5]</span><br><span class="line"></span><br><span class="line">输出: false</span><br><span class="line"></span><br><span class="line">解释: 数组不能分割成两个元素和相等的子集.</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="thought"><a class="markdownIt-Anchor" href="#thought"></a> Thought</h2>
<p>由于所给数组的规模不确定，所要分成的数组的规模的大小，所以不能使用循环嵌套的方法遍历所有可能性，即不能在多项式时间内解决（NP问题）。如果使用贪心则只能求得局部最优解而不能取得全局的解。因此此题需要使用记忆性搜索或者动态规划的方法来解决。</p>
<p>考虑到对于任意一个数我们都有选择或者不选这两种选择，因为我们可以开一个二维数组dp[n][target+1]，其中n表示nums数组中的数据大小。target表示将nums数组中的数据进行累计求和后得到的和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>s</mi><mi>u</mi><mi>m</mi></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{sum}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，对于数组中的任意位置dp[i][j],表示的是当选择到第i个数的时候是否可以达到j的值。</p>
<p>在进行动态规划之前我们应当去考虑临界条件。首先，当nums数组的规模小于2时，必定没有解，因此直接返回false；当maxNum大于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mi>n</mi><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{n}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>时，也不可能找到解，因此直接返回false；当sum为奇数时，说明不可能等分为两个同样的集合，因此也直接返回false。</p>
<p>首先要将整个dp数组进行初始化，即将整个数组都设为false。然后我们需要考虑对dp数组的初始状态进行设置。考虑到当j=0即当没有num被选择时，应当将这一列全部设置为true。当nums[0]被选择时，也应当将dp[0][nums[0]]的值设置为true。</p>
<p>将dp数组初始化之后我们就需要对数组进行状态转移，考虑到对于任意的i,j的状态数组dp[i][j]，当此时所选择的nums[i]大于j时，此时nums[i]一定不能被选择，那么此时的状态即为dp[i][j] = dp[i-1][j],当nums[i]&lt;j时，那么表明当前的数据nums[i]可以被选择，那么此时的状态就可以有两种选择dp[i-1][j]和dp[i-1][j-nums[i]]，因此状态转移方程如下：</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mspace width="1em"><mi mathvariant="normal">∣</mi><mspace width="1em"><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo>−</mo><mi>n</mi><mi>u</mi><mi>m</mi><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mspace></mspace></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">dp[i][j] = \begin{cases}
dp[i-1][j] \\
dp[i-1][j] \quad|\quad dp[i-1][j-nums[i]]
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:1em;"></span><span class="mord">∣</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<h2 id="solution"><a class="markdownIt-Anchor" href="#solution"></a> Solution</h2>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;boolean&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> canPartition = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">2</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> maxNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        sum+=nums[i];</span><br><span class="line">        <span class="keyword">if</span>(nums[i]&gt;maxNum)&#123;</span><br><span class="line">            maxNum = nums[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">if</span>(sum &amp; <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> target = sum/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(maxNum&gt;target)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> dp = <span class="keyword">new</span> <span class="built_in">Array</span>(n);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//initial dp array</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        dp[i] = <span class="keyword">new</span> <span class="built_in">Array</span>(target+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>;j&lt;=target;j++)&#123;</span><br><span class="line">            dp[i][j] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//set dp[i][0] = 1 because no value is selected</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        dp[i][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//initial</span></span><br><span class="line">    dp[<span class="number">0</span>][nums[<span class="number">0</span>]] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//dp</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">let</span> num = nums[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">1</span>;j&lt;=target;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(j&lt;num)&#123;</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j-num] | dp[i<span class="number">-1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[n<span class="number">-1</span>][target];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="optimization"><a class="markdownIt-Anchor" href="#optimization"></a> optimization</h2>
<p>考虑到在更新dp数组的状态的时候每次dp[i][j]都会以上一行作为参考进行状态转移，因此我们可以对于该数组进行空间优化,即将dp[n][target+1]修改为dp[target+1]，因此我们可以将空间复杂度由原来的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>×</mo><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n \times target)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>减少为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(target)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>。考虑到每一次更新状态时都要取上一行的状态，因此在更新状态时需要将j从大到小进行遍历。因为如果从小到大进行遍历的话，当计算dp[j]的状态是,dp[j-nums[i]]已经被更新过了，即被更新为第i行的数据，因此不可解。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">let</span> num = nums[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=target;j&gt;=num;j--)&#123;</span><br><span class="line">            dp[j] |= dp[j-num];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[target];</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>Leetcode</tag>
        <tag>Javascript</tag>
      </tags>
  </entry>
  <entry>
    <title>NEMU</title>
    <url>/2020/09/29/1/</url>
    <content><![CDATA[<h2 id="get-started-起步"><a class="markdownIt-Anchor" href="#get-started-起步"></a> Get Started 起步</h2>
<h3 id="description-描述"><a class="markdownIt-Anchor" href="#description-描述"></a> Description 描述</h3>
<p>PA讲述的是一个&quot;先驱创造计算机&quot;的故事。</p>
<p>本实践课程所要设计的“NEMU”一款经过简化的 x86 全系统模拟器。</p>
<a id="more"></a>
<h3 id="pa0"><a class="markdownIt-Anchor" href="#pa0"></a> PA0</h3>
<p><strong>寄存器结构体</strong></p>
<p>在框架的源码中，为了考察我们寄存器的结构，作者故意地使用了错误的数据结构来描述寄存器。使用结构体来描述寄存器的内部结构，会错误地计算寄存器的地址空间。因此我们首先需要将结构体改为联合体来描述寄存器的地址。</p>
<p>在<code>include\cpu\reg.h</code>文件里修改寄存器的描述</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">	<span class="keyword">union</span> &#123;</span><br><span class="line">		<span class="keyword">union</span>&#123;</span><br><span class="line">			<span class="keyword">uint32_t</span> _32;</span><br><span class="line">			<span class="keyword">uint16_t</span> _16;</span><br><span class="line">			<span class="keyword">uint8_t</span> _8[<span class="number">2</span>];</span><br><span class="line">		&#125;gpr[<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">		<span class="class"><span class="keyword">struct</span> </span></span><br><span class="line"><span class="class">		&#123;</span></span><br><span class="line">			<span class="keyword">uint32_t</span> eax, ecx, edx, ebx, esp, ebp, esi, edi;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">//store </span></span><br><span class="line">	<span class="keyword">swaddr_t</span> eip;</span><br><span class="line"></span><br><span class="line">&#125; CPU_state;</span><br></pre></td></tr></table></figure>
<h3 id="pa1"><a class="markdownIt-Anchor" href="#pa1"></a> PA1</h3>
<h4 id="单步执行"><a class="markdownIt-Anchor" href="#单步执行"></a> 单步执行</h4>
<p>完成这个操作很简单，因为框架已经实现了cpu_exec()函数模拟cpu的调用，我们只需读取命令行参数并且进行函数的调用就可以完成。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">cmd_si</span><span class="params">(<span class="keyword">char</span> *args)</span></span>&#123;</span><br><span class="line">	<span class="comment">//initliza the step</span></span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">step</span> = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span>(args == <span class="literal">NULL</span>)<span class="built_in">step</span>=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">sscanf</span>(args,<span class="string">"%d"</span>,&amp;<span class="built_in">step</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	cpu_exec(<span class="built_in">step</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="打印寄存器"><a class="markdownIt-Anchor" href="#打印寄存器"></a> 打印寄存器</h4>
<p>本题提供两个参数，‘r’表示打印寄存器状态，‘w’表示打印监视点，因为监视点需要和后面的任务有关，这里暂时先不讲。打印寄存器很简单，只需要调用寄存器的状态并将其打印出来即可，我们定义一个<code>printRegisters</code>函数：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printRegisters</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"eax: 0x%-10x  %-10d\n"</span>, cpu.eax, cpu.eax);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"edx: 0x%-10x  %-10d\n"</span>, cpu.edx, cpu.edx);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"ecx: 0x%-10x  %-10d\n"</span>, cpu.ecx, cpu.ecx);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"ebx: 0x%-10x  %-10d\n"</span>, cpu.ebx, cpu.ebx);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"ebp: 0x%-10x  %-10d\n"</span>, cpu.ebp, cpu.ebp);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"esi: 0x%-10x  %-10d\n"</span>, cpu.esi, cpu.esi);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"esp: 0x%-10x  %-10d\n"</span>, cpu.esp, cpu.esp);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"eip: 0x%-10x  %-10d\n"</span>, cpu.eip, cpu.eip);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="扫描内存"><a class="markdownIt-Anchor" href="#扫描内存"></a> 扫描内存</h4>
<p>扫描内存提供两个参数选项，扫描的地址和地址附近字节的内存扫描。因此我们只需要对命令行的两个参数分别进行处理就可以了。扫描的地址有简单和复杂两种状态。简单状态即输入16进制的数，复杂则可以输入表达式，复杂状态我们需要调用下一问中的表达式求值的函数进行解析。</p>
<p><strong>表达式只能是16进制数：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">cmd_x</span><span class="params">(<span class="keyword">char</span>* args)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(args == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">uint32_t</span> num = <span class="number">0</span>, addr;</span><br><span class="line">	<span class="keyword">while</span>(args[<span class="number">0</span>] == <span class="string">' '</span>)++args;	<span class="comment">//trim</span></span><br><span class="line">	<span class="keyword">while</span>(<span class="string">'0'</span> &lt;= args[<span class="number">0</span>] &amp;&amp; args[<span class="number">0</span>] &lt;= <span class="string">'9'</span>) num = (num &lt;&lt; <span class="number">3</span>) + (num &lt;&lt; <span class="number">1</span>) + (args[<span class="number">0</span>] &amp; <span class="number">15</span>), ++args;</span><br><span class="line">	<span class="comment">//get num</span></span><br><span class="line">	<span class="keyword">while</span>(args[<span class="number">0</span>] == <span class="string">' '</span>)++args; <span class="comment">//trim</span></span><br><span class="line">	<span class="comment">//get address</span></span><br><span class="line">	<span class="keyword">if</span>(args[<span class="number">0</span>] == <span class="string">'0'</span> &amp;&amp; args[<span class="number">1</span>] == <span class="string">'x'</span>)&#123;</span><br><span class="line">		args = args + <span class="number">2</span>;</span><br><span class="line">		addr = read_address(args);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(num) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"address 0x%x:"</span>, addr);</span><br><span class="line">			<span class="keyword">int</span> i;</span><br><span class="line">			<span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; <span class="number">4</span>; i++)<span class="built_in">printf</span>(<span class="string">" 0x%x"</span>, swaddr_read(addr + i, <span class="number">1</span>));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">			addr += <span class="number">4</span>;</span><br><span class="line">			--num;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\033[1;31mInvalid expression\n\033[0m"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>首先清除空格，然后读入数字并将数字求值，然后再读入地址将地址进行求值，我们写了一个解析地址的函数<code>read_address()</code>进行解析。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//read address</span></span><br><span class="line"><span class="function"><span class="keyword">uint32_t</span> <span class="title">read_address</span><span class="params">(<span class="keyword">char</span> *args)</span></span>&#123;</span><br><span class="line">	<span class="keyword">uint32_t</span> address;</span><br><span class="line">	address = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>((<span class="string">'0'</span> &lt;= args[<span class="number">0</span>] &amp;&amp; args[<span class="number">0</span>] &lt;= <span class="string">'9'</span>) || (<span class="string">'a'</span> &lt;= args[<span class="number">0</span>] &amp;&amp; args[<span class="number">0</span>] &lt;= <span class="string">'f'</span>) || (<span class="string">'A'</span> &lt;= args[<span class="number">0</span>] &amp;&amp; args[<span class="number">0</span>] &lt;= <span class="string">'F'</span>))&#123;</span><br><span class="line">				<span class="keyword">if</span>(<span class="string">'0'</span> &lt;= args[<span class="number">0</span>] &amp;&amp; args[<span class="number">0</span>] &lt;= <span class="string">'9'</span>) </span><br><span class="line">                    address = (address&lt;&lt;<span class="number">4</span>)+((args[<span class="number">0</span>]-<span class="string">'0'</span>));</span><br><span class="line">				<span class="keyword">if</span>(<span class="string">'a'</span> &lt;= args[<span class="number">0</span>] &amp;&amp; args[<span class="number">0</span>] &lt;= <span class="string">'f'</span>) </span><br><span class="line">                    address = (address&lt;&lt;<span class="number">4</span>)+((args[<span class="number">0</span>]-<span class="string">'a'</span>)+<span class="number">9</span>);</span><br><span class="line">				<span class="keyword">if</span>(<span class="string">'A'</span> &lt;= args[<span class="number">0</span>] &amp;&amp; args[<span class="number">0</span>] &lt;= <span class="string">'F'</span>) a</span><br><span class="line">                    ddress = (address&lt;&lt;<span class="number">4</span>)+((args[<span class="number">0</span>]-<span class="string">'A'</span>)+<span class="number">9</span>);</span><br><span class="line">				++args;</span><br><span class="line">			&#125;</span><br><span class="line">    <span class="keyword">return</span> address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>首先判断是否输入的是否为16进制数，如果不是则返回，否则则解析地址。将数字和地址解析完成后就可以使用内置的<code>swaddr_read</code>函数进行读取地址信息。</p>
<h4 id="数学表达式求值"><a class="markdownIt-Anchor" href="#数学表达式求值"></a> 数学表达式求值</h4>
<p>在本题中，我们主要需要为表达式添加规则，使用正则表达式为表达式每个可能出现的字符添加规则，并为其制定优先级来对其进行词法分析，最后再对其进行递归求值。</p>
<p>首先完成字符的正则表达式的匹配：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">struct</span> <span class="title">rule</span> &#123;</span></span><br><span class="line">	<span class="keyword">char</span> *regex;</span><br><span class="line">	<span class="keyword">int</span> token_type;</span><br><span class="line">&#125; rules[] = &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/* <span class="doctag">TODO:</span> Add more rules.</span></span><br><span class="line"><span class="comment">	 * Pay attention to the precedence level of different rules.</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">	&#123;<span class="string">" +"</span>,	NOTYPE&#125;,				<span class="comment">//spaces</span></span><br><span class="line">	&#123;<span class="string">"\\+"</span>, PLUS&#125;,					<span class="comment">//plus</span></span><br><span class="line">	&#123;<span class="string">"-"</span>, MINUS&#125;,					<span class="comment">//minus</span></span><br><span class="line">	&#123;<span class="string">"\\*"</span>, STAR&#125;,					<span class="comment">//star</span></span><br><span class="line">	&#123;<span class="string">"/"</span>, DIV&#125;,						<span class="comment">//div</span></span><br><span class="line">	&#123;<span class="string">"=="</span>, EQ&#125;,						<span class="comment">//eq</span></span><br><span class="line">	&#123;<span class="string">"!="</span>, NOTEQ&#125;,					<span class="comment">//noteq</span></span><br><span class="line">	&#123;<span class="string">"&amp;&amp;"</span>, AND&#125;,					<span class="comment">//and</span></span><br><span class="line">	&#123;<span class="string">"\\|\\|"</span>, OR&#125;,					<span class="comment">//or</span></span><br><span class="line">	&#123;<span class="string">"!"</span>, NOT&#125;,						<span class="comment">//not</span></span><br><span class="line">	&#123;<span class="string">"\\("</span>, LB&#125;,					<span class="comment">//lb</span></span><br><span class="line">	&#123;<span class="string">"\\)"</span>, RB&#125;,					<span class="comment">//rb</span></span><br><span class="line">	&#123;<span class="string">"0[xX][0-9a-zA-Z]+"</span>, HEX&#125;,		<span class="comment">//hex</span></span><br><span class="line">	&#123;<span class="string">"[0-9]+"</span>, DEC&#125;,				<span class="comment">//dec</span></span><br><span class="line">	&#123;<span class="string">"\\$[a-z]+"</span>, REG&#125;				<span class="comment">//reg</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>在代码中我们为可能出现的字符进行了正则表达式的匹配。然后我们需要将识别出的token信息加入tokens数组中。在for循环中，用<code>regexec()</code>函数匹配目标文本字符串和前面定义的rules[i]中的正则表达式比较，pmatch.rm_so == 0表示匹配串在目标串的第一个位置，pmatch.rm_eo表示结束位置，position和substr_len表示读取完后的位置和读取长度。成功识别得到该字符或者字符串的对应规则后，用switch语句将表达式中每一个部分用对应的数字表示type，复制到tokens[nr_token].str中，用strncpy函数，末尾加上\0表示字符串。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">make_token</span><span class="params">(<span class="keyword">char</span> *e)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">position</span> = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">regmatch_t</span> pmatch;</span><br><span class="line">	</span><br><span class="line">	nr_token = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(e[<span class="built_in">position</span>] != <span class="string">'\0'</span>) &#123;</span><br><span class="line">		<span class="comment">/* Try all rules one by one. */</span></span><br><span class="line">		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; NR_REGEX; i ++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(regexec(&amp;re[i], e + <span class="built_in">position</span>, <span class="number">1</span>, &amp;pmatch, <span class="number">0</span>) == <span class="number">0</span> &amp;&amp; pmatch.rm_so == <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="comment">//char *substr_start = e + position;</span></span><br><span class="line">				<span class="keyword">int</span> substr_len = pmatch.rm_eo;</span><br><span class="line">				<span class="comment">//Log("match rules[%d] = \"%s\" at position %d with len %d: %.*s", i, rules[i].regex, position, substr_len, substr_len, substr_start);</span></span><br><span class="line">				<span class="built_in">position</span> += substr_len;</span><br><span class="line"></span><br><span class="line">				<span class="comment">/* <span class="doctag">TODO:</span> Now a new token is recognized with rules[i]. Add codes</span></span><br><span class="line"><span class="comment">				 * to record the token in the array `tokens'. For certain types</span></span><br><span class="line"><span class="comment">				 * of tokens, some extra actions should be performed.</span></span><br><span class="line"><span class="comment">				 */</span></span><br><span class="line"></span><br><span class="line">				<span class="keyword">switch</span>(rules[i].token_type) &#123;</span><br><span class="line">					<span class="keyword">case</span> NOTYPE:</span><br><span class="line">						<span class="keyword">break</span>;											<span class="comment">//It's blank!</span></span><br><span class="line">					<span class="keyword">case</span> HEX:<span class="keyword">case</span> DEC:<span class="keyword">case</span> REG:</span><br><span class="line">						<span class="built_in">strncpy</span>(tokens[nr_token].str, e + <span class="built_in">position</span> - substr_len, substr_len);<span class="comment">//regs or number</span></span><br><span class="line">						tokens[nr_token].str[substr_len] = <span class="string">'\0'</span>;		<span class="comment">//add '\0', it's very important</span></span><br><span class="line">						<span class="comment">//WARNING: 64 may be a little small...</span></span><br><span class="line">					<span class="keyword">default</span>:</span><br><span class="line">						<span class="keyword">if</span>(rules[i].token_type == MINUS) &#123;	<span class="comment">//solve neg</span></span><br><span class="line">							<span class="keyword">if</span>(nr_token == <span class="number">0</span>) tokens[nr_token++].type = NEG;</span><br><span class="line">							<span class="keyword">else</span> <span class="keyword">if</span>(PLUS &lt;= tokens[nr_token - <span class="number">1</span>].type &amp;&amp; tokens[nr_token - <span class="number">1</span>].type &lt;= LB) &#123;</span><br><span class="line">								tokens[nr_token++].type = NEG;</span><br><span class="line">							&#125; <span class="keyword">else</span> tokens[nr_token++].type = MINUS;</span><br><span class="line">						&#125; <span class="keyword">else</span> <span class="keyword">if</span>(rules[i].token_type == STAR) &#123; <span class="comment">//solve pointer</span></span><br><span class="line">							<span class="keyword">if</span>(nr_token == <span class="number">0</span>) tokens[nr_token++].type = POINTER;</span><br><span class="line">							<span class="keyword">else</span> <span class="keyword">if</span>(PLUS &lt;= tokens[nr_token - <span class="number">1</span>].type &amp;&amp; tokens[nr_token - <span class="number">1</span>].type &lt;= LB) &#123;</span><br><span class="line">								tokens[nr_token++].type = POINTER;</span><br><span class="line">							&#125; <span class="keyword">else</span> tokens[nr_token++].type = STAR;</span><br><span class="line">						&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">							tokens[nr_token++].type = rules[i].token_type;	<span class="comment">//other	</span></span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					<span class="comment">//panic("please implement me");</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(i == NR_REGEX) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"no match at position %d\n%s\n%*.s^\n"</span>, <span class="built_in">position</span>, e, <span class="built_in">position</span>, <span class="string">""</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后我们需要需要将符号匹配的函数补全，函数提供了三个参数，表达式左侧指针l，右侧指针r，以及表示匹配结果的指针sucess，我们需要从左至右遍历token数组，检查其符号是否匹配，遍历的时候如果有左括号咋cnt加1，有右括号则将cnt减1，如果最终cnt不等于0则表示符号不匹配。如果i不等于r且cnt等于0时在表达式中有类似<code>()()</code>这种括号，需要将flag设置为0，否则则设为1。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check_parentheses</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">bool</span> *success)</span> </span>&#123;<span class="comment">//Check the parentheses, use stack.</span></span><br><span class="line">	*success = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> *success = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>, flag = <span class="number">1</span>, i;		<span class="comment">//A simple stack</span></span><br><span class="line">	<span class="keyword">for</span>(i = l;i &lt;= r; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(tokens[i].type == LB) ++cnt;</span><br><span class="line">		<span class="keyword">if</span>(tokens[i].type == RB) --cnt;</span><br><span class="line">		<span class="keyword">if</span>(cnt &lt; <span class="number">0</span>)	<span class="keyword">return</span> *success = <span class="literal">false</span>;<span class="comment">//Bad</span></span><br><span class="line">		<span class="keyword">if</span>(i != r &amp;&amp; cnt == <span class="number">0</span>) flag = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(cnt != <span class="number">0</span>) <span class="keyword">return</span> *success = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后我们需要将eval函数填充完，在expr函数中我们调用了make_token函数和eval函数，make_token来判断表达式的格式是否正确，而在eval中我们则需要对表达式进行求值，同check_parentheses函数一样，eval也接受同样三个参数。如果传入的参数l&gt;r则直接将success设为false返回，如果l==r，则需要判断表达式是否为十进制数，十六进制数或者寄存器，若为这其中一种，则返回，否则表达式无意义，返回success为false。</p>
<p>当l&gt;r的时候，则需要先调用check_parentheses函数进行符号判断，如果符号不匹配则直接将success设为false返回。接着判断flag是否为1（即没有类似<code>()()</code>这种括号），为1的情况下则清除左右括号进行递归。否则需要遍历表达式将括号删掉，并且解决优先级的问题。</p>
<p>我们遍历所有的tokens，将符号优先级进行比较，找到优先级最低的符号，设置为now，将now的左边和now的右边分开方便递归。由于取反，取负，指针解引用都是对单侧进行操作且优先级最高，所以需要单独拿出来进行讨论，而其他符号则是对now指针的双侧进行操作，所以需要分别将两侧表达式求值进行递归处理。</p>
<p>最后eval函数及expr函数代码如下:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">uint32_t</span> <span class="title">eval</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">bool</span> *success)</span> </span>&#123;</span><br><span class="line">	*success = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> *success = <span class="literal">false</span>;<span class="comment">// Bad Expression !!</span></span><br><span class="line">	<span class="keyword">if</span>(l == r)&#123;				<span class="comment">//It's a number or reg, otherwise bad expression</span></span><br><span class="line">		<span class="keyword">uint32_t</span> tmp;</span><br><span class="line">		<span class="keyword">if</span>(tokens[l].type == HEX) &#123;</span><br><span class="line">			<span class="built_in">sscanf</span>(tokens[l].str, <span class="string">"%x"</span>, &amp;tmp);</span><br><span class="line">			<span class="keyword">return</span> tmp;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span>(tokens[l].type == DEC) &#123;</span><br><span class="line">			<span class="built_in">sscanf</span>(tokens[l].str, <span class="string">"%d"</span>, &amp;tmp);</span><br><span class="line">			<span class="keyword">return</span> tmp;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span>(tokens[l].type == REG) &#123;	<span class="comment">//read register</span></span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(tokens[l].str + <span class="number">1</span>, <span class="string">"eax"</span>) == <span class="number">0</span>) <span class="keyword">return</span> cpu.eax;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(tokens[l].str + <span class="number">1</span>, <span class="string">"ecx"</span>) == <span class="number">0</span>) <span class="keyword">return</span> cpu.ecx;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(tokens[l].str + <span class="number">1</span>, <span class="string">"edx"</span>) == <span class="number">0</span>) <span class="keyword">return</span> cpu.edx;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(tokens[l].str + <span class="number">1</span>, <span class="string">"ebx"</span>) == <span class="number">0</span>) <span class="keyword">return</span> cpu.ebx;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(tokens[l].str + <span class="number">1</span>, <span class="string">"esp"</span>) == <span class="number">0</span>) <span class="keyword">return</span> cpu.esp;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(tokens[l].str + <span class="number">1</span>, <span class="string">"ebp"</span>) == <span class="number">0</span>) <span class="keyword">return</span> cpu.ebp;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(tokens[l].str + <span class="number">1</span>, <span class="string">"esi"</span>) == <span class="number">0</span>) <span class="keyword">return</span> cpu.esi;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(tokens[l].str + <span class="number">1</span>, <span class="string">"edi"</span>) == <span class="number">0</span>) <span class="keyword">return</span> cpu.edi;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(tokens[l].str + <span class="number">1</span>, <span class="string">"eip"</span>) == <span class="number">0</span>) <span class="keyword">return</span> cpu.eip;</span><br><span class="line">			<span class="keyword">return</span> *success = <span class="literal">false</span>; </span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> *success = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">bool</span> flag = check_parentheses(l, r, success);</span><br><span class="line">	<span class="keyword">if</span>(!success) <span class="keyword">return</span> <span class="number">0</span>;						<span class="comment">//Bad</span></span><br><span class="line">	<span class="keyword">if</span>(flag) <span class="keyword">return</span> eval(l + <span class="number">1</span>, r - <span class="number">1</span>, success);<span class="comment">//OK, remove parentheses</span></span><br><span class="line">	<span class="comment">//Now we should find the dominant token</span></span><br><span class="line">	<span class="keyword">int</span> now = <span class="number">-1</span>, type = <span class="number">0x3f3f3f3f</span>, cnt = <span class="number">0</span>, i;</span><br><span class="line">	<span class="keyword">for</span>(i = l; i &lt;= r; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span>(tokens[i].type == LB) ++cnt;</span><br><span class="line">		<span class="keyword">if</span>(tokens[i].type == RB) --cnt;</span><br><span class="line">		<span class="keyword">if</span>(cnt != <span class="number">0</span>) <span class="keyword">continue</span>;	<span class="comment">//In mathched parentheses, pass</span></span><br><span class="line">		<span class="keyword">if</span>(PLUS &lt;= tokens[i].type &amp;&amp; tokens[i].type &lt;= POINTER) &#123;</span><br><span class="line">			<span class="keyword">if</span>(type &gt;= PRE[tokens[i].type]) type = PRE[tokens[i].type], now = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	assert(now != <span class="number">-1</span>);</span><br><span class="line">	<span class="keyword">uint32_t</span> a, b;</span><br><span class="line">	<span class="comment">//solve '!'</span></span><br><span class="line">	<span class="keyword">if</span>(tokens[now].type &gt;= NOT) &#123;</span><br><span class="line">		<span class="comment">//if type&gt;=not, which means other token has been solved</span></span><br><span class="line">		<span class="comment">//so the first token must be NOT or NEG or POINTER</span></span><br><span class="line">		b = eval(l + <span class="number">1</span>, r, success);</span><br><span class="line">		<span class="keyword">if</span>(!(*success)) <span class="keyword">return</span> *success = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(tokens[l].type == NOT) <span class="keyword">return</span> !b;</span><br><span class="line">		<span class="keyword">if</span>(tokens[l].type == NEG) <span class="keyword">return</span> -b;</span><br><span class="line">		<span class="keyword">if</span>(tokens[l].type == POINTER) <span class="keyword">return</span> swaddr_read(b, <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">return</span> *success = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	a = eval(l, now - <span class="number">1</span>, success);</span><br><span class="line">	<span class="keyword">if</span>(!(*success))<span class="keyword">return</span> *success = <span class="literal">false</span>;</span><br><span class="line">	b = eval(now + <span class="number">1</span>, r ,success);</span><br><span class="line">	<span class="keyword">if</span>(!(*success))<span class="keyword">return</span> *success = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">if</span>(tokens[now].type == PLUS) <span class="keyword">return</span> a + b;</span><br><span class="line">	<span class="keyword">if</span>(tokens[now].type == STAR) <span class="keyword">return</span> a * b;</span><br><span class="line">	<span class="keyword">if</span>(tokens[now].type == DIV) <span class="keyword">return</span> a / b;	</span><br><span class="line">	<span class="keyword">if</span>(tokens[now].type == MINUS) <span class="keyword">return</span> a - b;</span><br><span class="line">	<span class="keyword">if</span>(tokens[now].type == EQ) <span class="keyword">return</span> a == b;</span><br><span class="line">	<span class="keyword">if</span>(tokens[now].type == NOTEQ) <span class="keyword">return</span> a != b;</span><br><span class="line">	<span class="keyword">if</span>(tokens[now].type == AND) <span class="keyword">return</span> a &amp;&amp; b;</span><br><span class="line">	<span class="keyword">if</span>(tokens[now].type == OR) <span class="keyword">return</span> a || b;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">uint32_t</span> <span class="title">expr</span><span class="params">(<span class="keyword">char</span> *e, <span class="keyword">bool</span> *success)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(!make_token(e)) &#123;</span><br><span class="line">		*success = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/* <span class="doctag">TODO:</span> Insert codes to evaluate the expression. */</span></span><br><span class="line">	<span class="comment">//panic("please implement me");</span></span><br><span class="line">	<span class="comment">//Calculate the value</span></span><br><span class="line">	<span class="keyword">return</span> eval(<span class="number">0</span>, nr_token - <span class="number">1</span>, success);<span class="comment">//call eval to calculate the value of expression e</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="监视点"><a class="markdownIt-Anchor" href="#监视点"></a> 监视点</h4>
<p>本题较简单，即用一个链表结构维护一个监视点池。即需要实现几个函数，初始化监视点池、新申请一个监视点，释放一个监视点，向监视点插入表达式等方法。</p>
<p>初始化监视点池即将监视点头结点设为空，空闲节点设为整个监视点池</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_wp_pool</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; NR_WP; i ++) &#123;</span><br><span class="line">		wp_pool[i].NO = i;</span><br><span class="line">		wp_pool[i].next = &amp;wp_pool[i + <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	wp_pool[NR_WP - <span class="number">1</span>].next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	head = <span class="literal">NULL</span>;</span><br><span class="line">	free_ = wp_pool;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>新申请一个监视点需要将head节点指向空闲节点，再将空闲节点指向其next节点</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">WP* <span class="title">new_wp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	assert(free_ != <span class="literal">NULL</span>);</span><br><span class="line">	WP* ans = free_;</span><br><span class="line">	free_ = ans-&gt;next;</span><br><span class="line">	ans-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>移除节点则需要将这个节点从链表中移除出去。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">removeNode</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(head == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span>(head-&gt;NO == id)&#123;</span><br><span class="line">		WP* tmp = head;</span><br><span class="line">		head = head-&gt;next;</span><br><span class="line">		wp_free(tmp);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	WP* now = head;</span><br><span class="line">	<span class="keyword">while</span>(now-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span>(now-&gt;next-&gt;NO == id) &#123;</span><br><span class="line">			WP* tmp = now-&gt;next;</span><br><span class="line">			now-&gt;next = now-&gt;next-&gt;next;</span><br><span class="line">			wp_free(tmp);</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		now = now-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在ui.c的函数中只需要读入参数，调用这些维护监视点池的函数即可。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>汇编</tag>
        <tag>CSAPP</tag>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title>魏晋之际的政治格局简论</title>
    <url>/2020/07/29/1/</url>
    <content><![CDATA[<p>关于东晋之际的门阀政治体系，被视为变态、畸形发展的政治体系，但其出现并非空穴来风。</p>
<p>其一，东汉末年，士人清议之风盛起，出现了匹夫抗愤，处士横议的局面，士人之间互相品题、共相标榜成为一时风气，普通士人一旦为名士所赞赏、品题，便如登龙门，身价倍增，千里求名之举亦不鲜见。尽管汉末党锢之祸对于士人清议进行了严酷镇压，但却加强了士人群体身份的认同，构成汉晋时代“士的觉醒”的重要面向。后来随着一系列事件，此时进入三国鼎立时代。其时曹魏举荐人才的主要方式之一便是名士品评、提携同郡士人，例如当时司马懿曾被同郡河内杨俊、清河崔琰所举荐。通过互相的举荐和品评，可以加强同乡同郡之间的家族关系，并且品评人和被品评人也可以在朝廷中为自己增加政治资源。例如，《三国志.杨俊传》中写道：</p>
<blockquote>
<p>黄初三年，车驾至宛，以市不丰乐，发怒收（杨）俊。尚书仆射司马宣王、常侍王象、荀纬请俊，叩头流血，帝不许。俊曰：“吾知罪矣。”遂自杀，众冤痛之。</p>
</blockquote>
<a id="more"></a>
<p>司马懿、王象、荀纬三人皆为河内人，自然不是一种巧合，体现出同乡官僚在政治上互相支持与提携。其时家族之间的互相品评、联姻，来上升或者加固大族的地位并且由此进行入仕，这无疑可以看做是魏晋时期阶级固化的一个重要原因。</p>
<p>其二，魏晋嬗代发生在三国鼎立之际，其时魏国仍然强敌环伺，蜀将姜维频频北伐。所以魏晋嬗代之际不可能进行大规模的政治清洗。例如高平陵事变，虽说“同日斩戮，名士减半”，但其所株连多是没有什么政治背景之人物。其时仍然大多曹魏元老仍然“心存曹氏”，大规模地进行政治清洗也会使曹魏功臣对司马氏心存憎恶，甚至可能进行政治变动，因此司马家族事实上并不具备大规模政治清洗的客观条件。而曹爽的改革正是由于开罪了曹魏功臣集团，才给司马懿带来了可乘之机。作为这场政治斗争的胜利者，曹爽的前车之鉴，对于司马家族而言显得格外深刻，这也使司马氏更加深切地认识到这些功臣贵戚子弟在曹魏政治中所具有的盘根错节、不可低估的整治潜力。因此，拉拢而不是打击曹魏贵戚子弟成为了司马氏的既定策略，这些曹魏贵戚子弟只要在政治上表示支持司马氏，无论是主动还是勉强，甚至是被迫，只要对司马氏家族专权的局面表示默认，司马氏一般都予以宽容。</p>
<p>因此，在曹爽败亡后，司马懿只是对与其关系最密切的何宴、邓飏、丁谧、李胜等人痛下杀手，而对于曹爽阵营里的声望最高的夏侯玄仅以闲职处之。因此，司马懿上台后的政治诛杀，表面上看来株连不少，但除了曹爽一支外，并没有损害曹魏政权中原有的的权势网络。很多士人虽然曾仕于曹爽，但很多并未遭到株连和问责，很多后来都逐渐转变为司马氏之臣，甚至贾充还成为了司马氏的心腹。</p>
<p>其三，各个世家大族通过品评、联姻等方式进行家族之间的联合，逐渐成为了地域与文化乃至政治方面的认同。出身世家的士人看不起出身寒微之人，对他们在政治上屡加排挤。而由于宗室、功臣形成了一股政治平衡，根基未稳的司马氏亦不敢开罪世家大族。</p>
<p>例如，曹魏在伐蜀战役中，根据钟会的谋划，魏军最初的战略意图是发动一个钳形攻势：钟会统帅伐蜀部队的主力十余万，从骆谷、斜谷的大路进取汉中；邓艾与诸葛绪各统军三万人从陇西进攻，进行战略牵制。邓艾进取甘松、沓中阻挠姜维的行动，诸葛绪进占武街、桥头切断姜维的退路，前后夹击，阻止姜维退向汉中，以使钟会率领魏军主力能够迅速占领汉中，打开进攻成都的通道。但由于诸葛绪在行动上的犹豫，差了一日的行程而未能阻截到姜维，姜维得以成功地从桥头突破，引军退往剑阁，依仗天险，与钟会率领的魏军主力相持。按照原计划的安排，邓艾本来应该和诸葛绪一样，引军东向，与钟会率领的主力会师，因为在伐蜀战役中，虽然名义上是“诏诸君伐蜀，皆指授节度”，但实际上钟会是这场战役的真正领导者。但由于姜维已抢先一步退往剑阁，据险防守，魏军原来的战略意图已无实现的可能，邓艾向东与钟会会师，并无实际意义。</p>
<p>因此邓艾决定改走阴平小路，穿越七百里的无人山地，绕过姜维所驻守的剑阁，直取成都。邓艾果敢的军事行动使他统帅的这支偏师立下灭蜀的首功。但是由于邓艾此举的确违背了事先的计划，尽管他在行动前曾上言司马昭，但却并没有知会钟会，钟会作为这次伐蜀战役的策划者与领导者，最终却无功而返，这对于一向骄傲自满的钟会而言无疑是个不小的挫折，钟会是一个权力欲和报复心强的人。并且由于邓艾在灭蜀之后专擅独行，“辄依邓禹故事，承制拜刘禅行骠骑将军，太子奉车、诸王驸马都督。蜀群司各随高下拜为王官，或领艾官署。以师纂领益州刺史，陇西太守牵弘等领蜀中诸郡”，在处理善后事宜时，丝毫没有征询钟会等人的意见，使得邓艾钟会的关系迅速破裂，于是钟会、卫瓘向司马昭献言，致使邓艾及其子被杀，其子弟皆流放边境。然而钟会谋反之罪，只株连了直系子弟，颍川钟氏地位受影响则有限，而邓艾仅仅以专擅之罪，不仅祸及家族，就连后来为其平反都困难重重。</p>
<p>《三国志.邓艾传》中写道：</p>
<blockquote>
<p>泰始元年，晋室践祚，诏曰：“昔太尉王淩谋废齐王，而王竟不足以守卫。征西将军邓艾，矜功失节，实应大辟。然被书之日，罢遣人众，束手受罪，比于求生遂未恶者，诚复不同。今大赦得还，若无子孙者听使立后，令祭祀不绝。</p>
</blockquote>
<p>赦免在魏末反对司马氏诸人的后裔，是西晋立国之后争取人心的一项举措。准许给邓艾立后，便是其中的一部分，但在诏书中依然强调“矜功失节，实应大辟”。在邓艾“悖逆”的罪名无法成立的情况下，依然认为邓艾之死是罪有应得，更为奇怪的是诏书将邓艾与王淩归为一类加以处置。王淩是试图推翻司马懿执政地位的人物，对于司马氏政权来说，其罪孽无疑要比邓艾深重得多，但根据诏书的解释，王淩当年谋废齐王芳之举，因为后来齐王芳本人被司马师所废，竟然变成了一次政治正确的举动，显然这是司马氏为了减轻王淩的罪责而特意发明的借口。司马氏为什么急于给反对过自己的王淩平反，而对为司马氏立下大功的邓艾却如此吝啬？其根本原因恐怕在于，王淩本人与司马氏家族及西晋官僚集团有着很深的渊源，其子王广亦是名士，王淩、王广虽被杀，但是他们的故旧殷勤依然是司马氏需要倚重的力量。这也可以解释为何晋武帝不惜屈尊降节，亲自前往琅琊王妃处见诸葛诞之子诸葛靓，与之修好。嫁给琅琊王司马伷的诸葛靓之姊，为其子司马觐取字为思祖，其所思者正为其外祖诸葛诞，这几乎是公开向司马氏叫板，而武帝依然不以为忤。因为诸葛诞同样也是魏末人士的领袖，琅琊诸葛氏更是一个在汉晋之际具有广泛影响力的名门望族。同样是涉及淮南叛乱，司马氏却从来没有想到为毋丘俭平反，在此厚此薄彼的背后有着非常微妙的政治考量。</p>
<p>而后来的石苞、王濬、张华等人皆出身寒微，其政治遭遇也与邓艾类似。</p>
<p>由此可见，魏晋虽然经历了由曹氏入司马氏的转变，但实际上由于司马氏并没有进行大规模政治清洗的条件，所以必须不断同世家大族进行妥协，并且，由于晋朝沿用了曹魏的制度，使得朝中政治门阀盘根错节，世家大族在文化、政治层面上均实现了认同，对于寒门士子多加排斥，抹杀了寒门士子的晋升之路，因此西晋刚刚建国，却显得垂垂老矣。虽然晋武帝司马炎在平吴后建立事功，声望大涨，并引入外戚弘农杨氏来抗衡宗室与功臣。但其坚决要将齐王司马攸外徙，使得宗室中两位最具才望的藩王司马攸、司马骏忿恨而死，重臣羊琇、向雄忧愤而卒；郑默、曹志等九人被免官。使得本来就盘根错节的政治局势更加动荡不安。由于晋武帝引入、培育外戚，使得其死后杨骏矫诏夺权，虽然其在夺权之后，对于功臣多加优渥对待，但由于世家大族均对杨氏心存不满，这些举措也并未收买到人心。朝中上下的不满情绪被皇后贾妃利用，使得贾后得以发动政变，尽诛杨氏一族。同时又由于贾后擅杀太子司马燏，使得宗室震怒，赵王司马伦由此入京，几百年动乱的大乱局由此肇始。</p>
]]></content>
      <categories>
        <category>历史</category>
      </categories>
      <tags>
        <tag>魏晋</tag>
      </tags>
  </entry>
  <entry>
    <title>使用管道代替循环</title>
    <url>/2020/07/07/1/</url>
    <content><![CDATA[<p>在《重构》这本书里提到了一个改善程序的方法，“以管道取代循环（Replace Loop with Pipeline）”。</p>
<a id="more"></a>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> names=[];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> i <span class="keyword">of</span> input)&#123;</span><br><span class="line">	<span class="keyword">if</span>(i.job===<span class="string">"programmer"</span>)</span><br><span class="line">		names.push(i.name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> names=input.filter(<span class="function"><span class="params">i</span> =&gt;</span> i.job===<span class="string">"programmer"</span>).map(<span class="function"><span class="params">i</span>=&gt;</span>i.name);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nums=[<span class="number">10</span>,<span class="number">20</span>,<span class="number">111</span>,<span class="number">222</span>,<span class="number">444</span>,<span class="number">40</span>,<span class="number">50</span>];</span><br><span class="line"><span class="keyword">let</span> total=nums.filter(<span class="function"><span class="params">n</span>=&gt;</span>n&lt;<span class="number">100</span>).map(<span class="function"><span class="params">n</span>=&gt;</span>n*<span class="number">2</span>).reduce(<span class="function">(<span class="params">pre,n</span>)=&gt;</span>pre+n);</span><br><span class="line"><span class="built_in">console</span>.log(total);</span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line"><span class="number">240</span></span><br></pre></td></tr></table></figure>
<p>集合管道（collection pipeline）允许使用一组运算来描述集合的迭代过程，其中每种运算接受的入参和返回值都是一个集合。这类运算有很多，map是指用一个函数作用于输入集合的每一个元素，将集合变换成另一个集合；filter运算时指用用一个函数从输入集合筛选出符合条件元素子集的过程。运算得到的集合可以供管道的后续流程使用；而reduce运算是通过输入做一个数组，最后经过进行汇总运算最后输出一个值。</p>
<p>在许多不同的语言中也有函数式编程的方法。</p>
<p>例如在php中：</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> $nums=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">count</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $nums=<span class="keyword">$this</span>-&gt;nums;</span><br><span class="line">        $result=array_reduce(array_map(<span class="function"><span class="keyword">function</span> <span class="params">($num)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> $num*$num;</span><br><span class="line">        &#125;,array_filter($nums,<span class="function"><span class="keyword">function</span> <span class="params">($num)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> $num &gt;= <span class="number">5</span>;</span><br><span class="line">        &#125;)),<span class="function"><span class="keyword">function</span> <span class="params">($preValue,$num)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> $preValue+$num;</span><br><span class="line">        &#125;,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">echo</span> $result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $test=<span class="keyword">new</span> Test();</span><br><span class="line">    $test-&gt;count();</span><br><span class="line">&#125;</span><br><span class="line">main();</span><br><span class="line">-----------------------------------------------------------------------------------------</span><br><span class="line"><span class="number">110</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>函数式编程</tag>
        <tag>重构</tag>
      </tags>
  </entry>
  <entry>
    <title>颂歌</title>
    <url>/2020/07/06/1/</url>
    <content><![CDATA[<p>多年以后，当他躺在一张逼仄的床上，岁月的痕迹无情地刻在他的脸上，浑浊的老眼已经迷瞪地无法睁开的时候，他依然清楚地记得，在他三十三岁那年，他从一场噩梦中惊醒，回忆起很久以前的往事。</p>
<a id="more"></a>
<p>那时他睡的床还很大、很舒服，他的生活很考究，他的床单、被罩、床垫、枕巾无一不是最好、最贵的。他的客厅里焚着名贵的香料，这大概已经是古人所用的东西，但他却偏偏喜欢。在每晚睡前，他都会点上香料，他认为香料可以帮他入眠，他是一个严重的失眠者，尽管他每天都看起来精神饱满，面带着笑容。</p>
<p>但不可避免，淡淡的幽香总会使他联想到一切受阻的事情，但这种事情好像永远也无法同他联系起来。再过几天，一件也许是他命运中最重要的事情将会发生，他将成为公司里最为年轻的合伙人。这个每个具有理想的年轻人梦寐以求的事情，，在他这里仿佛是唾手可得。但他却并不十分高兴，在满屋氤氲的香气中，他甚至闻到了苦杏仁的味道。</p>
<p>那大概是很久很久以前的事情了，他大概已经把她的模样忘却了，但总有一根像是浸了水的绸带绑在他的心上，他愈是挣扎，这绸带便缚的愈紧，就同他的失眠一般，越是努力地想要入眠，却又偏偏更加心烦迷乱。</p>
<p>“你应当知道，这件事情已经永远无法更改了”，他的朋友笑了笑，把身体向后靠了靠“像我们这样年龄的人应该很清楚，爱情不过是青春的把戏，它只能够使得人们获得一时的欢愉，但却永远无法真正的幸福，在爱情的蜜月期过后，留下的无非是油盐酱醋与满地鸡毛，人类同动物没什么区别，就像猴子一样，它站在悬崖的一边，巴望着悬崖另一边的桃子，当它得到了那个桃子，却又去巴望着更远处的另一个桃子了。即使是最幸福的婚姻，一生中也会有200次离婚的念头和50次掐死对方的想法。”</p>
<p>他叹了口气，“在我生命中的抉择中，我每一次都选择了理性。但假若有再来一次的机会的话，我宁愿换一种活法。”</p>
<p>他的朋友突然眯起眼睛，露出了神秘的笑容，“不，你依然会如此选择。”</p>
<p>在他年轻的时候，他喜欢别人的颂歌。尤其是当他考了年级第一的时候，看到别人对他敬佩且歆羡的眼神，听到别人对他的赞美与谀词，他都会真正地感到高兴。他是一个有雄心壮志的人，在与同龄的小孩子还在外面疯玩的时候，他已经在家里静静地阅读同他的年龄超前许多的东西。他是一个极具理性的人，当每次发生自己喜欢的任何东西与自己的理想相冲突的时候，他总会毫不犹豫地去选择自己的理想，但除了那个女孩。</p>
<p>他仍然记得，在很长的一段时期里，天真的未经爱情驯化的少年开始了他孤独狩猎者的生涯。从早七点起，他就独自一人坐在花园里一条不易被发现的长椅上，在杏树的树荫下假装读一本诗集，直到看见那位美丽的姑娘的经过。她身着淡蓝色的短裙，带吊袜带的长袜一直拉到膝头，一头青丝似的长发从后背垂直腰间，她昂首挺胸，目不斜视，步履轻快，鼻翼微收，她就像一头小鹿一样，走起路来有一种天生的骄傲。慢慢地，他将她理想化了，把一切不可能的美德和想象中的情感全都归属于她。他特意去买了精美的信纸与信封，在信纸上满满当当写了几千字的情书，这全部都源于他因阅读而积累的词句。</p>
<p>他除了她什么都不想了，他想将这封信偷偷地去交给她，却又偏偏患得患失，他整夜整夜地失眠，努力地使自己不去想这件事情，可这件事情却又偏偏不断地冒出心头。终于，他狠下心肠，理性又占了上风，他努力地去将她身上的光环一点点褪去，将她的美好品德忘却，幻想出她的不堪，以此来增加自己对她的厌恶之情，藉此来忘掉这件事情，他期待这种情愫就像石沉大海一样，无法再去波动他的情绪。是的，的确如此，他强大的理性使得他又可以一心一意地去追逐理想了，但在此之后他不再那么喜欢别人的颂歌了，他也逐渐变得不那么十分的高兴，他人的颂歌在他听来仿佛有了些讽刺的意味。</p>
<p>他仍然记得在高考后出分的那个晚上，他的父母从所未有的高兴，他们家的亲戚朋友轮番地来赞扬他，但他却只觉得吵闹。</p>
<p>在很长一段时间里，他都会早早地躺在床上，将手边的书放在壁橱上，将手边的灯关上，随即合上了眼皮，他在心里不断地咕哝着，“我就要睡着了”，可这种心理暗示不但毫无效果，反而使他更加的清醒了，他开始对夜晚一切微小的声音十分的敏感，钟表的震动声，窗外的车鸣声，夜鸟的振翅声。天地无此静穆，但也无此吵闹。他的脑子里又开始回放起一首首已经记不得名字的歌曲，虽然记不得名字，但旋律却格外清晰，他清楚地明白自己曾经一定非常地喜欢它们，但却偏偏记不得了。他头痛欲裂，坐起身来，拨开不透一丝光亮的窗帘，望向窗外，外面灯光微茫，偶尔有夜行的汽车驶过。他无法入眠，在昏暗的客厅里缓缓踱步，过一会儿便又坐在客厅的沙发上，紧紧盯着钟表秒针的震动。</p>
<p>后来，他又习惯了晚睡，这倒是可以使他快速入眠，不过，这倒又使得他做上了梦。在梦里，他又回到了儿时的那个应有尽有的花园去玩耍，在魔毯的承载下上天入地，他总是回忆起从前的事情，在天蒙蒙亮，乍醒过来的时候，他甚至忘记了自己是谁，他的身体姿势同平时的睡态大相径庭，仿佛他一抬手间，就可以让太阳停止运行，甚至后退，他觉得自己又是个拥有超能力的小孩子了，但刹那间的恍惚过后，他又知道自己不是。</p>
<p>今天就是他生命中极为重要的一天了，他将要成为这所上市公司的合伙人。他望向窗外，外面淅淅沥沥地滴着几滴雨点，在一场暴风雨过后，行人们又开始逐渐多了起来，他忽然心中一动，“她这时候在做什么呢？”，面对着无数的歌颂与赞美，他勉强挤出了一丝笑容，同他们握手、致谢，但他心中却厌烦无比，他不断地望向窗外，他看见了，雨停了，太阳出来了，云彩变白了。但他，想去云的彼端。</p>
<p>现在，他闭上浑浊的双眼，心里扫过往事，他至今已经明白他朋友的那个神秘的笑容是什么意味，但他仍然想，如果他死后可以不喝孟婆汤的话，他一定要换个活法。</p>
<p>（全文完）</p>
]]></content>
      <categories>
        <category>小说</category>
      </categories>
      <tags>
        <tag>爱情</tag>
        <tag>人生</tag>
      </tags>
  </entry>
  <entry>
    <title>深入理解Laravel</title>
    <url>/2020/06/28/1/</url>
    <content><![CDATA[<p><img src="/2020/06/28/1/deep-understanding-of-laravel%5Claravel.png" alt></p>
<a id="more"></a>
<h2 id="组件化开发与composer"><a class="markdownIt-Anchor" href="#组件化开发与composer"></a> 组件化开发与composer</h2>
<h3 id="composer"><a class="markdownIt-Anchor" href="#composer"></a> composer</h3>
<h4 id="组件安装"><a class="markdownIt-Anchor" href="#组件安装"></a> 组件安装</h4>
<h4 id="自动加载"><a class="markdownIt-Anchor" href="#自动加载"></a> 自动加载</h4>
<p>PSR-0和PSR-4标准</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"autoload"</span>:&#123;</span><br><span class="line">		<span class="attr">"psr-4"</span>:&#123;<span class="attr">"APP\\"</span>:<span class="string">"app/"</span></span><br><span class="line">				 <span class="string">"BPP\\"</span>:<span class="string">"bpp/"</span></span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="文件包含"><a class="markdownIt-Anchor" href="#文件包含"></a> 文件包含</h4>
<p><strong>include和require关键字</strong></p>
<p>include和require关键字用于包含并运行指定文件。两者作用几乎一样，只是处理失败的方式不同，require在出错时会导致脚本程序运行终止，而include只是发出警告，而脚本程序会继续运行。</p>
<h4 id="类的自动加载"><a class="markdownIt-Anchor" href="#类的自动加载"></a> 类的自动加载</h4>
<p>类的自动加载可以通过魔术方法__autoload(string $class)实现，也可以通过函数spl_autoload_register注册一个自动加载方法，相应实例如下：</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">__autoload</span><span class="params">($class)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">require_once</span>($class.<span class="string">".php"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当使用一个类名时，如果该类没有被当前文件包含，则会自动调用————autoload魔术方法。但在实际应用中，通常使用spl_autoload_register注册自动以德函数作为自动加载类的实现，因为__autoload()魔法函数只可以定义一次，而spl_autoload_register可以将多个类自动加载方法注册到队列。</p>
<p>在Laravel框架中，通过函数spl_autoload_register()实现类自动加载函数的注册，其中 类的自动加载函数队列中包含了两个类的自动加载函数，一个是composer生成的基于PSR 规范的自动加载函数，另一个是Laravel框架核心别名的自动加载函数。下面将给出Laravel 框架中的部分代码，进而介绍该框架下类的自动加载过程。这里Laravel框架所在根目录为 “laravel”，其中composer生成的自动加载函数注册过程如下：</p>
<p>文件：laravel\public\index.php</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    require __DIR__.*&#x2F;..&#x2F;bootstrap&#x2F;autoload.php;</span><br><span class="line">	laravel\bootstrap\autoload.php</span><br></pre></td></tr></table></figure>
<p>文件： laravel\bootstrap\autoload.php</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">define (<span class="string">' LARAVEL_START'</span>, microtime (<span class="keyword">true</span>));</span><br><span class="line"><span class="keyword">require</span> <span class="keyword">__DIR__</span>.<span class="string">'/・・/vendor/autoload.php1;</span></span><br></pre></td></tr></table></figure>
<p>在Laravel框架中，public\index.php文件为请求的入口文件，其中第一句便是包含启 动文件夹下的自动加载的文件，而该文件继续包含vendor目录下的自动加载文件，其中 vendor目录是composer生成的依赖包目录，而内部的自动加载文件也是composer生成的， 用于自动加载依赖包中的所有文件。下面简单介绍composer生成的类自动加载函数是如何 实现的。</p>
<p>文件：laravel\vendor\autoload.php</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">require_once __DIR__ . &#39;&#x2F;composer&#39; . &#39;&#x2F;autoload_real.php&#39;;</span><br><span class="line">return ComposerAutoloaderInit99123d508294c719fdcf537b9ee84731 ::getLoader();</span><br></pre></td></tr></table></figure>
<p>文件:laralvel\vendor\composer\ autoload_real.php</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComposerAutoloaderInit99123d508294c719fdcf537b9ee84731</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> $loader;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">loadClassLoader</span><span class="params">($class)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (*Composer\Autoload\ClassLoader === $class) </span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">require</span> <span class="keyword">__DIR__</span> .<span class="string">'/ClassLoader.php'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getLoader</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">null</span> !== <span class="keyword">self</span>::$loader) &#123;</span><br><span class="line">					<span class="keyword">return</span> <span class="keyword">self</span>::$loader;</span><br><span class="line">                &#125;</span><br><span class="line">				spl_autoload_register(<span class="keyword">array</span>(<span class="string">'ComposerAutoloaderInit99123d508294c719fdcf53</span></span><br><span class="line"><span class="string">7b9ee84731'</span>z <span class="string">'loadClassLoaderr), true, true);</span></span><br><span class="line"><span class="string">		self::$loader = $loader = new \Composer\Autoload\ClassLoader();</span></span><br><span class="line"><span class="string">		spl_autoload_unregister(array('</span>ComposerAutoloaderInit99123d508294c719fdef</span><br><span class="line"><span class="number">537</span>b9ee84731<span class="string">', '</span>loadClassLoader1));</span><br><span class="line">			$map = <span class="keyword">require</span> <span class="keyword">__DIR__</span> . */autoload_namespaces.phpr;</span><br><span class="line">		<span class="keyword">foreach</span> ($map <span class="keyword">as</span> $namespace =&gt; $path) &#123;</span><br><span class="line">				$loader-&gt;set($namespacer $path);</span><br><span class="line">			&#125;</span><br><span class="line">			$map = <span class="keyword">require</span> <span class="keyword">__DIR__</span> . <span class="string">'/autoload_psr4.php'</span>;</span><br><span class="line">		<span class="keyword">foreach</span> ($map <span class="keyword">as</span> $namespace =&gt; $path) &#123;</span><br><span class="line">				$loader-&gt;setPsr4($namespacer $path);</span><br><span class="line">			&#125;</span><br><span class="line">		$classMap = <span class="keyword">require</span> <span class="keyword">__DIR__</span> ・•/autoload_classmap.php1;</span><br><span class="line">		<span class="keyword">if</span> ($classMap) &#123;</span><br><span class="line">				$loader-&gt;addClassMap($classMap);</span><br><span class="line">			&#125;</span><br><span class="line">		$loader-&gt;register(<span class="keyword">true</span>) ;	<span class="comment">//注册类自动加载函数</span></span><br><span class="line">		$includeFiles = <span class="keyword">require</span> <span class="keyword">__DIR__</span> .<span class="string">'/autoload_files.php'</span>;</span><br><span class="line">		<span class="keyword">foreach</span> ($includeFiles <span class="keyword">as</span> $file) &#123;</span><br><span class="line">				composerRequire99123d508294c719fdcf537b9ee84731($file);</span><br><span class="line">				&#125;</span><br><span class="line">		<span class="keyword">return</span> $loader;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">composerRequire99123d508294c719fdcf537b9ee84731</span><span class="params">($file)</span></span>&#123;</span><br><span class="line">		<span class="keyword">require</span> $file;</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（后面太多了不想拷贝了）</p>
<h2 id="laravel框架中的设计模式"><a class="markdownIt-Anchor" href="#laravel框架中的设计模式"></a> Laravel框架中的设计模式</h2>
<h3 id="服务容器"><a class="markdownIt-Anchor" href="#服务容器"></a> 服务容器</h3>
<h4 id="依赖和耦合"><a class="markdownIt-Anchor" href="#依赖和耦合"></a> 依赖和耦合</h4>
<h4 id="工厂模式"><a class="markdownIt-Anchor" href="#工厂模式"></a> 工厂模式</h4>
<h4 id="ioc模式"><a class="markdownIt-Anchor" href="#ioc模式"></a> IOC模式</h4>
<p>IoC (Inversion of Control)模式又称依赖注入 (Depe-ndency Injection )模式。控制反转是将组件间的依赖关系从程序内部提到外部容器 来管理，而依赖注入是指组件的依赖通过外部以参数或其他形式注入，两种说法其实本质上 是一个意思。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Traverller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $trafficTool;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Visit $trafficTool)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;trafficTool=$trafficTool;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">vistTibet</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;trafficTool-&gt;go();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//生成以来的交通工具实例</span></span><br><span class="line"></span><br><span class="line">$trafficTool = <span class="keyword">new</span> Leg();</span><br><span class="line"><span class="comment">//依赖注入的方式解决依赖问题</span></span><br><span class="line"></span><br><span class="line">$tra=<span class="keyword">new</span> Traveller($trafficTool);</span><br><span class="line">$tra-&gt;visitTibet();</span><br></pre></td></tr></table></figure>
<h3 id="请求处理管道"><a class="markdownIt-Anchor" href="#请求处理管道"></a> 请求处理管道</h3>
<p>上面已经解决了 Laravel框架中一个关键技术，就是利用服务容器和服务提供者解决依 赖注入及资源获取的功能，有了它就可以随时获取需要的服务，实现想要的功能。但对于服 务器来说，真正要实现的功能是处理输入的请求，并将生成的响应输出给客户端，而在处 理请求的过程中需要经历很多处理步骤，这些步骤需要做到松耦合，可以随时在这些步骤 中间添加新的处理功能而使改动尽可能小，通过源码的注解，设计者将其比喻成“洋葱”， 像它一样分很多层，每一层具有一定的功能，可以随时添加或修改这些层，而官方文档中将 这些层称为中间件，通过这些中间件使得程序的可扩展性大大增强。这里，其实使用的是一 种装饰者模式，只是PHP特有的编程方式使得其形式发生变化，下面我们就逐步揭开它的 面纱。</p>
<h4 id="装饰者模式"><a class="markdownIt-Anchor" href="#装饰者模式"></a> 装饰者模式</h4>
<p>装饰者模式是在开放一关闭原则下实现动态添加或减少功能的一种方式。以Laravel框 架为例，在解析请求生成响应之前或之后需要经过中间件的处理，主要包括验证维护模式、 Cookie加密、开启会话、CSRF保护等，而这些处理有些是在生成响应之前，有些是在生成 响应之后，在实际开发过程中有可能还需要添加新的处理功能，如果在不修改原有类的基础 上动态地添加或减少处理功能将使框架可扩展性大大增强，而这种需求正好可以被装饰者模 式解决。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Decorator</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XiaoFang</span> <span class="keyword">implements</span> <span class="title">Decorator</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> $name;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">$this</span>-&gt;name = $name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">"我是"</span>. <span class="keyword">$this</span>-&gt;name .<span class="string">"我出门了！ ！ ！ "</span> . <span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Finery</span> <span class="keyword">implements</span> <span class="title">Decorator</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> $component;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Decorator $component)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">$this</span>-&gt;component = $component;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">$this</span>-&gt;component-&gt;display();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shoes</span> <span class="keyword">extends</span> <span class="title">Finery</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">"穿上鞋子"</span>.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">		<span class="keyword">parent</span>::display();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Skirt</span> <span class="keyword">extends</span> <span class="title">Finery</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">echo</span> ”穿上裙子 n. r&lt;br&gt;*;</span><br><span class="line">		<span class="keyword">parent</span>::display();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fire</span> <span class="keyword">extends</span> <span class="title">Finery</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">echo</span><span class="string">'出门前先整理头发'</span>.<span class="string">'&lt;br&gt;'</span>;</span><br><span class="line">		<span class="keyword">parent</span>::display();</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">'出门后再整理一下头发'</span> . <span class="string">'&lt;br&gt;'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">$xiaofang = <span class="keyword">new</span> XiaoFang (<span class="number">1</span> 小芳 <span class="number">1</span>);</span><br><span class="line">$shoes = <span class="keyword">new</span> Shoes($xiaofang);</span><br><span class="line">$skirt = <span class="keyword">new</span> Skirt($shoes);</span><br><span class="line">$fire = <span class="keyword">new</span> Fire ($skirt);</span><br><span class="line">$fire-&gt;display ();</span><br><span class="line">输出：</span><br><span class="line">岀门前先整理头发</span><br><span class="line">穿上裙子</span><br><span class="line">穿上鞋子</span><br><span class="line">我是小芳，我出门了</span><br><span class="line">出门后再整理一下头发</span><br></pre></td></tr></table></figure>
<p>我们假设小芳接到一个电话算是请求，而小芳出门是对请求的响应，那么在小芳出门 前后要对自己进行打扮，对应于Laravel框架中，这些打扮的步骤就相当于中间件的功能， 而小芳出门是对请求的真正响应。在小芳打扮的过程中，可以随时增加新的打扮类，只要该 类继承Finery类（装饰类）并调用父类的同名方法，就可以在实现时重新组织打扮过程，实 现打扮步骤的增加或减少，例如加一件衣服、化个妆等。这就是装饰者模式的应用场景。</p>
<p>上面的输岀内容是Laravel框架对请求处理的部分流程，这里面大部分与上一节中装饰 者模式形式相似，但通过回调函数生成整个处理流程的过程还是比较难以理解。这里给一个 简单的实例用于理解，代码如下：</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Step</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">go</span><span class="params">(Closure $next)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FirstStep</span> <span class="keyword">implements</span> <span class="title">Step</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">go</span><span class="params">(Closure $next)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">"开启 session,获取数据"</span>.<span class="string">'&lt;br&gt;'</span>;</span><br><span class="line">		$next ();</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">"保存数据,关闭 session"</span>.<span class="string">'&lt;br&gt;'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;	</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">goFun</span><span class="params">($step, $className)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">()</span> <span class="title">use</span><span class="params">($stepx $className)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> $className::go($step);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">then</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	$steps = [MFirstStepn];</span><br><span class="line">	$prepare = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;<span class="keyword">echo</span> <span class="string">"请求向路由器传递，返回响应"</span>；&#125;</span><br><span class="line">	$go = array_reduce($steps, ngoFunH, $prepare);</span><br><span class="line">	$go()；</span><br><span class="line">&#125;</span><br><span class="line">then ();</span><br><span class="line">输出：</span><br><span class="line">开启session，获取数据</span><br><span class="line">请求向路由器传递，返回响应</span><br><span class="line">保存数据，关闭session</span><br></pre></td></tr></table></figure>
<h2 id="请求到响应的生命周期"><a class="markdownIt-Anchor" href="#请求到响应的生命周期"></a> 请求到响应的生命周期</h2>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>后端开发</tag>
        <tag>Laravel</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker学习笔记</title>
    <url>/2020/06/27/1/</url>
    <content><![CDATA[<p><img src="/2020/06/27/1/docker.png" alt></p>
<a id="more"></a>
<h2 id="docker是什么"><a class="markdownIt-Anchor" href="#docker是什么"></a> Docker是什么</h2>
<p>将程序、开发环境、配置打包放到一个容器中，不需要在部署时进行环境的配置。解决了运行环境和配置问题软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术。</p>
<p>Docker是基于Go语言实现的云开源项目。</p>
<p>Docker的主要目标是“Build，Ship and Run Any App，Anywhere”，也就是对应用组件进行封装、分发、部署、运行等生命周期的管理，使用户的APP（可以是一个WEB应用或数据库应用等等）及其运行环境能够做到“一次封装，到处运行”。</p>
<p><strong>Docker包含两方面技术：</strong></p>
<p>镜像技术：“镜像即应用”，（运行文档、配置环境、运行环境、运行依赖包、操作系统发行版、内核）</p>
<h2 id="docker能做什么"><a class="markdownIt-Anchor" href="#docker能做什么"></a> Docker能做什么</h2>
<h3 id="之前的虚拟机技术"><a class="markdownIt-Anchor" href="#之前的虚拟机技术"></a> 之前的虚拟机技术：</h3>
<p>虚拟机就是带环境安装的一种解决方案。</p>
<p>它可以在一种操作系统里面运行另一种操作系统，比如在Windows系统里面运行Linux系统。应用程序对此毫无感知，因为虚拟机看上去跟真实系统一模一样，而对于底层系统来说，虚拟机就是一个普通文件，不需要了就删掉，对其他部分毫无影响，这类虚拟机完美地运行了另一套系统，能够使应用程序，操作系统和硬件三者之间逻辑不变。</p>
<h3 id="容器虚拟化技术"><a class="markdownIt-Anchor" href="#容器虚拟化技术"></a> 容器虚拟化技术</h3>
<p>Linux发展出了另一种虚拟化技术：Linux容器（Linux Containers 简写为LXC）。</p>
<p><strong>Linux容器不是模拟一个完整的操作系统</strong>，而是对进程进行隔离。有了容器，就可以将软件运行时所需的所有资源打包到一个隔离的容器中。容器与虚拟机不同，不需要捆绑一整套操作系统，只需要将软件工作所需的库资源和设置。系统因此而变得高效轻量并保证部署在任何环境下的软件都能始终如一地运行。</p>
<h3 id="开发运维devops"><a class="markdownIt-Anchor" href="#开发运维devops"></a> 开发/运维（DevOps）</h3>
<p>开发者自己运维</p>
<p><strong>一次构建、随处运行</strong></p>
<h2 id="docker的安装"><a class="markdownIt-Anchor" href="#docker的安装"></a> Docker的安装</h2>
<h3 id="centos-docker安装"><a class="markdownIt-Anchor" href="#centos-docker安装"></a> CentOS Docker安装</h3>
<p>Docker支持以下的CentOS版本：</p>
<p>CentOS 7（64bit）</p>
<p>CentOS 6.5 （64bit）或更高版本</p>
<h3 id="前提条件"><a class="markdownIt-Anchor" href="#前提条件"></a> 前提条件</h3>
<p>目前，CentOS仅发行版中的内核支持Docker。</p>
<p>Docker运行在CentOS 7上，要求系统为64位，系统内核版本为3.10以上。</p>
<p>Docker运行在CentOS 6.5或更高版本的CentOS上，要求系统为64位，系统内核版本为2.6.32-431或者更高版本。</p>
<p>使用<code>uname -r</code>查看CentOS版本。</p>
<h3 id="docker的基本组成"><a class="markdownIt-Anchor" href="#docker的基本组成"></a> Docker的基本组成</h3>
<p><strong>镜像（image）<strong>就是一个</strong>只读</strong>的模板，镜像可以用来创建Docker容器，一个镜像可以创建很多容器。</p>
<p>**容器（container）**Docker利用容器独立运行的一个或一组应用。容器是镜像创建的运行实例。它可以被启动、开始、停止、删除。每个容器都是互相隔离的、保证安全的平台。</p>
<p>可以把容器看成是一个简易版的Linux环境（包括root用户权限、进程空间、用户空间和网络空间等）和运行在其中的应用程序。</p>
<p>容器的定义和镜像几乎一模一样，也是一堆层的统一视角，唯一区别在于容器的最上面那一层是可读可写的。</p>
<p>**仓库（repository）**是集中存放镜像文件的地方。仓库（repository）和仓库注册服务器（registry）是有区别的。仓库注册服务器上往往存放着多个仓库，每个仓库又包含了多个镜像，每个镜像有不同的标签（tag）。</p>
<h2 id="centos-7安装docker"><a class="markdownIt-Anchor" href="#centos-7安装docker"></a> CentOS 7安装Docker</h2>
<p><strong>使用命令查看CentOS的版本：</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat /etc/redhat-release</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">CentOS Linux release 7.3.1611 (Core)</span><br></pre></td></tr></table></figure>
<p><strong>安装gcc：</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum -y install gcc</span><br><span class="line">yum -y install gcc-c++</span><br></pre></td></tr></table></figure>
<p><strong>如果安装过Docker则需要删除软件包：</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure>
<p>如果未安装过Docker，则会有以下提示：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">No Match for argument: docker</span><br><span class="line">No Match for argument: docker-client</span><br><span class="line">No Match for argument: docker-client-latest</span><br><span class="line">No Match for argument: docker-common</span><br><span class="line">No Match for argument: docker-latest</span><br><span class="line">No Match for argument: docker-latest-logrotate</span><br><span class="line">No Match for argument: docker-logrotate</span><br><span class="line">No Match for argument: docker-engine</span><br><span class="line">No Packages marked for removal</span><br></pre></td></tr></table></figure>
<p><strong>安装Docker CE：</strong></p>
<p><strong>通过添加仓库安装：</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum install -y yum-utils</span><br><span class="line">sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>
<p>国外服务器太慢可以切换到阿里云的源：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum-config-manager \ </span><br><span class="line">--add-repo \</span><br><span class="line">http://mirrors.aliyun.com/dockerce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>
<p>查看源文件：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat /etc/yum.repos.d/docker-ce.repo</span><br></pre></td></tr></table></figure>
<p>更新yum软件包索引：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum makecache fast</span><br></pre></td></tr></table></figure>
<p>安装Docker CE：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum -y install docker-ce</span><br></pre></td></tr></table></figure>
<p>查看Docker版本：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker version</span><br></pre></td></tr></table></figure>
<p>启动Docker：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure>
<p>首次运行hello world：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Unable to find image &#39;hello-world:latest&#39; locally</span><br><span class="line">latest: Pulling from library&#x2F;hello-world</span><br><span class="line">0e03bdcc26d7: Pull complete </span><br><span class="line">Digest: sha256:d58e752213a51785838f9eed2b7a498ffa1cb3aa7f946dda11af39286c3db9a9</span><br><span class="line">Status: Downloaded newer image for hello-world:latest</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> 1. The Docker client contacted the Docker daemon.</span><br><span class="line"> 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.</span><br><span class="line">    (amd64)</span><br><span class="line"> 3. The Docker daemon created a new container from that image which runs the</span><br><span class="line">    executable that produces the output you are currently reading.</span><br><span class="line"> 4. The Docker daemon streamed that output to the Docker client, which sent it</span><br><span class="line">    to your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line"> $ docker run -it ubuntu bash</span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https:&#x2F;&#x2F;hub.docker.com&#x2F;</span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit:</span><br><span class="line"> https:&#x2F;&#x2F;docs.docker.com&#x2F;get-started&#x2F;</span><br></pre></td></tr></table></figure>
<p>查看镜像：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">hello-world         latest              bf756fb1ae65        5 months ago        13.3kB</span><br></pre></td></tr></table></figure>
<p><strong>配置镜像加速：</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir -p /etc/docker</span><br><span class="line">vim /etc/docker/daemon.json</span><br><span class="line">(配置网易云或者阿里云镜像加速)</span><br><span class="line"><span class="meta">#</span><span class="bash">网易</span></span><br><span class="line">&#123;</span><br><span class="line">    "registry-mirrors":["http://hub-mirror.c.163.com"]</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash">阿里云</span></span><br><span class="line">&#123;</span><br><span class="line">	"registry-mirrors":["https://&#123;自己的编码&#125;.mirror.aliyuncs.com"]</span><br><span class="line">&#125;</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>
<h2 id="docker运行底层原理"><a class="markdownIt-Anchor" href="#docker运行底层原理"></a> Docker运行底层原理</h2>
<p>（1）docker有着比虚拟机更少的抽象层，由于docker不需要Hypervisor实现硬件资源虚拟化，运行在docker容器上的程序直接使用的都是实际物理机的硬件资源。因此在CPU、内存利用率上docker将会在效率上有明显优势。</p>
<p>（2）docker利用的是宿主机的内核，而不需要Guest OS。因此，当新建一个容器时，docker不需要和虚拟机一样重新加载一个操作系统内核。仍可避免引寻、加载操作系统内核返个比较费时费资源的过程，当新建一个虚拟机时，虚拟机软件需要加载Guest OS,返个新建过程是分钟级别的。而docker由于直接利用宿主机的操作系统，则省略了返个过程，因此新建一个docker容器只需要几秒钟。</p>
<h2 id="docker常用命令"><a class="markdownIt-Anchor" href="#docker常用命令"></a> Docker常用命令</h2>
<h3 id="docker帮助命令"><a class="markdownIt-Anchor" href="#docker帮助命令"></a> Docker帮助命令</h3>
<p><strong>docker version</strong></p>
<p><strong>docker info</strong></p>
<p><strong>docker --help</strong></p>
<h3 id="docker镜像命令"><a class="markdownIt-Anchor" href="#docker镜像命令"></a> Docker镜像命令</h3>
<p><strong>docker images</strong></p>
<p>列出本地主机上的镜像。</p>
<p>选项说明：</p>
<p>-a：列出本地所有的镜像（含中间映像层）</p>
<p>-q：只显示镜像ID。</p>
<p>–digests：显示镜像的摘要信息。</p>
<p>–no-trunc：显示完整的镜像信息。</p>
<p><strong>docker search [OPTIONS] 镜像名字</strong></p>
<p>选项说明：</p>
<p>–no-trunc：显示完整的镜像描述</p>
<p>-s：列出收藏数不小于指定值的镜像。</p>
<p>–automated：只列出automated build类型的镜像</p>
<p><strong>docker pull [OPTIONS] 镜像名字 [:TAG]</strong></p>
<p><strong>docker rmi 删除某个镜像</strong></p>
<h3 id="docker容器命令"><a class="markdownIt-Anchor" href="#docker容器命令"></a> Docker容器命令</h3>
<p>**新建并启动一个容器：**docker run [OPTIONS] IMAGE [COMMAND] [ARG…]</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -it centos</span><br></pre></td></tr></table></figure>
<p><strong>列出当前所有正在运行的容器</strong></p>
<p>docker ps [OPTIONS]</p>
<p>OPTIONS说明（常用）</p>
<p>-a：列出当前所有正在运行的容器+历史运行过的</p>
<p>-l：显示最近创建的容器</p>
<p>-n：显示最近n个创建的容器</p>
<p>-q：静默模式，只显示容器编号</p>
<p>–not-trunc：不截断输出</p>
<p><strong>退出容器</strong></p>
<p>exit：容器停止退出</p>
<p>ctrl+P+Q：容器不停止退出</p>
<p><strong>启动容器</strong></p>
<p>docker start 容器ID或者容器名</p>
<p><strong>重启容器</strong></p>
<p>docker restart 容器ID或者容器名</p>
<p><strong>停止容器</strong></p>
<p>docker stop 容器ID或者容器名</p>
<p><strong>强制停止容器</strong></p>
<p>docker kill 容器ID或者容器名</p>
<p><strong>删除容器</strong></p>
<p>docker rm 容器ID或者容器名</p>
<p><strong>一次性删除多个容器</strong></p>
<p>docker rm -f $(docker ps -a -q)</p>
<p>docker ps -a -1 | xargs docker rm</p>
<h3 id="重要命令"><a class="markdownIt-Anchor" href="#重要命令"></a> 重要命令</h3>
<p><strong>启动守护式容器：</strong></p>
<p>docker run -d</p>
<p><strong>查看容器日志：</strong></p>
<p>docker logs -f -t --tail 容器ID</p>
<p><strong>显示docker内部进程</strong></p>
<p>docker top 容器ID</p>
<p><strong>查看容器内部细节</strong></p>
<p>docker inspect 容器ID</p>
<p><strong>进入正在运行的容器并以命令行交互</strong></p>
<p>docker exex -it 容器ID bashShell</p>
<p>重新进入docker attach 容器ID</p>
<p><strong>上述两者区别：</strong></p>
<p>attach直接进入容器启动命令的终端，不会启动新的进程</p>
<p>exec是在容器中打开新的终端，并且可以启动新的进程</p>
<p><strong>从容器内拷贝文件到主机上</strong></p>
<p>docker cp 容器ID：容器内路径 目的主机路径</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker cp id: /tmp/log /root</span><br></pre></td></tr></table></figure>
<h2 id="docker镜像"><a class="markdownIt-Anchor" href="#docker镜像"></a> Docker镜像</h2>
<p>镜像是一种轻量级、可执行的独立软件包，用来打包软件运行环境和基于运行环境开发的软件，它包含运行某个软件所需的所有内容，包括代码、运行时、库、环境变量和配置文件。</p>
<h3 id="unionfs联合文件系统"><a class="markdownIt-Anchor" href="#unionfs联合文件系统"></a> UnionFS（联合文件系统）</h3>
<p>联合文件系统（Union File System）：2004年由纽约州立大学石溪分校开发，它可以把多个目录(也叫分支)内容联合挂载到同一个目录下，而目录的物理位置是分开的。UnionFS允许只读和可读写目录并存，就是说可同时删除和增加内容。UnionFS应用的地方很多，比如在多个磁盘分区上合并不同文件系统的主目录，或把几张CD光盘合并成一个统一的光盘目录(归档)。另外，具有写时复制(copy-on-write)功能UnionFS可以把只读和可读写文件系统合并在一起，虚拟上允许只读文件系统的修改可以保存到可写文件系统当中。</p>
<p>特性：一次同时加载多个文件系统，但从外面看起来，只能看到一个文件系统，联合加载会把各层文件叠加起来，这样最终的文件系统会包含所有底层的文件和目录。</p>
<h3 id="镜像加载原理"><a class="markdownIt-Anchor" href="#镜像加载原理"></a> 镜像加载原理</h3>
<p>rootfs和bootfs</p>
<p>任何程序运行时都会有依赖，无论是开发语言层的依赖库，还是各种系统lib、操作系统等，不同的系统上这些库可能是不一样的，或者有缺失的。为了让容器运行时一致，docker将依赖的操作系统、各种lib依赖整合打包在一起（即镜像），然后容器启动时，作为它的根目录（根文件系统rootfs），使得容器进程的各种依赖调用都在这个根目录里，这样就做到了环境的一致性。</p>
<p>不过，这时你可能已经发现了另一个问题：<strong>难道每开发一个应用，都要重复制作一次rootfs吗（那每次pull/push一个系统岂不疯掉）？</strong></p>
<p>比如，我现在用Debian操作系统的ISO做了一个rootfs，然后又在里面安装了Golang环境，用来部署我的应用A。那么，我的另一个同事在发布他的Golang应用B时，希望能够直接使用我安装过Golang环境的rootfs，而不是重复这个流程，那么本文的主角UnionFS就派上用场了。</p>
<p><strong>Docker镜像的设计中，引入了层（layer）的概念</strong>，也就是说，用户制作镜像的每一步操作，都会生成一个层，也就是一个增量rootfs（一个目录），这样应用A和应用B所在的容器共同引用相同的Debian操作系统层、Golang环境层（作为只读层），而各自有各自应用程序层，和可写层。启动容器的时候通过UnionFS把相关的层挂载到一个目录，作为容器的根文件系统。</p>
<p>需要注意的是，rootfs只是一个操作系统所包含的文件、配置和目录，并不包括操作系统内核。这就意味着，如果你的应用程序需要配置内核参数、加载额外的内核模块，以及跟内核进行直接的交互，你就需要注意了：<strong>这些操作和依赖的对象，都是宿主机操作系统的内核，它对于该机器上的所有容器来说是一个“全局变量”，牵一发而动全身。</strong></p>
<h3 id="docker镜像commit操作"><a class="markdownIt-Anchor" href="#docker镜像commit操作"></a> Docker镜像commit操作</h3>
<p>docker commit 提交容器副本使之成为新的镜像</p>
<p>docker commit -m=“提交的描述信息” -a=“作者” 容器ID 要创建的目标镜像名：[标签名]</p>
<p>docker run -it p 8080:8080 tomcat</p>
<h2 id="容器数据卷"><a class="markdownIt-Anchor" href="#容器数据卷"></a> 容器数据卷</h2>
<p>容器的持久化、容器间继承和共享数据。</p>
<h3 id="作用"><a class="markdownIt-Anchor" href="#作用"></a> 作用</h3>
<p>1.数据卷可在容器之间共享或重用数据</p>
<p>2.卷中的更改可以直接生效</p>
<p>3.数据卷中的更改不会包含在镜像的更新中</p>
<p>4.数据卷的生命周期一直持续到没有容器使用它为止</p>
<h3 id="容器内添加数据卷"><a class="markdownIt-Anchor" href="#容器内添加数据卷"></a> 容器内添加数据卷</h3>
<h4 id="直接命令添加"><a class="markdownIt-Anchor" href="#直接命令添加"></a> 直接命令添加</h4>
<p>docker run -it -v /宿主机绝对路径目录:/容器内目录 镜像名</p>
<p>命令（带权限）:docker run -it -v /宿主机绝对路径目录:/容器内目录:ro 镜像名  (read only)</p>
<h4 id="容器是否挂载成功"><a class="markdownIt-Anchor" href="#容器是否挂载成功"></a> 容器是否挂载成功</h4>
<p>docker inspect 容器ID 获取JSON格式的配置</p>
<p>Volumes字段</p>
<h3 id="dockerfile添加"><a class="markdownIt-Anchor" href="#dockerfile添加"></a> Dockerfile添加</h3>
<p>**Dockerfile:**描述镜像的文件</p>
<p>VOLUME:[&quot;/dataVoumeContainer&quot;,&quot;/dataVolumeContainer2&quot;,&quot;/dataVolumeContainer3&quot;]</p>
<p><strong>说明：</strong></p>
<p>出于可移植和分享的考虑，用-v 主机目录：容器目录这种方法不能够直接在Dockerfile里实现。</p>
<p>由于宿主机目录是依赖于特定宿主机的，并不能够保证在所有的宿主机上都存在这样的特定目录。</p>
<p><strong>步骤：</strong></p>
<p><strong>根目录下新建mydocker文件夹并进入</strong></p>
<p><strong>可在Dockerfile中使用VOLUME指令来给镜像添加一个或多个数据卷</strong></p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># volume test</span></span><br><span class="line"><span class="keyword">FROM</span> centos</span><br><span class="line"><span class="keyword">VOLUME</span><span class="bash"> [<span class="string">"dataVolumeContainer1"</span>,<span class="string">"/dataVolumeContainer2"</span>]</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"fininsher,-------success1"</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> /bin/bash</span></span><br><span class="line"></span><br><span class="line">==&gt;</span><br><span class="line">docker <span class="keyword">run</span><span class="bash"> -it -v /host1:/dataVolumeContainer1 -v /host2:/dataVolumeContainer2 centos /bin/bash</span></span><br></pre></td></tr></table></figure>
<p><strong>File构建</strong></p>
<p><strong>build后生成镜像 —获得一个新镜像</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker build -f &#x2F;mydocker&#x2F;dockerfile2 -t zzyy&#x2F;centos.</span><br></pre></td></tr></table></figure>
<p><strong>run容器</strong></p>
<p>通过上述步骤，容器内的卷目录地址已经知道对应的主机目录地址</p>
<p>Docker images ====&gt; DockerFile</p>
<h2 id="数据卷容器"><a class="markdownIt-Anchor" href="#数据卷容器"></a> 数据卷容器</h2>
<p>命名的容器挂载数据卷，其它容器通过挂载这个（父容器）实现数据共享，挂载数据卷的容器，称之为数据卷容器。</p>
<p>以上一步新建的镜像zzyy/centos为模板并运行容器dc01/dc02/dc03</p>
<p>它们已经有容器卷<code>/dataVolumeContainer1 /dataVolumeContainer2</code></p>
<p>容器间传递共享（–volumes-from）</p>
<p>先启动一个父容器dc01  在dataVolumeContainer2新增内容</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>服务器</tag>
        <tag>Docker</tag>
        <tag>后端开发</tag>
      </tags>
  </entry>
  <entry>
    <title>Nginx学习笔记</title>
    <url>/2020/06/26/1/</url>
    <content><![CDATA[<p><img src="/2020/06/26/1/nginx.png" alt></p>
<a id="more"></a>
<h2 id="nginx基本概念"><a class="markdownIt-Anchor" href="#nginx基本概念"></a> Nginx基本概念：</h2>
<p>一个高性能HTTP和反向代理web服务器，专为性能优化而开发。</p>
<p>**反向代理：**我么只需要将请求发送到反向代理服务器，由反向代理服务器去选择目标服务器获取数据后，再返回给客户端，此时反向代理服务器和目标服务器对外就是一个服务器，暴露的是代理服务器地址，隐藏了真实服务器IP地址。</p>
<p>正向代理：把局域网外的Internet想象成一个巨大的资源库，则局域网中的客户端要访问Internet，则需要通过代理服务器来访问，这种代理服务就称为正向代理。</p>
<p><strong>负载均衡：<strong>单个服务器解决不了，我们增加服务器的数量，然后将请求分发到各个服务器上，将原先请求集中到单个服务器上的情况改为将请求分发到多个服务器上，将负载分发到不同的服务器，也就是</strong>负载均衡</strong>。</p>
<p>**动静分离：**为了加快网站的解析速度，可以把动态页面和静态页面有不同的服务器来解析，加快解析速度，降低原来单个服务器的压力。</p>
<h2 id="nginx操作的常用命令"><a class="markdownIt-Anchor" href="#nginx操作的常用命令"></a> Nginx操作的常用命令：</h2>
<p>**查看nginx版本号：**nginx -v</p>
<p>**启动nginx：**nginx</p>
<p>**关闭nginx：**nginx -s stop</p>
<p>**重新加载命令：**nginx -s reload</p>
<h2 id="nginx配置文件"><a class="markdownIt-Anchor" href="#nginx配置文件"></a> Nginx配置文件：</h2>
<p><code>/etc/nginx/nginx.conf</code></p>
<h3 id="第一部分全局块"><a class="markdownIt-Anchor" href="#第一部分全局块"></a> 第一部分：全局块</h3>
<p>从配置文件开始到events块之间的内容，主要会设置一些影响nginx服务器整体运行的配置指令，主要包括配置运行nginx服务器的用户（组）、允许生成的worker process数，进程 PID 存放路径、日志存放路径和类型以及配置文件的引入等。</p>
<h3 id="第二部分event块"><a class="markdownIt-Anchor" href="#第二部分event块"></a> 第二部分：event块</h3>
<p>events块涉及的指令主要影响Nginx服务器与用户的网络连接，常用的设置包括是否开启对多work process下的网络连接进行序列化，是否允许同时接受多个网络连接，选取哪种事件驱动模型来处理连接请求，每个word process可以同时支持的最大连接数等。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>支持的最大连接数。</p>
<h3 id="第三部分http块"><a class="markdownIt-Anchor" href="#第三部分http块"></a> 第三部分：http块</h3>
<p>是Nginx服务器配置中最频繁的部分，代理、缓存和日志定义等绝大多数功能和第三方模块的配置都在这里。</p>
<p>http块也可以包括http全局块和server块。</p>
<p>**server块：**这和虚拟主机有密切关系，虚拟主机从用户角度看，和一台独立的硬件主机是完全一样的，该技术的忏悔说呢过是为了节省互联网服务器硬件成本。</p>
<p>每个http块可以包括多个server块，而每个server块就相当于一个虚拟主机。</p>
<p>而每个server块也分为全局server块，以及可以同时包含多个location块。</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span> default_server;</span><br><span class="line">        <span class="attribute">listen</span>       [::]:<span class="number">80</span> default_server;</span><br><span class="line">        <span class="attribute">server_name</span>  </span><br><span class="line">        root         /usr/share/nginx/html;</span><br><span class="line">	<span class="attribute">default_type</span> <span class="string">'text/html'</span>;</span><br><span class="line">	<span class="attribute">charset</span> utf-<span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Load configuration files for the default server block.</span></span><br><span class="line"></span><br><span class="line">​        include /etc/nginx/default.d/*.conf;</span><br><span class="line"></span><br><span class="line">​        location / &#123;</span><br><span class="line">​		index index.html index.php index.htm;</span><br><span class="line">​		charset utf-8;</span><br><span class="line">​        &#125;</span><br><span class="line"></span><br><span class="line">​        error_page 404 /404.html;</span><br><span class="line">​            location = /40x.html &#123;</span><br><span class="line">​        &#125;</span><br><span class="line"></span><br><span class="line">​        error_page 500 502 503 504 /50x.html;</span><br><span class="line">​            location = /50x.html &#123;</span><br><span class="line">​        &#125;</span><br><span class="line">​	location ~ \.php$ &#123;</span><br><span class="line">​		fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">​		fastcgi_index index.php;</span><br><span class="line">​		fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class="line">​		include       fastcgi_params;</span><br><span class="line">​	&#125;</span><br><span class="line">​    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="详解"><a class="markdownIt-Anchor" href="#详解"></a> 详解：</h3>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment">#定义Nginx运行的用户和用户组</span></span><br><span class="line"><span class="attribute">user</span> www www; </span><br><span class="line"></span><br><span class="line"><span class="comment">#nginx进程数，通常设置成和cpu的数量相等</span></span><br><span class="line"><span class="attribute">worker_processes</span> <span class="number">4</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">#全局错误日志定义类型，[debug | info | notice | warn | error | crit]</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#进程pid文件</span></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#指定进程可以打开的最大描述符：数目</span></span><br><span class="line"><span class="comment">#工作模式与连接数上限</span></span><br><span class="line"><span class="comment">##这个指令是指当一个nginx进程打开的最多文件描述符数目，理论值应该是最多打开文件数（ulimit -n）与nginx进程数相除，但是nginx分配请求并不是那么均匀，所以最好与ulimit -n 的值保持一致。</span></span><br><span class="line"><span class="comment">#这是因为nginx调度时分配请求到进程并不是那么的均衡，所以假如填写10240，总并发量达到3-4万时就有进程可能超过10240了，这时会返回502错误。</span></span><br><span class="line"><span class="attribute">worker_rlimit_nofile</span> <span class="number">65535</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="comment">#参考事件模型，use [ kqueue | rtsig | epoll | /dev/poll | select | poll ]; epoll模型</span></span><br><span class="line">    <span class="comment">#是Linux 2.6以上版本内核中的高性能网络I/O模型，linux建议epoll，如果跑在FreeBSD上面，就用kqueue模型。</span></span><br><span class="line">    <span class="comment">#补充说明：</span></span><br><span class="line">    <span class="comment">#与apache相类，nginx针对不同的操作系统，有不同的事件模型</span></span><br><span class="line">    <span class="comment">#A）标准事件模型</span></span><br><span class="line">    <span class="comment">#Select、poll属于标准事件模型，如果当前系统不存在更有效的方法，nginx会选择select或poll</span></span><br><span class="line">    <span class="comment">#B）高效事件模型</span></span><br><span class="line">    <span class="comment">#Kqueue：使用于FreeBSD 4.1+, OpenBSD 2.9+, NetBSD 2.0 和 MacOS X.使用双处理器的MacOS X系统使用kqueue可能会造成内核崩溃。</span></span><br><span class="line">    <span class="comment">#Epoll：使用于Linux内核2.6版本及以后的系统。</span></span><br><span class="line">    <span class="comment">#/dev/poll：使用于Solaris 7 11/99+，HP/UX 11.22+ (eventport)，IRIX 6.5.15+ 和 Tru64 UNIX 5.1A+。</span></span><br><span class="line">    <span class="comment">#Eventport：使用于Solaris 10。 为了防止出现内核崩溃的问题， 有必要安装安全补丁。</span></span><br><span class="line">    <span class="attribute">use</span> <span class="literal">epoll</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#单个进程最大连接数（最大连接数=连接数+进程数）</span></span><br><span class="line">    <span class="comment">#根据硬件调整，和前面工作进程配合起来用，尽量大，但是别把cup跑到100%就行。</span></span><br><span class="line">    worker_connections  <span class="number">1024</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#keepalive 超时时间</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span> <span class="number">60</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#客户端请求头部的缓冲区大小。这个可以根据你的系统分页大小来设置，一般一个请求头的大小不会超过1k，不过由于一般系统分页都要大于1k，所以这里设置为分页大小。</span></span><br><span class="line">    <span class="comment">#分页大小可以用命令getconf PAGESIZE 取得。</span></span><br><span class="line">    <span class="comment">#[root@web001 ~]# getconf PAGESIZE</span></span><br><span class="line">    <span class="comment">#但也有client_header_buffer_size超过4k的情况，但是client_header_buffer_size该值必须设置为“系统分页大小”的整倍数。</span></span><br><span class="line">    <span class="attribute">client_header_buffer_size</span> <span class="number">4k</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#这个将为打开文件指定缓存，默认是没有启用的，max指定缓存数量，建议和打开文件数一致，inactive是指经过多长时间文件没被请求后删除缓存。</span></span><br><span class="line">    <span class="attribute">open_file_cache</span> max=<span class="number">65535</span> inactive=<span class="number">60s</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#这个是指多长时间检查一次缓存的有效信息。</span></span><br><span class="line">    <span class="comment">#语法:open_file_cache_valid time 默认值:open_file_cache_valid 60 使用字段:http, server, location 这个指令指定了何时需要检查open_file_cache中缓存项目的有效信息.</span></span><br><span class="line">    <span class="attribute">open_file_cache_valid</span> <span class="number">80s</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#open_file_cache指令中的inactive参数时间内文件的最少使用次数，如果超过这个数字，文件描述符一直是在缓存中打开的，如上例，如果有一个文件在inactive时间内一次没被使用，它将被移除。</span></span><br><span class="line">    <span class="comment">#语法:open_file_cache_min_uses number 默认值:open_file_cache_min_uses 1 使用字段:http, server, location  这个指令指定了在open_file_cache指令无效的参数中一定的时间范围内可以使用的最小文件数,如果使用更大的值,文件描述符在cache中总是打开状态.</span></span><br><span class="line">    <span class="attribute">open_file_cache_min_uses</span> <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#语法:open_file_cache_errors on | off 默认值:open_file_cache_errors off 使用字段:http, server, location 这个指令指定是否在搜索一个文件是记录cache错误.</span></span><br><span class="line">    <span class="attribute">open_file_cache_errors</span> <span class="literal">on</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#设定http服务器，利用它的反向代理功能提供负载均衡支持</span></span><br><span class="line">http&#123;</span><br><span class="line">    <span class="comment">#文件扩展名与文件类型映射表</span></span><br><span class="line">    <span class="attribute">include</span> mime.types;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#默认文件类型</span></span><br><span class="line">    <span class="attribute">default_type</span> application/octet-stream;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#默认编码</span></span><br><span class="line">    <span class="attribute">charset</span> utf-<span class="number">8</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#服务器名字的hash表大小</span></span><br><span class="line">    <span class="comment">#保存服务器名字的hash表是由指令server_names_hash_max_size 和server_names_hash_bucket_size所控制的。参数hash bucket size总是等于hash表的大小，并且是一路处理器缓存大小的倍数。在减少了在内存中的存取次数后，使在处理器中加速查找hash表键值成为可能。如果hash bucket size等于一路处理器缓存的大小，那么在查找键的时候，最坏的情况下在内存中查找的次数为2。第一次是确定存储单元的地址，第二次是在存储单元中查找键 值。因此，如果Nginx给出需要增大hash max size 或 hash bucket size的提示，那么首要的是增大前一个参数的大小.</span></span><br><span class="line">    <span class="attribute">server_names_hash_bucket_size</span> <span class="number">128</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#客户端请求头部的缓冲区大小。这个可以根据你的系统分页大小来设置，一般一个请求的头部大小不会超过1k，不过由于一般系统分页都要大于1k，所以这里设置为分页大小。分页大小可以用命令getconf PAGESIZE取得。</span></span><br><span class="line">    <span class="attribute">client_header_buffer_size</span> <span class="number">32k</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#客户请求头缓冲大小。nginx默认会用client_header_buffer_size这个buffer来读取header值，如果header过大，它会使用large_client_header_buffers来读取。</span></span><br><span class="line">    <span class="attribute">large_client_header_buffers</span> <span class="number">4</span> <span class="number">64k</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#设定通过nginx上传文件的大小</span></span><br><span class="line">    <span class="attribute">client_max_body_size</span> <span class="number">8m</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#开启高效文件传输模式，sendfile指令指定nginx是否调用sendfile函数来输出文件，对于普通应用设为 on，如果用来进行下载等应用磁盘IO重负载应用，可设置为off，以平衡磁盘与网络I/O处理速度，降低系统的负载。注意：如果图片显示不正常把这个改成off。</span></span><br><span class="line">    <span class="comment">#sendfile指令指定 nginx 是否调用sendfile 函数（zero copy 方式）来输出文件，对于普通应用，必须设为on。如果用来进行下载等应用磁盘IO重负载应用，可设置为off，以平衡磁盘与网络IO处理速度，降低系统uptime。</span></span><br><span class="line">    <span class="attribute">sendfile</span> <span class="literal">on</span>;</span><br><span class="line">    </span><br><span class="line">     <span class="comment">#开启目录列表访问，合适下载服务器，默认关闭。</span></span><br><span class="line">    <span class="attribute">autoindex</span> <span class="literal">on</span>;</span><br><span class="line">    </span><br><span class="line">      <span class="comment">#此选项允许或禁止使用socke的TCP_CORK的选项，此选项仅在使用sendfile的时候使用</span></span><br><span class="line">    <span class="attribute">tcp_nopush</span> <span class="literal">on</span>;</span><br><span class="line">     </span><br><span class="line">    <span class="attribute">tcp_nodelay</span> <span class="literal">on</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#长连接超时时间，单位是秒</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span> <span class="number">120</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#FastCGI相关参数是为了改善网站的性能：减少资源占用，提高访问速度。下面参数看字面意思都能理解。</span></span><br><span class="line">    <span class="attribute">fastcgi_connect_timeout</span> <span class="number">300</span>;</span><br><span class="line">    <span class="attribute">fastcgi_send_timeout</span> <span class="number">300</span>;</span><br><span class="line">    <span class="attribute">fastcgi_read_timeout</span> <span class="number">300</span>;</span><br><span class="line">    <span class="attribute">fastcgi_buffer_size</span> <span class="number">64k</span>;</span><br><span class="line">    <span class="attribute">fastcgi_buffers</span> <span class="number">4</span> <span class="number">64k</span>;</span><br><span class="line">    <span class="attribute">fastcgi_busy_buffers_size</span> <span class="number">128k</span>;</span><br><span class="line">    <span class="attribute">fastcgi_temp_file_write_size</span> <span class="number">128k</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#gzip模块设置</span></span><br><span class="line">    <span class="attribute">gzip</span> <span class="literal">on</span>; <span class="comment">#开启gzip压缩输出</span></span><br><span class="line">    <span class="attribute">gzip_min_length</span> <span class="number">1k</span>;    <span class="comment">#最小压缩文件大小</span></span><br><span class="line">    <span class="attribute">gzip_buffers</span> <span class="number">4</span> <span class="number">16k</span>;    <span class="comment">#压缩缓冲区</span></span><br><span class="line">    <span class="attribute">gzip_http_version</span> <span class="number">1</span>.<span class="number">0</span>; <span class="comment">#压缩版本（默认1.1，前端如果是squid2.5请使用1.0）</span></span><br><span class="line">    <span class="attribute">gzip_comp_level</span> <span class="number">2</span>;     <span class="comment">#压缩等级</span></span><br><span class="line">    <span class="attribute">gzip_types</span> text/plain application/x-javascript text/css application/xml;    <span class="comment">#压缩类型，默认就已经包含textml，所以下面就不用再写了，写上去也不会有问题，但是会有一个warn。</span></span><br><span class="line">    <span class="attribute">gzip_vary</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#开启限制IP连接数的时候需要使用</span></span><br><span class="line">    <span class="comment">#limit_zone crawler $binary_remote_addr 10m;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#负载均衡配置</span></span><br><span class="line">    <span class="attribute">upstream</span> piao.jd.com &#123;</span><br><span class="line">     </span><br><span class="line">        <span class="comment">#upstream的负载均衡，weight是权重，可以根据机器配置定义权重。weigth参数表示权值，权值越高被分配到的几率越大。</span></span><br><span class="line">        <span class="attribute">server</span> <span class="number">192.168.80.121:80</span> weight=<span class="number">3</span>;</span><br><span class="line">        <span class="attribute">server</span> <span class="number">192.168.80.122:80</span> weight=<span class="number">2</span>;</span><br><span class="line">        <span class="attribute">server</span> <span class="number">192.168.80.123:80</span> weight=<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#nginx的upstream目前支持4种方式的分配</span></span><br><span class="line">        <span class="comment">#1、轮询（默认）</span></span><br><span class="line">        <span class="comment">#每个请求按时间顺序逐一分配到不同的后端服务器，如果后端服务器down掉，能自动剔除。</span></span><br><span class="line">        <span class="comment">#2、weight</span></span><br><span class="line">        <span class="comment">#指定轮询几率，weight和访问比率成正比，用于后端服务器性能不均的情况。</span></span><br><span class="line">        <span class="comment">#例如：</span></span><br><span class="line">        <span class="comment">#upstream bakend &#123;</span></span><br><span class="line">        <span class="comment">#    server 192.168.0.14 weight=10;</span></span><br><span class="line">        <span class="comment">#    server 192.168.0.15 weight=10;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line">        <span class="comment">#2、ip_hash</span></span><br><span class="line">        <span class="comment">#每个请求按访问ip的hash结果分配，这样每个访客固定访问一个后端服务器，可以解决session的问题。</span></span><br><span class="line">        <span class="comment">#例如：</span></span><br><span class="line">        <span class="comment">#upstream bakend &#123;</span></span><br><span class="line">        <span class="comment">#    ip_hash;</span></span><br><span class="line">        <span class="comment">#    server 192.168.0.14:88;</span></span><br><span class="line">        <span class="comment">#    server 192.168.0.15:80;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line">        <span class="comment">#3、fair（第三方）</span></span><br><span class="line">        <span class="comment">#按后端服务器的响应时间来分配请求，响应时间短的优先分配。</span></span><br><span class="line">        <span class="comment">#upstream backend &#123;</span></span><br><span class="line">        <span class="comment">#    server server1;</span></span><br><span class="line">        <span class="comment">#    server server2;</span></span><br><span class="line">        <span class="comment">#    fair;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line">        <span class="comment">#4、url_hash（第三方）</span></span><br><span class="line">        <span class="comment">#按访问url的hash结果来分配请求，使每个url定向到同一个后端服务器，后端服务器为缓存时比较有效。</span></span><br><span class="line">        <span class="comment">#例：在upstream中加入hash语句，server语句中不能写入weight等其他的参数，hash_method是使用的hash算法</span></span><br><span class="line">        <span class="comment">#upstream backend &#123;</span></span><br><span class="line">        <span class="comment">#    server squid1:3128;</span></span><br><span class="line">        <span class="comment">#    server squid2:3128;</span></span><br><span class="line">        <span class="comment">#    hash $request_uri;</span></span><br><span class="line">        <span class="comment">#    hash_method crc32;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#tips:</span></span><br><span class="line">        <span class="comment">#upstream bakend&#123;#定义负载均衡设备的Ip及设备状态&#125;&#123;</span></span><br><span class="line">        <span class="comment">#    ip_hash;</span></span><br><span class="line">        <span class="comment">#    server 127.0.0.1:9090 down;</span></span><br><span class="line">        <span class="comment">#    server 127.0.0.1:8080 weight=2;</span></span><br><span class="line">        <span class="comment">#    server 127.0.0.1:6060;</span></span><br><span class="line">        <span class="comment">#    server 127.0.0.1:7070 backup;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line">        <span class="comment">#在需要使用负载均衡的server中增加 proxy_pass http://bakend/;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#每个设备的状态设置为:</span></span><br><span class="line">        <span class="comment">#1.down表示单前的server暂时不参与负载</span></span><br><span class="line">        <span class="comment">#2.weight为weight越大，负载的权重就越大。</span></span><br><span class="line">        <span class="comment">#3.max_fails：允许请求失败的次数默认为1.当超过最大次数时，返回proxy_next_upstream模块定义的错误</span></span><br><span class="line">        <span class="comment">#4.fail_timeout:max_fails次失败后，暂停的时间。</span></span><br><span class="line">        <span class="comment">#5.backup： 其它所有的非backup机器down或者忙的时候，请求backup机器。所以这台机器压力会最轻。</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#nginx支持同时设置多组的负载均衡，用来给不用的server来使用。</span></span><br><span class="line">        <span class="comment">#client_body_in_file_only设置为On 可以讲client post过来的数据记录到文件中用来做debug</span></span><br><span class="line">        <span class="comment">#client_body_temp_path设置记录文件的目录 可以设置最多3层目录</span></span><br><span class="line">        <span class="comment">#location对URL进行匹配.可以进行重定向或者进行新的代理 负载均衡</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#虚拟主机的配置</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="comment">#监听端口</span></span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#域名可以有多个，用空格隔开</span></span><br><span class="line">        <span class="attribute">server_name</span> www.jd.com jd.com;</span><br><span class="line">        <span class="comment">#默认入口文件名称</span></span><br><span class="line">        <span class="attribute">index</span> index.html index.htm index.php;</span><br><span class="line">        <span class="attribute">root</span> /data/www/jd;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#对******进行负载均衡</span></span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ .*.(php|php5)?$</span></span><br><span class="line"><span class="regexp"></span>        &#123;</span><br><span class="line">            <span class="attribute">fastcgi_pass</span> <span class="number">127.0.0.1:9000</span>;</span><br><span class="line">            <span class="attribute">fastcgi_index</span> index.php;</span><br><span class="line">            <span class="attribute">include</span> fastcgi.conf;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="comment">#图片缓存时间设置</span></span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ .*.(gif|jpg|jpeg|png|bmp|swf)$</span></span><br><span class="line"><span class="regexp"></span>        &#123;</span><br><span class="line">            <span class="attribute">expires</span> <span class="number">10d</span>;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="comment">#JS和CSS缓存时间设置</span></span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ .*.(js|css)?$</span></span><br><span class="line"><span class="regexp"></span>        &#123;</span><br><span class="line">            <span class="attribute">expires</span> <span class="number">1h</span>;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="comment">#日志格式设定</span></span><br><span class="line">        <span class="comment">#$remote_addr与$http_x_forwarded_for用以记录客户端的ip地址；</span></span><br><span class="line">        <span class="comment">#$remote_user：用来记录客户端用户名称；</span></span><br><span class="line">        <span class="comment">#$time_local： 用来记录访问时间与时区；</span></span><br><span class="line">        <span class="comment">#$request： 用来记录请求的url与http协议；</span></span><br><span class="line">        <span class="comment">#$status： 用来记录请求状态；成功是200，</span></span><br><span class="line">        <span class="comment">#$body_bytes_sent ：记录发送给客户端文件主体内容大小；</span></span><br><span class="line">        <span class="comment">#$http_referer：用来记录从那个页面链接访问过来的；</span></span><br><span class="line">        <span class="comment">#$http_user_agent：记录客户浏览器的相关信息；</span></span><br><span class="line">        <span class="comment">#通常web服务器放在反向代理的后面，这样就不能获取到客户的IP地址了，通过$remote_add拿到的IP地址是反向代理服务器的iP地址。反向代理服务器在转发请求的http头信息中，可以增加x_forwarded_for信息，用以记录原有客户端的IP地址和原来客户端的请求的服务器地址。</span></span><br><span class="line">        <span class="attribute">log_format</span> access <span class="string">'<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] "<span class="variable">$request</span>" '</span></span><br><span class="line">        <span class="string">'<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> "<span class="variable">$http_referer</span>" '</span></span><br><span class="line">        <span class="string">'"<span class="variable">$http_user_agent</span>" <span class="variable">$http_x_forwarded_for</span>'</span>;</span><br><span class="line">         </span><br><span class="line">        <span class="comment">#定义本虚拟主机的访问日志</span></span><br><span class="line">        <span class="attribute">access_log</span>  /usr/local/nginx/logs/host.access.log  main;</span><br><span class="line">        <span class="attribute">access_log</span>  /usr/local/nginx/logs/host.access.<span class="number">404</span>.log  log404;</span><br><span class="line">         </span><br><span class="line">        <span class="comment">#对 "/connect-controller" 启用反向代理</span></span><br><span class="line">        <span class="attribute">location</span> /connect-controller &#123;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://127.0.0.1:88; <span class="comment">#请注意此处端口号不能与虚拟主机监听的端口号一样（也就是server监听的端口）</span></span><br><span class="line">            <span class="attribute">proxy_redirect</span> <span class="literal">off</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">             </span><br><span class="line">            <span class="comment">#后端的Web服务器可以通过X-Forwarded-For获取用户真实IP</span></span><br><span class="line">            <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">             </span><br><span class="line">            <span class="comment">#以下是一些反向代理的配置，可选。</span></span><br><span class="line">            <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#允许客户端请求的最大单文件字节数</span></span><br><span class="line">            <span class="attribute">client_max_body_size</span> <span class="number">10m</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#缓冲区代理缓冲用户端请求的最大字节数，</span></span><br><span class="line">            <span class="comment">#如果把它设置为比较大的数值，例如256k，那么，无论使用firefox还是IE浏览器，来提交任意小于256k的图片，都很正常。如果注释该指令，使用默认的client_body_buffer_size设置，也就是操作系统页面大小的两倍，8k或者16k，问题就出现了。</span></span><br><span class="line">            <span class="comment">#无论使用firefox4.0还是IE8.0，提交一个比较大，200k左右的图片，都返回500 Internal Server Error错误</span></span><br><span class="line">            <span class="attribute">client_body_buffer_size</span> <span class="number">128k</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#表示使nginx阻止HTTP应答代码为400或者更高的应答。</span></span><br><span class="line">            <span class="attribute">proxy_intercept_errors</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#后端服务器连接的超时时间_发起握手等候响应超时时间</span></span><br><span class="line">            <span class="comment">#nginx跟后端服务器连接超时时间(代理连接超时)</span></span><br><span class="line">            <span class="attribute">proxy_connect_timeout</span> <span class="number">90</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#后端服务器数据回传时间(代理发送超时)</span></span><br><span class="line">            <span class="comment">#后端服务器数据回传时间_就是在规定时间之内后端服务器必须传完所有的数据</span></span><br><span class="line">            <span class="attribute">proxy_send_timeout</span> <span class="number">90</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#连接成功后，后端服务器响应时间(代理接收超时)</span></span><br><span class="line">            <span class="comment">#连接成功后_等候后端服务器响应时间_其实已经进入后端的排队之中等候处理（也可以说是后端服务器处理请求的时间）</span></span><br><span class="line">            <span class="attribute">proxy_read_timeout</span> <span class="number">90</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#设置代理服务器（nginx）保存用户头信息的缓冲区大小</span></span><br><span class="line">            <span class="comment">#设置从被代理服务器读取的第一部分应答的缓冲区大小，通常情况下这部分应答中包含一个小的应答头，默认情况下这个值的大小为指令proxy_buffers中指定的一个缓冲区的大小，不过可以将其设置为更小</span></span><br><span class="line">            <span class="attribute">proxy_buffer_size</span> <span class="number">4k</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#proxy_buffers缓冲区，网页平均在32k以下的设置</span></span><br><span class="line">            <span class="comment">#设置用于读取应答（来自被代理服务器）的缓冲区数目和大小，默认情况也为分页大小，根据操作系统的不同可能是4k或者8k</span></span><br><span class="line">            <span class="attribute">proxy_buffers</span> <span class="number">4</span> <span class="number">32k</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#高负荷下缓冲大小（proxy_buffers*2）</span></span><br><span class="line">            <span class="attribute">proxy_busy_buffers_size</span> <span class="number">64k</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">#设置在写入proxy_temp_path时数据的大小，预防一个工作进程在传递文件时阻塞太长</span></span><br><span class="line">            <span class="comment">#设定缓存文件夹大小，大于这个值，将从upstream服务器传</span></span><br><span class="line">            <span class="attribute">proxy_temp_file_write_size</span> <span class="number">64k</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#本地动静分离反向代理配置</span></span><br><span class="line">        <span class="comment">#所有jsp的页面均交由tomcat或resin处理</span></span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ .(jsp|jspx|do)?$</span> &#123;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://127.0.0.1:8080;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="nginx配置实例-反向代理"><a class="markdownIt-Anchor" href="#nginx配置实例-反向代理"></a> Nginx配置实例-反向代理</h2>
<p>在Nginx配置文件中将location中的位置改为所要展示的页面的绝对地址，或者使用proxy_pass改为所要跳转的端口。</p>
<h2 id="nginx配置实例-负载均衡"><a class="markdownIt-Anchor" href="#nginx配置实例-负载均衡"></a> Nginx配置实例-负载均衡</h2>
<p>**实现效果：**浏览器地址栏输入地址，负载均衡效果，平均到8080和8081端口中。</p>
<p><strong>在nginx配置文件中进行负载均衡的配置：</strong></p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">......</span><br><span class="line">	<span class="attribute">upstream</span> myserver&#123;</span><br><span class="line">		ip_hash;</span><br><span class="line">		<span class="attribute">server</span> <span class="number">115.28.52.63:8080</span> weight=<span class="number">1</span>;</span><br><span class="line">		<span class="attribute">server</span> <span class="number">115.28.52.63:8081</span> weight=<span class="number">1</span>;</span><br><span class="line">        fair;</span><br><span class="line">	&#125;</span><br><span class="line">	server&#123;</span><br><span class="line">		location/&#123;</span><br><span class="line">			......</span><br><span class="line">			<span class="attribute">proxy_pass</span> http://myserver;</span><br><span class="line">			<span class="attribute">proxy_connect_timeout</span> <span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Nginx提供了几种分配方式（策略）：</p>
<p><strong>1.轮询（默认）：</strong></p>
<p>每个请求按时间顺序逐一分配到不同的的后端服务器，如果后端服务器宕机，能自动剔除。</p>
<p><strong>2.weight：</strong></p>
<p>weight代表权重，默认为1，权重越高被分配的客户端越多。</p>
<p><strong>3.ip_hash:</strong></p>
<p>每个请求按访问ip的hash的结果分配，这样每一个访客固定访问一个后端服务器，可以解决session问题。</p>
<p><strong>4.fair（第三方）：</strong></p>
<p>按后端服务器的响应时间来分配请求，响应时间短的优先分配。</p>
<h2 id="nginx配置实例-动静分离"><a class="markdownIt-Anchor" href="#nginx配置实例-动静分离"></a> Nginx配置实例-动静分离</h2>
<p>Nginx动静分离简单来说就是把动态跟静态请求分开，不能理解成只是单纯的把动态页面和静态页面物理分离，严格意义上说应该是动态请求和静态请求分开。动静分离从目前实现角度来讲大致分为两种：</p>
<p>一种是纯粹把静态文件独立成单独的域名，放在独立的服务器上，也是目前主流推崇的方案。</p>
<p>另外一种方法就是把动态和静态页面混合在一起发布，通过nginx来分开。</p>
<p><strong>在配置文件中进行分离配置：</strong></p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">location</span> /www/ &#123;</span><br><span class="line">	<span class="attribute">root</span> /data/;</span><br><span class="line">	<span class="attribute">index</span> index.html index.htm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> /image/ &#123;</span><br><span class="line">	<span class="attribute">root</span> /data/;</span><br><span class="line">	<span class="attribute">autoindex</span> <span class="literal">on</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="nginx配置实例-高可用"><a class="markdownIt-Anchor" href="#nginx配置实例-高可用"></a> Nginx配置实例-高可用</h2>
<p>**高可用：**需要多台nginx服务器（防止nginx宕机），需安装keepalived</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install keepalived -y</span><br></pre></td></tr></table></figure>
<p>在/etc里面生成目录keepalived，有配置文件keepalived.conf</p>
<p>在/usr/local/src添加检测脚本文件。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>服务器</tag>
        <tag>后端开发</tag>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>1Q84</title>
    <url>/2020/06/21/1/</url>
    <content><![CDATA[<p>这几天看完了三册共近百万字的《1Q84》，说实话并没有怎么看懂,因为作者在其中有很多谜团都没有解释清楚。比如大川奈天吾十岁的女朋友为什么突然“丧失了”，中野亚由美的死因到底是意外死亡还是有人蓄意地谋杀，小小人和空气蛹到底是怎么样的存在，它们对这个世界想要做些什么。这些作者都没有给我们一个清楚的答案。</p>
<a id="more"></a>
<p>从书名可以看出本书是致敬乔治奥威尔的《1984》，但同《1984》的不同之处在于《1984》致力于构造一个外化的、政治色彩的反乌托邦世界，在那里“老大哥”扮演着政治首脑，他（们）致力于监视民众的行为，对民众的思想进行“净化”。而在本书里则更关心人的内心世界，它从表面上看和真实世界无异，只不过，它把很多原本内化于人心之中的东西变的更为具象了，比如小小人，空气蛹，天吾父亲的“意识”变成了NHK职员。</p>
<p>青豆本身以为自己是误入了1Q84世界，但后来在刺杀“先驱”领袖的时候被告知自己进入这个世界是必然的事情，后面又反复提到“这就像一个无限的悖论，自己的意识包含着世界，而这个世界又包含着自己的意识”。毫无疑问地是，在这个故事中好像每一个人都不是那么的快乐，青豆和天吾拥有着不幸的童年，青豆的父母都是证人会的教徒，他们对青豆进行严苛的不近人情的要求，迫使她失去了童年；而天吾的父亲每周末都要带他去收NHK电视费，丧失了他自由活动的时间；牛河因为丑陋的外貌而不被人喜欢并且遭到了妻子的背叛。</p>
<p>在来到这个世界之前，青豆和天吾从来未想到去互相寻找对方，追寻自己的爱情，青豆一直想的是“能够在某一条街道偶遇川奈天吾”，这固然是一件浪漫的事情，但细想起来好像也不那么现实，在进到这个世界前，他们都以为自己只是一厢情愿，或许对方连自己的样子都记不清了，他们只是将自己关在一个房间里，那里没有门，也没有窗户，别人进不来，他们也出不去，尽管被称为“神童”并且拥有着美好的光明前途的时候，他们好像对一切都漠不关心，放弃了拼搏的动力，仅仅甘心于做一名补习课老师和体育教练，这样独自一个人，孤身，却并没有感到怎么孤独，好像也不错，但却丧失了生命的意义。</p>
<p>村上春树善于使用隐喻的手法，在这里“小小人”和“空气蛹”看起来可爱、无害，却是邪恶的代表。在我看来，这更像是心灵里邪恶的那面，它们无法攻击你本身，却可以攻击你身边的人，使人的亲人、朋友一个接一个的“丧失”，在“1Q84”世界里的丧失，在现实世界中不如说因为一个人封闭的灵魂而逐渐同社会脱节，同亲人朋友的关系逐渐冷漠。<br>
村上春树是因为东京地下铁毒气事件开始写这篇小说的，因为他被这件事情所震惊，因为他不明白为什么会有人去做这种事情，于是他花了九年的时间去做调查。在调查中发现，这些人从个人层面上看，都并没有特别邪恶或者特别愚蠢。他们只是对这个世界不满，并且沉浸在自己的乌托邦之中。</p>
<p>在这本小说中，你其实可以想象它是一个梦，在梦中进行意识的攻城略地。但无可置疑的是，如果你仅仅沉浸在自己的世界中，不去面对现实，只把自己封锁在小房子里，“小小人”就会来临，通过制造“空气蛹”来制造子体，你的意识就会慢慢地丧失。<br>
这本小说，个人感觉除了致敬《1984》之外，也有《变形记》和《追忆似水年华》的影子.</p>
<p><img src="/2020/06/21/1/book.JPG" alt></p>
]]></content>
      <categories>
        <category>读书</category>
      </categories>
      <tags>
        <tag>文学</tag>
        <tag>爱情</tag>
        <tag>人生</tag>
      </tags>
  </entry>
  <entry>
    <title>雪国与情书</title>
    <url>/2020/06/08/1/</url>
    <content><![CDATA[<p><img src="/2020/06/08/1/jpg1.jpg" alt></p>
<p>在日本的浪漫文学中，“雪”的色彩占据了极大的比重。往往在故事的开头，都是在一片茫茫的白雪中，或是无人，或是人烟稀少，从未有过在一个繁华的都市中或是人眼麇集的闹市中的。在《雪国》的开头即是一个人人都可背诵的名段：</p>
<blockquote>
<p>穿过县界长长的隧道，便是雪国。夜空下一片白茫茫。火车在信号所前停了下来。</p>
</blockquote>
<a id="more"></a>
<p>在故事的开头，主人公岛村即在火车上遇上了一个美丽、纯粹得几乎不沾染任何人世间烟火的少女的叶子：</p>
<blockquote>
<p>这当儿，姑娘的脸上闪现着灯光。镜中映像的清晰度并没有减弱窗外的灯光。灯光也没有把映像抹去。灯火就这样从她的脸上闪过，但并没有把她的脸照亮。这是一束从远方投来的寒光，模模糊糊地照亮了她眼睛的周围。她的眼睛同灯光重叠的那一瞬间，就像在夕阳的余晖里飞舞的夜火虫，妖艳而美丽。</p>
</blockquote>
<p>故事讲述的是男主人公岛村三次来雪国与两个少女驹子与叶子所发生的故事，故事的开头正发生在岛村第二次来雪国的时候。随后，岛村望着自己的手指，思绪飘飞，于是时间线即一种偏意识流的方式流转在岛村三次来到雪国同少女驹子相识到熟识的过程。最终以叶子的死亡而结束。</p>
<p>《雪国》仅仅八万字，却是川端康成的集大成之作，在小说中渲染了”虚无“与”徒劳“的悲壮的浪漫色彩。岛村来自京都，家境殷实，却对爱情与事业都感到徒劳，他可以狂热地去爱上西洋舞蹈，去爱上一个驹子，但他却不敢把自己的全身心投入进去，也不敢去承诺任何东西，因为他从心底里都对这个世界充满了绝望，认为一切东西都是徒劳的，所以当驹子多次请求让他带她去京都的时候，他总是表示的暧昧。而驹子和叶子在小说中则是一对镜像人物。在岛村第一次来，是没有叶子的，因此此时的驹子就是叶子，同样的纯洁、美丽。后来驹子因为现实而沦落为艺伎，此时叶子出现了，此时的驹子是骨肉，叶子是灵魂；驹子是叶子的未来，叶子是驹子的过去；驹子为了生存而委身艺妓，而叶子则甘受贫穷，当驹子心底最后一丝希望破灭的时候，叶子堕火而死了，同时也代表着驹子魂灵的灭亡。</p>
<p>通过阅读这本小说，我们可以深刻体会到川端康成的美学，川端文学的美的“物哀”色彩是继承平安朝以《源氏物语》为中心形成的物哀精神，往往包含着悲哀与同情的意味。川端继承日本古典传统的“物哀”，又渗透着佛教禅宗的影响力，以“生—灭—生”的公式为中心的无常思想的影响力，在美的意识上重视幽玄、无常感和虚无的理念，构成川端康成美学的另一特征。</p>
<p>同时，阅读《雪国》也有助于我们了解近百年前日本高层知识分子对个人命运同国家命运的理解。因为不断的战争与对外的殖民侵略而丧失民众的生命与信心，一切都是无意义与虚无的。</p>
<p>现在来聊聊《情书》这本书，《情书》的出名则是因为岩井俊二在1995年拍摄的同名电影。但是通过阅读小说我们也可以发现一些电影所没有的细节。《情书》所讲述的是一个少年时期一男一女因为同名同姓的巧合而产生的长达十多年的爱情故事。</p>
<p>书中以男藤井树离世两周年忌日作为开场，渡边博子作为他的女朋友而参与了忌日，从而在藤井树母亲家发现了男主年少时就读中学的纪念册。她无法忘却逝去的男友，于是向他的家中寄了一封信，本来是聊以自慰，没想到后来竟然收到了一封信，她于是同来信人不断地来往信件，没想到竟牵扯出男友年少时一段隐匿的爱情。</p>
<p>同样，《情书》的故事也发生在冬天，且大雪遍地。小说（影片）的开头即是女主人公（渡边博子）从莽莽雪原中起身，茫然地望着天空，随后踱步而离去。这种雪花飘落的意境，同落寞的人融合在一起，自然而然地就会产生令人堕泪的情绪，也自然滋生了浪漫的情感，所谓浪漫者，即对于现实之事以浪漫化的处理。同从欧洲的浪漫主义不同，日本的浪漫主义更加与其文化结合，在其中加入了悲剧美学，这就更使得其令人心碎。</p>
<p>《情书》是一部真正的纯爱之书，在其中不掺杂一丝的世俗与火气，没有任何三角恋与狗血故事。仅仅是一个少年在年少时对一个少女而产生的淡淡的喜欢与心动，后来又因为现实而分开的故事。这爱情很淡，淡得不会影响一个人的生活；却又很浓，浓得可以几十年不曾忘记…</p>
]]></content>
      <categories>
        <category>读书</category>
      </categories>
      <tags>
        <tag>文学</tag>
        <tag>爱情</tag>
      </tags>
  </entry>
  <entry>
    <title>ARM Linux嵌入式系统</title>
    <url>/2020/06/04/1/</url>
    <content><![CDATA[<h2 id="arm指令集"><a class="markdownIt-Anchor" href="#arm指令集"></a> ARM指令集</h2>
<h3 id="算术运算指令"><a class="markdownIt-Anchor" href="#算术运算指令"></a> 算术运算指令</h3>
<p><strong>1.ADD指令</strong></p>
<p><code>ADD{条件} {S} &lt;dest&gt;, &lt;op_1&gt;, &lt;op_2&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ADD   R0, R1, R2	; R0&#x3D;R1+R2</span><br><span class="line">ADD   R0, R1, $256	; R0&#x3D;R1+256</span><br></pre></td></tr></table></figure>
<p><strong>2.ADC指令</strong></p>
<p>用于带进位的加法运算</p>
<p><code>ADC{条件}{S} &lt;dest&gt;, &lt;op_1&gt;, &lt;op_2&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ADCS   R0,R2,R3   ;带进位加，结果保存在R0和R1寄存器</span><br></pre></td></tr></table></figure>
<p><strong>3.SUB命令</strong></p>
<p>减法运算</p>
<p><code>SUB{条件}{S} &lt;dest&gt;, &lt;op_1&gt;, &lt;op_2&gt;</code></p>
<p><strong>4.SBC指令</strong></p>
<p>用于带借位的减法运算</p>
<p><code>SBC{条件}{S} &lt;dest&gt;, &lt;op_1&gt;, &lt;op_2&gt;</code></p>
<a id="more"></a>
<h3 id="逻辑运算指令"><a class="markdownIt-Anchor" href="#逻辑运算指令"></a> 逻辑运算指令</h3>
<p><strong>1.AND指令</strong></p>
<p><code>AND{条件}{S} &lt;dest&gt;, &lt;op_1&gt;, &lt;op_2&gt;</code></p>
<p><strong>2.EOR指令</strong></p>
<p>异或运算</p>
<p><code>EOR{条件}{S} &lt;dest&gt;, &lt;op_1&gt;, &lt;op_2&gt;</code></p>
<p><strong>3.MOV指令</strong></p>
<p>MOV可以在两个操作数之间复制数据</p>
<p><code>MOV{条件}{S} &lt;dest&gt;, &lt;op_1&gt;</code></p>
<h3 id="分支指令"><a class="markdownIt-Anchor" href="#分支指令"></a> 分支指令</h3>
<p><strong>B指令</strong></p>
<p>B指令可以根据设置的条件跳转带指定的代码位置</p>
<p><code>B{条件} &lt;地址&gt;</code></p>
<h3 id="数据传送指令"><a class="markdownIt-Anchor" href="#数据传送指令"></a> 数据传送指令</h3>
<p><strong>1.单一数据传送指令</strong></p>
<p>单一数据传送指令用于向内存转载和存储一个字节或者一个字长的数据。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LDR&#123;条件&#125;   Rd，&lt;地址&gt;</span><br><span class="line">STR&#123;条件&#125;   Rd，&lt;地址&gt;</span><br><span class="line">LDR&#123;条件&#125;B   Rd，&lt;地址&gt;</span><br><span class="line">STR&#123;条件&#125;B   Rd，&lt;地址&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">STR   Rd, [Rbase]          ;存储Rd到Rbase所包含的有效地址</span><br><span class="line">STR   Rd, [Rbase, Rindex]  ;存储到Rd到Rbase+Rindex缩合成的有效地址</span><br><span class="line">STR   Rd, [Rbase, $index]  ;存储到Rd到Rbase+index所合成的有效地址</span><br></pre></td></tr></table></figure>
<p><strong>2.多数据传送指令</strong></p>
<p>多数据传送指令用于向内存装载和存储多个字节或字的数据。</p>
<p><code>xxM{条件}{类型} Rn{!}, &lt;寄存器列表&gt;{^}</code></p>
<p>其中，xx可以是LD，表示装载，也可以为ST，表示存储。多数据传送指令用于寄存器和内存中多个数据的复制。指令包括：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LDMED    LDMED    ;装载前增加地址，相当于C中的++p</span><br><span class="line">LDMFD    LDMIA    ;装载后增加地址，相当于C中的p++</span><br><span class="line">LDMED    LDMED    ;装载前减小值，相当于C中的++*p</span><br><span class="line">LDMED    LDMED    ;装载后减小值，相当于C中的*p++</span><br><span class="line">STMFA    STMIB    ;存储前增加地址</span><br><span class="line">STMEA    STMIA    ;存储后增加地址</span><br><span class="line">STMFD    STMDB    ;存储前增加值</span><br><span class="line">STMED    STMDA    ;存储后增加值</span><br></pre></td></tr></table></figure>
<h2 id="arm结构"><a class="markdownIt-Anchor" href="#arm结构"></a> ARM结构</h2>
<h3 id="寻址方式"><a class="markdownIt-Anchor" href="#寻址方式"></a> 寻址方式</h3>
<p><strong>1.立即寻址</strong></p>
<p>立即寻址方式中操作数已经写在了指令里面，取出指令时会把操作数也取出来。这是最简单的寻址方式。</p>
<p><strong>2.寄存器寻址</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV R1, R2     ;把R2的值赋给R1</span><br><span class="line">SUB R0, R1, R2 ;把R1-R2的值写给R0</span><br></pre></td></tr></table></figure>
<p><strong>3.寄存器偏移寻址</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV R0, R1, LSL #3       ;把R1的值左移三位写入R0</span><br><span class="line">ANDS R0, R1, R2, LSL #R3 ;把R2的值左移R3位，然后与R1做与操作，结果写入R0</span><br></pre></td></tr></table></figure>
<p><strong>4.寄存器间接寻址</strong></p>
<p>该方式把寄存器的值当做地址，然后从对应的内存中取出数据。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LDR R0, [R1]        ;把R1的值当做地址，从内存中取出数据存放到R0</span><br><span class="line">SWP R0, R0, [R1]    ;把R1的值当做地址，从内存中取出数据与R0交换</span><br></pre></td></tr></table></figure>
<p><strong>5，基址寻址</strong></p>
<p>该方式把寄存器的内容与指定的偏移相加，得到数据地址，然后从内存取得数据。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LDR R0, [R1, #0xf]      ;把R1的数值与0xf相加得到数据地址</span><br><span class="line">STR R0，[R1, #-2]</span><br></pre></td></tr></table></figure>
<p><strong>6.多寄存器寻址</strong></p>
<p>该方式允许一次可以传输多个寄存器的值。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LDMIA R1!, &#123;R2-R7,R12&#125;   ;把R1单元中的数据读出到R2~R7和R12，R1指定的地址自动加1</span><br><span class="line">STMIA R0,  &#123;R3-R6,R10&#125;   ;把R3~R6和R10中的数据保存到R0指向的地址，R0的地址自动加1</span><br></pre></td></tr></table></figure>
<p><strong>7.栈寻址</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">STMFD SP!, &#123;R0~R7, LR&#125;     ;把R0~R7的内容压入堆栈</span><br><span class="line">LDMFD SP!, &#123;R0,R7, LR&#125;     ;从堆栈中取出数据到R0~R7和LR</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>嵌入式系统</tag>
        <tag>ARM</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>计算机系统基础大作业</title>
    <url>/2020/06/02/1/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">Hey, password is required here.</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="ad1fa2884930910a25c64bc04db500cf60d695312c7a1e31b9a5f2f3b3edb181">bbb33902094af7525c68528baa48ee2fdd75b76f97b2937d6a21eecac1d64b276ed8fef864a91ad8bcd13bc871edb11dd0978c7cc596d2adf5fd9cbfd5155d2bfc2b692af6440b8f4a8ef7370788bbc63d270b6214299478ec5a0ec1f8cdc27dfb20c7f59397341bb6c7b946418314c085ea7642a7a64878d83e84bf87bedf7c3a8398b373b3ec32753ba474a556e61ee2d03c6a079c3d004344e6733c07d17ab8ac94e54bcff410150df3e6cbfee899a2c9ac2a683d583908fffc72ce8de7099c8291d630a003bc56a3c5e82a3f34df0ceab5dd56a227b5f9660c848256a0480619e0b956df819177e9b868101ab6c95ad2502e38ae1b18b7a406abad2e2d0b1795dd010c6a6eb38a39534d2ec465b93e1c12c6d4f154d351ad3713db812aa5a1ded41f9d41f565c0c625ad6255a6026d1a956a90146e2f85cdeb54a526a3bd23089529e1eed6138dba371088d587b51f4cdc7953e166175c9abcfa4fddb282adc90891cd8d12fc5f698523633c7ef3cceafd40bb678ef28994293e3b5abe462dee11a5d4722f2bb019e1beaa2a3179cfc2c9cf624f73a5f85befb5a735c5eae4e49ef6625d8a66f541263e8b3ed2f498dcf2c6a5173c6b47b8b36181b2517e717db020134d7eb21ee0019cb86facdba976740676c5cb4d156c862930a943b17574e82c4e3030f90bfca13da6bef98453d1d57d5e31cf8de158dd11fbde5949f5d446ee352006effddc5190c0f37f461dba6c6e7bb2088dcd2610a1db0bb9c35388ffcbc4587738acd095d8a9d7fc8d66bcc15ae81bc7bb191d78e426d075bb01f21c4130eed36374ccb8e2461e7438b21de76f417c324a388ab28bcccbbb51ea6362d474555d2e76ec43b2ea32b972338296027ccf008fd1fd99aedc017edb8ee0de0bbcde52cf64e75863a7a8b70be464e66ce037575bca21a6cee983c95402f9db665c56351e717436bc4b9f567d27811f99f3ec77b9d63cd869eeb7a5570376b571af23259fc6e858873704dabd69417ab0ab246c7c3ab4aaf802f3e8112885bf431f8c181ebef887375b444a867148818da864cd9bac68b93590f197a6d9765ad81603f0a82bc58e8e0800d3a59b4ca7353e81b4b95734ce44c100459050f2452fc287b10609f717c30e4aa946e216b0fb636bc795a0877267bae2eeed96c24015c2a172718b87df775cbbd13a7fba70afed84bb88b1374a7bbaea6242c525491fbc0cc6fd1e330ca250c0dbff5a41021af7cbe1a8a92ec60d60c063fded112e0ee378e0723bda30d655e9cfc3610f05d5adc3e89511eb9e461b3f9a643ff5c2ebb030634cf3ec3426cec49d44febaf9a543c4baddeb171c8de408beef9a1078a8c4548dd3ae9cd19ee6bc1c145eb025cf4262710ccd5a517712cfc5df31d6a2c06761ae2714a720483a99e96b4f5a5ea9eb019113138493f8f89cf6a45f155854a0944d2b7a4d5a20f091d1267be33a480a71679635e3df9bdfa703945f222ee241f41dc7f8f46b77aa9c62641b4296cfd131387e5cc589c1acf31c10607c46d6db55c671bc21a6635f2fb705f7098c5736914ddf8705daedb3e7a475a8037e330181fe49d210904bc28236f008847c44b7974e888f52a72df8552a7e09ff0f9d0db3e2d4886ff370265cacf0112d891bb6da5b5bd8d378124585a7ea3b95f9b3e90d220fe3d6e788319b0b36c3c1c6796e9252e1a7aa297dd9231335c4973bb48cfb4d02574a3a7d7e336f82a9fc412298f3be7161ac8ca3212d2ac15d9c1ac862a45f6d47a17373e5070788cc862a0671ec397deab7967c7697dee0cffc89e61f3c7ebc6df4565027bf38efa17794b681f1c5688bc1422553b4d23dfa07db84f4643e577334d14d4fa4677af6143881a8f6b89dfdc087b6b8e868330e1f3bca9e36d16648a1a586c02e298d3520142f2c619d7a8bbbd49d0e297191102a5fe11870c587a3a5333bfb674fba74d6354b0fa951973f8c717c7485f24da32961bebd34f60b41512f7c5aa0303e3d32ff4f760636a2a2c09d6d4c1740d52b2cbb44ab47b3cc67391cad902cda843f58fec26c88b0b055851ba7674b04536ddcbb4203b72e67b609a0901bc365569165c2855011ac5a8ca5334e590c6d7ccc993a813e01f251c48d0b2b37238b452a1a4cd431b6b185a956873c3c9e019fe1d5d8e1aad70e63865ee476faf15226a79374c00038f3ebbdb038dc33dfc781f36dcf9f2bdf3f3ac863eff16bade9c01ba3211fceb8ffbf85616ab3e2eb79390cc70543e9071a685780ca3410ca7c97b306259a94f97ba798007c3d471a238052b68cf456535ca9ac903dd473a9d5db15f5dcf95d6aa2626e57e191499e8a762cd588d67e096a10e47688b03f92b9b1d212cf5415cd5c68d3f04029f8d8b1fa092aa9c1f337d6788db7cc5ec1111f32ff64694b624bea57bbc6059eb1f01f9c01eb63f101769ad84514a9d17a78e791988dd8edb50684a6ac936293afd611f1eccab361cb53c70ada42230b06d5f2f5724719a3f4610240507603bd5d0230dbb2b218980c770fd89a29a3c9d660e002d2e7d367ae53d35f0e79e30c7ad1be195c3bff17632148a27b96f54b33dc2d60752fa7cc91726d442f6bdc695807dd145cc74dabb141cf5ff68a5bc46e1c8a9d1bcb60bcdf99e47f4c573770809c7ac65242e6b39a3b7bc42bcd6d10c1ccf3d27f6f5b872159569d922a98832ec2079fc42946ff22f904fad892ff63d67f9bb8681c4444369a9233338fdc8225305b006b759a7012d9378216b0feb543c1cb7ff5a03f9a61182835b1ef2d38fa7f57314a894bf4118c557faf4ea81882ed87101993a78464d5e18799343d85d692c3dca4cdd16885c9a7ef97cc69556f9e8908d2f2f3a0590691caee879c9cf458c5c4772f7223c113c75e01d573d77c931a9c206bb95f2fbb0997b520acfb47bc9344135466de48208f2c0268833181f928812571066dee17da9cdb11faa20efa8ac229d2f34fbba226819ab1196b6354851248dd88bc8b2356c923a1637afb70965dd8e398882adddb1d9c36a3aab2899c8f81a1d21ef73e4686eb078923f4b9d893a39dc3896cb4b080b1e217ce0157fb326096df89a4d0d815fc2d24e20f8d5adb4adb8118b70ab6276fd0cdda52c2e5306eb216164ed9b1f6a786574d32764edc677fc60d043c9112dd0dc456bbcfbbaf8ac0798abd8b7a4ddb6fe0f90fe9c8278d0c9d11feeb83f2219dade7d5e2b9fac2e1443f354528304ac3b7b8071572aaf850cd77563a4d5622f1db0ed7dc0c60c75b73215f460f65974d8f4289f53fb436de564e4bb6d209032f2a77d347cd2b935e9d05e43e611d1b644599e8b1a7dd6ae7f03fa92c4003ac0e5fc916e5383feffba2cf7b9d10da0bde8cdf62075d02440f01a3aaf09dbd6c2a497a187a0182fceb02c7ff5a99b26cf72ab183a48a4b219a7812fbc736cc4f48d63e7db346cb92033b6b9c194e17e6ff203aec7df1d4bb88b0742b00418d12350c6731fea9efface2ebdec215157fa1ae6b422b9420ada0d7b1f5b63a37ebdd733e5d65f29b7822573573aaffde9d0b78bc037460fbad13b0fa66d8d2f50fdd2caeba2ed8834c232aecbdf7f09dd37710c1ebb5d0a21f12717883ea4040678c41baa7e6d666e7fd2c506bfda7a7668d0a6dc64789bea93900cea8093ac77289b4f19893c88a35fe4dc9ff22ab52c5424ec836036b58111c4496922c32ea0d6726724f0e55ecc59ccfa9ad9031603ea0d6168205b91b67081fc3aad219f77ea861aaa71730884b57947a025b0755571450eedbcdc0549cd52fee07d5e642659553bfa736136cb3e8006b821887732bd12bc3572477154481864d9dacae93564ab7acac716407288a8a6982efdc6e5958e9efe62da56f2b8a9a1f237ae4826fb6519be908af55d7b9d2b440518b713bbd434c9e0ff81890c3bdcf8a7d498ad27ff50ac81c4f100a8d58b9756b19e3234224cd233abf641c87de812d204d96c17b643ff718d267fbfe71fbabac205c25db1b1c021bc5dbc9db472aea22c56a9b5ca17b9c6784f0c1cc547d3209ecabaad55ef5284905241ed02745edbd82b230f8a771698db8759a5ba34f9fbceceb4221ff2472a91ab5c877d592fc0392de9babe2b2d5c4cf41a7a5abde71e06f530c4807c45a0c72ceeef15ed275e1e6cad1d1e525999ba8558767ca41639246333387133e5c67dd853b2c10fca4dcdc1d8e3cd6377afbf0a7496cc6b25b016b78817b1bc1078a3108e2a46b8c7dfd0b22fbc6fcea3f6422411c455b5ebfbea79ae67c9ccab04665706d4f5cc6fa7c13eb440fc6208dbe963d90fd7b50a99530334bce448cbce9adc04d68b8f66452a4059aa422f2254ca7cfe19dc02b7983414b3c79699d5894a4d4597f2a4461e2b78f7a137e24d3f5a27f46f066a54e011cc8f5a85d9cdd596d4785ef13d4bd046ee5a85e71f3c4c87ded7dfb6078e522cd2ef8290b9649790dd52d18d24a26b57ea78a8fddbaf652066807b6964a4822cfd99cf212c6835acf61b999b24b82e1d8ff6939ff31be8a7733d2a88ddfbf183dfac170ec4680641f3eb8ea13aac9410d1c269ae3446e0f5a7d459067e4dc5f7f4d8310badfbd6805541b5e134f03cf096a3b1ea621cfcfa8330e6a738958e8632b0c4c6ac1c235a1c70013e55bc06fd34a04186330acbb0bded140b1a2ace6d29cc79ebb5a8aa9c3fe7b6169bf39d2f7910d394d264c3cc8680f78b2824817863ff7c4cd1c1883c136ab54d9bea2c253193e7cca79c428cc4c1b2a5bf203bcaa5cd6795ddc870aa04c667592e79117411529c1060ca40ae67ca8d688b8337645efbba78d9101ea97543afcf097e01eeae0b43dbe69bc0a2b25f5c70348e4cf3cdb7029ee2ac5e0d01dc78e76a2a2817a6def8032bb9538228e27037c11e6236b6922622630fd0e3f44142d90376e5ee9849fac89d17228e3da7795fe181265fd575dd747709af8e4ee90228b683fc16f829be39e57aa6646080aa11541b309e1c75690ae2801ca21475fbf2ee7518a3c73afed84721a98a618b9d4d4b69eb74412644b390013177dbe9aa849ad04aa05d8aa29fdd3d2efcec1e9861d587e25a9caf0384256421895820c1a1876caf549d3858c878267f9c1d7501942153b901ca28c6d4e27fd0af47140e5c3e4c98a19275e89cf5450f184826aebf522cb7bb4f9a8532e8a3d9a9e7f40a9086e5c2b9525b04886493d3f9f57d4524ab7f872cbe8886e7eff55383d7dea6c1bfee86df5ba6f67ab74f3379070424da20a1057b47259627170c204143b67e2239cd8b2d5b1e7265c12cb02bc353fd2d3b0791383198cb1fe1939e6a0c877f614e46e4ef5df620bfba264e4dbc87dc9f2865870841ce2d716d220dd35192a3b59e39d381630a74750672fb126c27ed95ddcdd6f68c753190d86fa7f2962644eb256b9f10843b9fa7ab7bc674c1de4e6912d179eba98e05aaaf5148a17bf25a039d42a276f09f7ed83821d7037463fa0c9190fcd8c726ffc6e946699298a241ef4785cea70fb3e9e4489874039cb22340f6d78805561befdd8735c41ab61adcf4e43d6f64feed4c551b5135c45a111aa65eacfb5bf3e2ca870099df700c360695728a08d6851dd8d089a81f002f4eb454d21babd07818d4bb2559a0e01be0a9284f1f33506c445973e69c81fe2b02956b47df8128dbfa261ea556a247720d5d6ef6ea53e15b2382240b9d600ef635d8655e5b8311a44a85a78a42168ec8258536f6ed19dd998dd2f0a200be290233e62711bc308cb24080bf73da39b4db3de7ab906d2fd380b1c081fffe4fa65f9138f64c2712ebcebad2e58ec5325dc8b62caf702b8f5aab45096342a8e37376db5e75aa5f9e8afe25aa1ece42f34085eb88160dfd1dcd9c023de2b2143a75c7298226ba7d8294b0a356adee70eba5bbce838f03b1fa0ad31d18f8b8d4ceba53b6e5344ce8da88116b7ed69be45691ee10a836b62fb1b6450e2bded27ada8c9aedaa74e46971baf63555320f24dbfb149d2ac6cd25129e8f46c2f1e3f30cce8b50ee8528c63630fe7710d5d882cf429939e4fb714bfc3f9ee99839cc87edb85a0805a2cb94ba6966e3fd7ac620d9732eb69088d9fe202b4b2ed3c494dc26bf48e0dedacc4484bc153eb99cb028403c81e2ad5e0feadf806c39198d16a1feb87fe7a08f951a7f38f5a178e64d25e5baeb858b4671d6d03a36e3f450bc371e794bf39799019dc9875ec000e47c21cd1506444418ed90b61d59a2f11de117df9fda82ef7bf332da608511cad96345a2c8ad3a2f27f925ea1fb87e89f8d96d8a21d1f965607699d62d195e083d6901fdd2c1d68527cc54a90ac45f3d78f3dc53915737db9eef5d4d88531ab7437a0e423a3bedb5375f8ca6df17d59076c8cd952293be1d090e0de430e586694ab8da28fe37ed0c89c3dff29c3ff4362da6e39b46b3de9ad5d63fa2a8e6c7c1bd5459a6a6e82c29b4907624f51e0f1e5909316b523e15c56190012e8f6b399ef7a92b3791bf2802f643ea5e37665b7b55edc22ec63011e9ef5385a0573e29521a34e02ff896564789f6c2b8007a40eac43a0e00168ff72130f9a754433ef0f246cd4b3b8aa8053c1e83c47f8be6d14b87160eac26773ebac7ee490b159c77a3c91886c8db404fbf423f6a14681d31c440a405b035159580406f9383819c39b5ff97de569a517158cb6d0f7d2beea842b13213aeb5f3ed6cd70432a7075200066adb406431f97c7cbbddc71c17d900678e44a93d47cb563f7caddac4a207d7f9dff55bbeabd3e989f8ca93500a172423ad8dd6eea56c3f6f44f50ede6f6bc33dfe6f6f2a252c3d9ed3ef04e9d206a4f4d015f566e341c0376f6d4ce212e70e282d6f0385d7faac9e4df913ca1421492ddb62fc7881b918d8adb0baa6f537063e70be3e63a7ed180c79924e935621ac0d2bac3587f71f2795001df8db330e96a91beceaff149fb7ee2fef9a01479aff04ce0d4f5a9f8c52600af09576181fd1d71fb1afdad227ff4f9074d901d9198d2e9f5dee4fc8ec6b8ed602d103ea53835a6ec8e9d14298a498c0b55ad621de70ee55202520eae09fb99c02176f43fc39c7060631b14ca0adf02e5cd0147ca51986d8498770e2a59827794bcd48661a170fc4e578767fd9bb4bdb3ea14def658c2b2b8431a3fb914a95ceedad83ebbfe83f93f81976dbaf7f4a8a0c2ec1dfbf33969b8ed20211c4112e756ea5d23a57a1a01fff0e74b289e0a0f612d8af38f99ac051fc183eb04ffd75230198e2fe1fb1ba8322e5bed716123409198c48de607ad35875f4c1c47c7be42df5238ddc5ef529a156df10815dee0a8ee6b96d0fefdfb17a768e1f010b1d9f95725319f62babdfb60ee356baf6032879bc0d838544e5bbe404aa9482e247199f356806b977af04dd2755bd956a0a0ef77ddfe00d7526d89e0bf55eea5ec3985548e3e5a093849de5e80b61ae998fd41d3e952ba66dd92068c7b702ffdec7aff0cf9c800320788193efcc932b04115c720d9fe4577e5bb7f34cf49d7bfbdeff3b9b6c1b016d09690295139e753ce6bdbad1da527fdc5883d0b24840cb5afcca3ee665565611725caef74d93b72dee4f7eb4d3debacbbd2e8b18d5365dedd3af1746d95f5af18c6ba0349e75ad0969073d4c265c7e68d4e184435aac6b9b0721fd5e88e8f9f28ae2ad1cf8f62c0b96460505d91039f61d37b7a8d61ff14a440ee2f436522b8c72ef8c707544c195e32f5404c6c9e31792c7b344e6d596076170c5ccb273379f561d931592532453b04829a47970dcfd5f069b55a6309c73f9595121c3fc170e4b04a6ac8a6779bf00a3e7973bd40a1dbb71994e4569a48a4b7c7593a9fbcdde9425de89001c5ccdf6cacfe74eb0ae142efa26c387d356151f16ee1fb93fe4c656d2e72fd16cc8e6e7ab24c7d35ac1ba2bcfd23921414b1942f3fa44193e1cad2d783d5827739508a414f594ac003edb56213ed78dac600d49c5463da997103fbea0cdf8a547ae3ab01d736b671be51b2abc480f7f635e7c6c5230d893ab7300dc4fa45378fdb8558c93bc63daa7992683e8889ccfcce168f19d0f55c0994ced0e2114f26fb568444173a92c1236ab6389a5a9e3eee02430ffcaf3cb1aa55e6e6c99d5ac4424892e1c26e055e22eaa2dabaa8e982b10846193daa778957efc8c8bc8c9bf0bfd813c0fbf0aba929c38ac922644f7b9a10f772e75a900684b6f59826eb1066048e5ab9ad05b80c4763e49c8210b3672654dc5bf3c175f78a907a600dba80016bafa30e3f7717c250c8daf133506473744fe65e768a3921d7e7c47acda5133caf317204b9f37c862147ccea27465799995a59d7e87822e84a3fc7ec87acd846aa07b93d22e8651931a514f545a1d97fe047361dc7a55ebfd295ac82fa71937534912a6bf89e792717d7dd5ce0e727ce7041660399b3bdf130d31f63f02d5fb1927968a13eea38171c1a56c0be969e439365a99e0fb393d3b8ae01500ca0375c34628c972a63da1becdf545a3eeb9d6c365b79bb717a5b59f46c1a68f2166ca74f81da2681e21b54a03ef8016e55efdb86ac5f3ba9aa568920a318cd20abad34b673d964457b956bc4665c023756880dc546b14515cdbd95f0711c227c1f280a98a95efcfeafe172540063c1b6c780bd2a965cdf0285b75007436c3d2f3c9010955b046b617b0f118603254cf6673fcaee61ffc1ca4651ddf2752a45ecebcc3516aba81b03a4420daae15e9b45875f6a69f4e351cf03bce3b0fdbe10c215fc139a9567ac13b62c119bc4eaa9b3f7ee3676430962f53767c7b69bcf8db41eaa50d479fa635eebff39850cdf34162aaa9adc356348ffba78fcfdc7ceda79a7414a49dc6a5ef9f41f11078fb0b773b14e90845386a6ab1533c98c56cca81de3c0b144e4dbe5d35c054fe3c8f7dcbc69e1f6679416ce421d6ff707ad936a85187eaf2d5205c688a55971b6706451103dc4d783573330aba951a95aa1deb9fd4772aab960891a9aa6d38246effbcf2a6ebe5a75d68506320b5dc056d184c800aca467867afac24cc4ea02206400ff97d0905ce077073a2cf112adae21e05174d04417f3cdb79ed7d14fd9bbc59943fc03067841f95e2234b873e2fc3693fc0476345b43d0a2347109233a12df469ac8595d290618d63b5febc9b24f0a5984b707ab1db4eb96c9a18994b828c172ca0ef252b8babebecbdcc8d305db38292d2bb418b7945b1b43ef623a740263e8ff99a93aaff5eda7079e9b4e705ba7cdb141daba1b35d8df436136bb980b6d15622cccea5b8b425e2568748dc092a2846aea9bc6b60f9fcd262e15a06246b0e851f28f545366a2196bbb03a6c84ac326293bba7773371d14164b3e61ffdbf940755686ea13bfce09c824a181dbd821bebe653e802c820795d10b5649657061bf3cc25249920c6c031b26725fcb7d5d86a920990c4889d0ad867620cb9f9e441573b6632795dc61766ee4932d7eb7b2c17a2c72ec870d168857cbaadacbd314e6b0cec1c1216524a30bc1ca9944980507c2c8070f403fca9e24025bcd173802979e3ce77c9df0cd021787c4241dfb718f7242006e6176ef37e9a5efa7743f71193a6bbc4ff4d66ce5a59ec9594fa8861b3124a62d90528c5dc3cf6c628e34ef712e9cd53b1b8ecfcc2ed36bd98af4716a2fae7d7894cc31d4b40bcfbbfd9cf292eb60fd004f52443b2a27a680497216179e0e120556b7f9151fdfac82618af8dbaec8078c743e0eecf786ed8e7793f9ab047a1d9d74ee287a972a1a91e96fe6bf5363364124ddad55107182a4423e4ceda943c6c5d0a2adf6a95bd6b15190a3f809b0cbe97300c48aa0c4d374d875a6f2562c44d1eb7af1d2dac8472715f7ca1ea6af1fb4f3f78dae1c4bb4cc5c210a7aee73e18f8c09b14c0868fabcd0ccfeb8818a3686bdd25151559f7dacf929e578043d8763291b476d1a7db3b4569b849650692c52788a8b4e6a54b4de4f95ec13137b64a71aa13fc17217420b5d956dc35a56c4d24cd65a13d1cdbeaccead7c5096bafdea507e3c4d8222cd528f8a29d16f1a50ed95aea2a8b2e1835230b8ef7570dad95dc66f646ac4058634371bb84d931aa3d4544cfe70d8e38581ea2238dad2b27f2e247002f1fd607c5aa54d0abaeb2666ddf0bc50d11e3f9cb40902b49cb42a096a9b4760e89a4d8b986a181803160b8c294302f9c82a325e4f296ef2d1a13f1c28343d89dfe39ab49610c995c599594ba94f5c209bfb2e3b62adfbdba679e63145fc06bcb2d0647d1a9cc0cfb2540aa70a7a1e24b5959a90541e15c10aea7616d1f57d93cba04ecb40d3f8c13c9a6303971b78c7a92ad9e066e04ea5ff974afd386c5d9f7e1d7b0eff5899424ff105a771d461ad1aa48fd66fa62a3490a028833bbb3e80a5ac804878b4672b1860f57ddeddd2df3a2e3a39fae261a900d88a50dc9c9586f01f82f9aa1cfa51300ea7bd80c1c09378d896b0ee8f495e0415207ca4fee33c2e456da5db933309e40ad7410419a59d643a12705710a87c40c2ba166a4cf33e1c6fd3beba191e28b076b18caa0bdeb657e29ef642a24bc321ab0de603d777b62b8c4f5207045c2efc62ad304af7118b615aa6ef5b1b2eb6f9d5184067a9c1dbe12e1c91c0be0bca1fa2f0f875b68e12808299d5f42dc5e0cc06c63a3a699e7d2713ea26ce232628450a879bc6cf0ae2c5bb41124b77b4b81eedae110e86ebe101b83163d22ec78a2315e47c15a85677f8cb87876858a7a196ae4785f503638fa8d9319140ad0a9c674857b19d3503db035eb41ac43463a8c566138f3d024330ef2c7df5e11c4a3869ffc6a37085f9e58424294da8c4c21f6e974058a95078db09223384d5d212f50b8ae1eda807aeb26f4e62f232bc3f08e120b96c919e8c8d8eae6364f064b228b88189e9f44e1700940ec5ca57d088906c510816317de2539bcb62a1c94629cfad7898da55c702d6c39a546a793e80fb8a71f664673122a262a8af9a7ccc515ab109c7e2a9673a0fcbd742440af01c7ca40499ea8740d3cc471e92d348aea07429c5ebbef7a016bcfa2cb7accaeed424d8b893fbe146293a5f7c55eb45fa6d529fdf06c62367cc2ec19bed89001789e1b11db78f7a819c66755072a697b09f9fbf88a3f2fe3ec0e5f229d0dc84e24e898e4df666da6993cefa6471f8fcdb588bd78c668fa63388ec017b896d0266e89cec11e04ef006ccfbc58fd6d5e9a880a4521f3f8731527ef93316cecb75d1dbbba23bb53aead19d27e92b3f0d5d6907c949fedb7879a8d3b90c3fd5d6c8723bb41940a3cbd9e93e68093a953bfb52003a53e2deae2236e6f898e8df8c68bf79b41662819df97e1ae1d47bad2c62b640d8f23369a58424de27eb752eeaaa4745af47b456d2a9070900f0300e12578a827b1dd8947908c66afe794c2f50f66484d3452b5e26ce1aa38517087849515bf5065eec8fb29777603c1c404264bdbe622b940e7dc8c3d50bff0996b8342594d15b9e9c453cbd09b437862c4c45846a801cdc1be8884031073c2e73e57522439491504418402fee47609125e6edd25ad8bbc8c7aa48d8119965afcaa63f6c755ea369811b23631857345becd25dd0a2933462db6a804f74dd8c893074836f6648ced48a3c5ddbe16ed708f852044c71b2de14c86cd85d093c2d979c3ccb918fef13cbdecbac030e326bde98ef5b633849f5256f36eee7dce557f2042af8aa1fe4476550b6f2de3a9f7c142c4797f0d444f1b4331e8a326e499e0c9a9e30fb20eadc13252dfbe91d95360e666be3c60f480df3fc0ecfaa6f654562af3588bf1f13aba0ebd7ac8c3adbd314c843975dc5dfcb7324adc5d44cf4874845b3404b493e3f83b447f18f2ccc3355edc748910e381cb32cdd602642cd176deaf4ad72c33519435f32b4405abce34ca479fe9d07464ea03ea84367eb0c903bc00f47365b57c186d5246f35bf3bef784571db566ba5ae9c59f615947d23c04cc8da145b0af3e3446df995df40bae71e60e9cae2d3a7368f4f90a5fc1af9dfa52b640ca291bb4b763a02987b3c47542e7587791ef65c2393f2e9cba50145fd1e0828bdb9a60d998aa1a06a1e0cda9fa1b45c9679234cce271f84f0eefe968f86e05afd0872159cdbda2298ca1548963fa588878706d833a9a5f0982cc2663901ef289f00868e427f7ce98df44951dfcc21cca1ad04d6e1ff77157ce8a7dcc25e09f75d3b413be967ea891231a1075e532fdd1ae463e5a4c055056dd7edcc593521a772a7a91fd3778189e39a51fca50104d9dea5150b42699cabac3974cc6e9c837e733de925f53e170ee0d470ec80026d5a4b33987e9d68dc1d912390f932e4527f1357dddc30ae88f8f18603e4d11ad866dc6d28bdf2b9abe16777cc8316b7d204075a3ebb54843994c09e693d26d1e08a296403d38feea0d8f14d014ab7eac6375967d3e2c34acce16258627ba07d4714d63cd59694f1b1276ca5bae62c385f99d48eb9d4f93d3c76cab901f168aafd30e47d068f9eacc97851dc5b9f3cb69348db104815514ebec5e9f34be4744df6b33af2893df726737333b277b02d6f3cb3d9dff99a51adc53bba746ad6c0eec915b4312cb0cffd015ee55eee504435a76bc4ca73ebc22b1ee862bcad659e5ff2d43fd3fb4f129ff778d5c24f0d55d110f7e3692fd00d8773f4529bce6297dbc9f7f6ecd964a3a22f88a75526057cac9c6854f66b56a4125ceb2ff6e70013f04f9f2e5579c778b43f803c53d3c5baf2440d34cf419ef754c4e499c3a211074df0a29b1eef1987fc5f6f77ba1efc89e5436e82e900b53225dcd2e6df3c362535c89992feebca6c04372f9baef570cc444f2a58926a5a41a8a901f83ee2f971c4704f1324298ac0a5f8f82e11fff47b3b3e4f3c421f4734910eaebb05ee74b1b512a8e861bd91b988068dc74db3f0f08b650072ae17a7f7ea074911560f42aa0854c0aaac215076a49287d8686d0f98caec39fb64e5cc7dfdc84f57b914ebd3c34c8aed95f719e009f93081930edf04553d15e2b814c1a53a18da5600a99ff5e32bf912b520ad0118e9eda4f7b496279864d2c392e18a1feab816c9a2c4bfdfc8c85390b1483687150e4626aad65706d4d2bf23c8378d067b96e2ce3094a7f051e7c8c1a257f1a7036683b7eb208e63b9ba0308e7d7c229bd2693049c0a69325e235a8c1ee7fb35766759ac8705c2fe342930ab1523274b50342f13558a3d4e8ae283a03e10dfc548f26a1bc664b5beb07c55de062f8e30c31b1e63a477ca5b43d659fea9e7478f35327d1f15df14e7aa78bcfbdf8e4899eb3216cc3477d26a0090b12771a48ebe200c63ed190676a4058ed6aed194cda2fddf445b79aa19d32a7c41c5861e78a98b024e67966bb312e6baa9ae2f26a3052c9e84d4e3798184717af7cb85b052ebc97600a796c9824a302caf858ce61764f07aff953f455cfc3a2f337f44dfa74d6466ddd1a9a094141c9460264447d63399931f5fea3f9f6fa71aeae92b58153a43becdebace7dfeeb03bb2948f41a31762aba08cd08e4a752307914905feea3da984d1fa331d69f2177933961911e8af4cf8d55d8e2b0b547b2494a76fe067a12abae5ae0ca32e8392ab7214d76972d2bb9de50d275a350147c8c690ed791f9fc9efa2cc26585af41d743ea3404f4158861d3216187866e7d908f9dfaa9b1e685075ab252846048a0836186a91fd8e7e71ce1b744435310b368c5050a49eba9ccd8f7216717f08f9c737199af68e2b4f009bcf4ac270f4ca2486ea5cb20c892d93aacec4a4b27dc96a5de6ccfce49c4e6d01cddae5c5227aaafd17969db4572a568fbada8df5ea474652059c58aa441b089c341d69dc73aadfe9373ca0318bf0eece80f62d9efd500f79be5e732c0a606c6f6e538b734fcf916c96f19b16076968b3178603a488061bc6721a96963773181efc65d3aaea6414fd68fc2202df74274c7f58849d1a7713f2bcd59cb23b4c9e1962130e3972e03323da2bd772d9826fc7f2038119d68e8c881c18a4bed4b4acd9dc3ba7e709c5ad9759c2d9185fcaba5a54bb3c78e04fb8f9b083086c5fe8b084d0d3170948c4503b9e980894119ab94d32862b40e3220ec660b412192d64f108f0949a665ab4e8f530c4c2e85bfed8728171e21419bbb370324ad3bf8205d0a351b09792b25b641b506aaa4a629503b0196b919a7f764dd44b70cd1f009727db694efc90cabcabbfbdf5780a8c4633a6b3a95c4ddbec387b62c0395c05702554659724723ee5e346a10d2538b69ba9acc2c00586a51c00bc8d11a8c31d2e55803fec7e4eb3521b3f353c4ad7fbf639a9646e29702b03b7e7d66cb2bf4d784161f900a2ecd48eb9b5336d7c34e131e33ea1faa806d09294504a73dc686c6124f89461c27a40bc9f94734ad6280c0c5ed6196fd5b4ea41df1d56d345fdb7d361d71b8d0eda68c85827fa8cc26c7c6a0ccb702bbf44ad1de9e02474a45bfb867881e484c5cec1f1654527414f7e8721d765bd6e27e90629931c13c5c91cca6d8375e1975d11d8cc018953ec8b3e96b6611cf7e92c9c61cb1f1cc8fe6beffa1f645a0f18bba64784643aea664d19fe28e248709b641681319f284b6bcd6fb1dc8a3f409c6f767929b572733fdd8b24ed6fbe9c5ac40154dd6d80e60c99d384157223005363220e284d9b822815febd2a004a5ecb95b40915672fe1b2505c8be4aa1ca6fe233f58deef481f8ce5b9508cf78c5931f3362f39f93099b6c35c01b26de25c4e1679a0147dc5eb28403a10c44adbbe29bbf3d579f61d81aa2e8eb3ca18d1efb0a4e0a6e4601a0033c6b31140c29a3222407f7f432efd462cc0393a36da6cd0417514a02dbf049280d5465680881dfa3ddd32d6208f2f852149eef7fa5a03b1ffe3e5b78477a156b2db2bd44a724ee97e6607eb6fa13cbda9c8e6c8e3b07973dfff2e888c5adfd4a8bdde1a784de835704d84ee6674bb2a47fef110677c3ca72332248096e0ef33ebfa326670fb595b7896f060421885314381d6c0c8c700877e9f93a1924613e981ca1df52d494d605f14e47bac970e25ae65528d25df021c05c61e6c7ee03a49c81f9d88325d0a698ee18b165b6a788bc7396e47b96312eadf45c22bf35d9484e605fcfa265f0f5f9bdf26e05601b375a609057a614384f82d5152197d1a3d9403528afe752e54f82bb502419c9c87ca6826149c2ae2bfa25b358e8b0f0a10685ce994137ffaa407d5fe5f5c8fa558099e297e470b447e2594bd61945221fa7ad731b8a0e55edde24a0240ecb7c2e88cd93536e80aff9e3568d62442aaf3594c35ff1a640b88e982b940039af1b0996b4105c74aaa4152774cb772b0d0db5df285b23bebb1b9d21af6b181da9b5f5f5aa402b0cde8d513db6e9722dc394955d527821c95bc15e5bd7b380d5456f5c2e00d33f0113eb84f50206ad440d525a5fd249c12ae7495cd29fd723b28dcfc06af997c48e2c47855edca29629bb4c60f6041e12fb20aa58f498da633b75c88dd587141a14166f6f1e3d885bebb8f50c633ba73c88dd543a83ad48c541ce97d38b89d1be758e28bd38dba1941d325fb5c7617d4ca583d5e0de5ea6bef6757b91c7606606bdc1575dad388bc4241889df7628ee779a355df68920a81494b6a40bfd21158b8607a7693d26228a18668841a761f52c43c88f4cd4ae91068d27f951926737dcfc347bb034d505deb51a418bcf230e48a3cfd9ab861632b4e7c697543fe59a2d34521e0bd65bdefb92acc5ce17bd9d249dfd04d2b4612d494e66c89703fef39f538e1239e9081a3d1a85ab043a573c35c427e7275ccbec8ac27640f0f19a0dfc1cb81280127b5624bd703cda91d43b3b33bf870f18156091e7b27ecbc6e3a8f2d863beb4bb064104d850a39dfa5dcb55b53629eff89fc3fbfd42d6c8d53a538d90a26ba04bb975e25bc6a79c086369c76f3911d993c8e388d6d6fe881aa27d0910675d3218a1d05e82da1fbc4863f49209ee8e2e345cdcd48c16008b6cee7a105ece3408f2f403191a5939ffd7828c6db927927f5755553ef0dde3162f34c4c48cd03e0568a97c1d4ded4f66aa60612df486fd24ec52d35bcf3d15d4d253a2745af37148ab652a305b74b1716984df3f2c899f0f47438112c4001f7f1a6363f74fc229d9b80cbaa69db18cb20b2fd105b44740cbedccccb76d084d6af855055571081ec025b35c8b3b828cb4ff30e149766f5d1b9e7987b5a8d807ff0ca3649b6a0c4f53e6c21bae1bf2a0995c367136e96279f3a856b148ff6150db03e704b868df15cdc36666b9a30133b21259707442104497011527f596c800d43df45b8f2790f4ef81b30cc4818c3ec1f950628a38ca99c09230f5a7afea4e6a197db81a1a4e6ca77c63570c58dd9cbef037eb8a7aec574aba3a59190f8fa5d393ef725e13ca7ea91559113f5fdb715705f0422910ab43ecfa16b4e6f07c323cbaa1fce166bdfc89badb5fe106871fb2503fe9cd4dc34236e4179740cd171b1b2c5ac0151231bfb873b75ba387c215235827cfd8f53baafb1b045016bc105c8bf2c81e77d8f638fa23e9ed3d9b7e287744b3c2de9ae13af04e0242cbe822b4e1a291c88279a2abd69cbeec613ad8a5c90dd3489ca95ff87101002ae7f3531e7dfd674985b602fbda3bd95371582607d5710f5c8dc23dd88695e29724e2cc642a1b0106c425c6b1eed88fe2a8441e337078b8c6fff84a8a447155e4af303e557e1b0c8f83027cf2fbf90b214ad68fc08df44408f63839ecaa4cb5f4a6093257e604f127529dba334de61c452565d077fbdc13b25cd0b87f949e5e573d95ef067f80a3924a1e8b09de1276873bb3cd0c263b18820a39589e88ec60b9048aa85da2abefa513bef8114ad87426a0f274c835d79db409b3e61823de1059724b8e7370f6ac80b0e587e7881f66d0c840ee1d91e2457017dca029439ded3c6b2c02ba467520e9c023d1092ace8b759ece62d241effd09df1edab9fcfd0c1b60e56ed8b4d8c6f893654452428b9f91996cf51bd8c7c3fe96561bce815288de70d9607e55a58d497a3dae61036e111118ff26f39306cac2cd718e847853c73e9b387bf388d102d71441f53e73f5c0174b669f6cbb3505c862cf3a5804beabe2d1f73ec5318e493cd9af7a6077b646828bc0e0f67965297d7d04a9c4c81d49d84f0c9b1a7df6f1a3920a9c83eda6131b040795bd0f2715754aef643f95aae0c9ad94beee085f4b5097a3ee3bfcf859fd32799fad9ecc9989bc6325bc55483743bb725ee0007513dd8bda1f565c3ce5bd642f18d051d9c008be07c13974252fd98114f86917d0a8105ec9e7462d05b7d1640eba39b0e4f97108512c902b8a35487313eeb15e09d32bf3eb0d38d3187f017213d927b492038475457c33758622976ca55149840ce451fa9ff4481edf9d028e1a374f0e6256214f713924e14a0d7914c2495f85538f24088e2914a61260e34409fa85a575b707d9168efd5872968a042b9cf89755a3f2672bd6d24a615f33f0f5516457692738a28e383fb26cdf46dbb2a87b3498de4abfdd5cac6859aa931748ea0e4c067fe938e2854ee7cb942fc61bfb8220b16b679868b527598260c46f0d3de25fad8638101f8c33b0dc12d40d843883e95beaaade9d1c99a767b63f694554914bf4180e8140ab931cd1010cb6fd58a745dd6c8303fc814c46c2b0dbc24d52483b685169f6598ecf13b067f0060d0be7a81432a8b6ceffd20a907d5ce359f38ed32d7705ffb6f75ef662e7d524db54e33405035b4e5546a499ac3ba70dd4284c8df579474bbccd722fed2d7893a3594e0435cd16d13d070b0f34e380c716f4f7b7ba6010e2d88e59fbbe13c19a341c34575157726f79fc0e4c4a4147da0c5ff74c313e96b44606b2bd4ceb0593cf68c68e66f7298ff90bc23beebd1d1296284aef93e3dd7fe83f38256b677327753c165133284751abf851f34d4d22289dc509e9ad13dc70bc68fbb5e50aedf3bfd47c3348d08924b72310b2a2f242aaf4a1c2c96a7973089a55377beac1b4aa5576601c75d7b9f7be4683b4dd9f8402a77f56c47c7c930fb705870195ceaeed1c859d481b627ec865819f7ee76755f481bbb99c56b1e76bff64db3f25fc510f4f2c64e4cfa5e0698b000982a6649db90fc07cedd2a3fe74846ecf5709a7f8935ea78f1e436a42a2a37d393a79b5e706296a192d693339a5bd7e11bca62f4f10a435c806693c5f0bf6f24ac00b96e968ebfe04305409bd8409050420615c6839f6a6449d070eaa7011ac065cc2d9dc199ef8c156e9ae72a8f5314ec787ec81910c296eb6a05aa02604829c4e89d4fe76925fe1cbaea8330dee8ef3afbb3eb950916833fb8c1d2e3a4c61910cb26fa579f927f0ac05182ca96af300c80290d2b0dfac1c7c39285f76f1103b593fa4119077387ecdd94a4e8a50b964408db63930235a2ef7373e915f6ee8bc5bea0f0d73f8a8a472b041badbb927e64c0c70e15dc46e9e101c63cd15ec70afc5f6f69758a6128cf7e45e5a80ce556e41087fc63c8b8cc830f674037972a40a4e103845e6e2edf573ab50be23174377d2279a81afa00e5c0a3600f7be2312ded381fd6353d7460a5aa447d61d55d62f92158d40bdc5c35ec23530774135d7f2da5e300dab6c049cc5a6ce3c7c4eb4c6631170d84ccb0ea9b65a5160d87511a99bcd3312889b7b938459d090d7043db0527dcd215bffc407ea37ea932e4ead02cb68728d58ed8327ac9c001c9deb33fe510fd553ef91adf7cd6906f5fc32c8afd980952198fad43a44463da6b3cfd5056999eba7331d65061733da800059acf7b00f7921b8b7f385e0f0834ce898de50f956b97f936eec9d3de152d7846db41f6a2216e34c9006892f4d23c8fdc5d7f15b4d11b970f39734a38c24f81ea0a71c9943c18cc52a375e5de1f56e0efc7a6b7f1a18f6d1e16f030f48929bcbc371f9b823a86239288a361fbf3361f9b754df39df079ed72b25984d45456918c86ee03bcdbdbfce86a905c59a54aafbb7c10ebad742d59fe4de8c5c576ddbbac392a4c1dc6a7611990592acb8c2cd6dedd78248c6de789d116b63c46b23a494a932fbc4bc326c0bd5f783b4d1b438d8de721305531b82f0c130015cdfa23cf22af629feac1f8292e75a9b5c535e4828659de6e82e3b859c86c73b899eebfdc57e3e4536fd587645d7b8f5489e516cb745d55e6abb77464bde06e6e5ada84742dedc585e5991ee89803e3d875a9b603ae98ed8d0b8c19a99f60a6e09a448d4c9d09fffd662b4579f373d8adbe6d622a4c67fc4e9233277dc9b7aa2947a7cde64720b7bc4cc0728687da1454f107f4ad7afb0b0e1bc142540827460b000afe7e3db094ab3086d50c7bef958ca75fa43c243dae2a959cd39e73091bab7a089e3ac89bdbf2ab13cfcf6b2b10128932449a379a72e83373da2e16352759c1b49533b64022d9fe8de34684112fd016e197ef0d864e0641ca19a710772ea40a40f89b5d80774a011a961a8d95cdecdc7f08de9db1ce15d4b9f3f2f5928f0bbe641e11620f50c0009b15d0b87151d5cc68083921597603490c84467e620716ff2edffffee7435a125e38b84e94932c237868bf216bdef365e9d8d82e939362d9478c1e83bfbdd56097176b9ead6a81ab23cdde2ebfaa960d583d4dc1a0e21c7125fc019ffbd887b3641434fddc77e92dff47d06d85809f3b29febcb2edee3c2713b7766924837f6077b0bfab042763c5feb5d906b05b3a9dd4a9f1efae4c2cb8752bbff503c64f53abe8075fa529e775d0a4dfd99bfc419f5d5c0712b559e9583f8f23b9087d5cad900f263598e9a2761d645de73926df8ecf07b135a751c460afe5b6a98445379159096efd60e168a35424d486a45cc9afcab0ca34eb131549054cdc3b59e9b8b93782fb00998f6387d80fc269a6e73f7aa69a0b272d2fa379ddcf67f364bab1ffa3e42923b68c25d65c6161d26f4496e570b38abf7b0ba590dbe5345fbd596ec60c21a262d3b369a884037758e0b245c961109d9ced2ea112375fb92c63c71dc07bf6de153ceb27cd0bc500503ffadf634df2de08efe8909fbfd33aa998216297de851a608e1217126577621d1dfc6fe49dc1331fd3ae68e4a731adec76ffa7b7b01754cf37993e9deed62eb77b8034d038c84fcca8ee61b73d724066f3db773681ff6c84bcd3977cd12d5c7a63261fed23152f420278b46f2f18a9d004f4ba147e1879d87c2031a2d222b4bde09da12ced7808e4d84fe5bd23b2f2050f8e8e62cb8814c4f2a92aac0367e2bbe70a19b0dc0e87b4089778671f18cebc6bd94d3d2d7933862c1e64f6aadd8783fd6072d6dd4098f32ff4759e9c46508fa762ed768093553f540091c062d7b2f4c2a4d97c8ebf0d84c06543c7183ee876390caa700e024e8779ae9a692f1b196506ea4281467c96c644f836741faabde868272e9307a05c43d8b28dbbef45465afff25e0a490171f0b456079e1c509d274e7f33c50055929ec51e818f13e05cc5384d021cb39791ef9f6d8454d1f6983d860139a51d9469fcda54980102dc7c5796dcbb71d2887e6f7e3794743a49d3d46ff4fb5e17d2998c1f57ff8492d82c5f34bf6e976fafae581aef7ce2f43d5d06e2d1a7623d76e99cc1d2ea14f29c29fce3e11fb6a8c21a2220a75f205498ca665d044b5f9e5a4a9375921acedde9a94c9bda411628649f17038580fe6a755755591c46c0971ec5c9f48fd34887d13d188adef5cea3818f4dc29b2194274f70012012a7483917422b92fd400759ffe220e4a9adb6e8680c91237cc8b2d38655ace296562a7824c3ae8cf7f25c57388928c68cbd221ea60daeea3e25074850cfbcc874d220c45787a387a26d7fa806cb9bf855397834404492f60d93683b59673aa0399c6e3303d1671e7c91cd9080cc545a687e31ee2ad68b7db4299c93c559a4728ab17da2e24897fb523b39342a9780601baf14f2307a6411bfdfa7f73d42e00a73d9032556d8c1e9403074be794f694c8f99b18567af86dffa335ffb9af0284f673a51105dd945c89987f3a6c9642b6f1143380a0a083470b27d938bff2a67d25aff1c6a15a6a7bbcd80ba67d0076d28a7bb0c5c7b4ef3fb191b46be507b4d63cc6dd91ddf3b1273c91f487453bd150833974e930a0d39b3a646c18a4b5db6dfb1a96a3f5e04e6afb4d7c6d6cfb4098f83f7e471c8c369d41d868b0c2640caf506d27229d0d3e31cac698ef7f532824f0a79ec9c84fc7b1dd25a4351619b5a48ca0e856d535a6e0381b5df11e23265763e65dea9a73de34dd2e0dd40bcc849a968d68cc057e794feca83fd951a9474a1a80cc1ad42a6aa3c15cdd7c64a79bb11eedad1c93030adb5201da37b16d03ef1dd963d3970e080149a58d8fbf20da87544a7412708cf992ef4e34e9fb098c00a4a21f6e28b540c947ea23c837bc3952822e94be10e4287b79eb8b1757d1444e21d43a4db53a96e314d375ea1c86263a7beb3b117a9efa1c9721d08a5adab1832506c7adce95133f21068f9afd4e70289df66cb2aec1630a0fc5214adc6502411f8f32ad63d967a0085a4a6634a2490aaf740e375e658c29c0667e7553d8376fbd23a80d717aa90614cf4530fdb67ee4c8222cf74f545a9cb425fa2c33d96cf267d87eebb95396b080bf8829121322cd5b85fea75feae8c021054cbeebefbcbfed82aa21e7b44c25be252a5c19568775f20f12b51727596f30d67034d6fe1d12a74c1d46da72ff599dbea6904af0a0008af3c1a075bb8a2a455d892aac8eb100db916ba0a37eb42206007c2ccf542b98ad02aee0f88f52e2c7dee1ae1472127044041957a17634730c0722270122523122feed85a7d582f4670c0ab5f524af31f3c25d68e27b824105e45b229041725d1c45de53ada0abfadf64d53b0bbd717b76cc613132038c83db77e41d4fa398d5642aecae5588ec1dfc4cb52aae35f1dd5f672a87552614c36c2d1bdba31b971bcd7b2d02750d71e22e071cc87bc92f44efab7855975205fd1f7ae68cbe88aa63264d0fa90896a640adf924ca5d8b42aa74d00010f96451e7e2db812f90d62c088d7da2875d826c2ddcddc6f9694330601d82f04d8ce7342753e9d3474afac01714613101e727a23ba787b6e74be7b6cdc653bce6ecece9f0dccdf100a4683b18239e28c097d775d5d8c00c87a618a768d835797e9e8f3a08533b7b0c0355a4693c2de1dafd7ba211e059ffa4c5fa3457a3581e444aacda3128b53f71c84f4847da00b9b861105f0066205c31d24cc190b57af491461a3b1777832b96c8c922d272cb1322f023e05e3022689e9d6bd682871676c41969901847f934f76713d7fc1b052c698f9f001d4d5780fd79e555198472787cc289d91f3244acbe085d2f38b4d14b8139c4706142578a2b937e3f7b76c769e0f182e5e7b2e8c2d101d5b9fd2bae4e1ef3da1fef1decf397d7c459d44588cad331d991934482f8aaa1108def4d751affe851f444fb54dbd2b4749bfa101a214585a6c6000fd42346514c8589c82da8fbaf40b7f9303ddde700bfdbfc0ad06be08e437a96af88d1afbe0749f65939f4f13b64b7b5b0519fb26f67978ac2a46d6dea215686b9f4eb343d5967999ae3776e2461d8c08f5fc327dfe3d0b3022535a214887ff4b2a516e88bcb8cd398751eb4559bba572ac3767006c14dae6f4114e9f7f844b642c4c11322e61173d51b08787ba205e9c2a271c2bf6a3c79f764f2dbb45cd201fa45a0e9b76af5a2aa3c2d5b44ce57caeea6f43222fd0015daeb250c9860b209dc81336fec28ba4859231fd16ca4989838b8bea2dff42158bcfcdbb798e30fe65622e7fd682925d9342b327301ac7f3d4ce698dd8b850b879cac53bfc8bff77c7b2f4ad50d40fa0ffb44c344f6adcf4f59d9ab8b2814751301ba7df497673033e0d4ca675c45070f4b0f317f362740d687f8773ed922f2ff5d85abd5fde68b6e135de34618e39640e6639eee2df8075fa726d256ba03a7f8273534915e1045463f9771c79cc4c8e985081ed7792c4ca6978c598a978135f87fea3101c73a75bdd571bfc1906055a0684a67f86b0d8fa0c4b7d3fca1602da0346e0ea7c7e97504dcd718f073b633e6dd5a146f414c1b7085e2b200854e6cb50d9ef35cbb6d557195a163834da7e9d45ec3c7937d82cf7c655f91daaf083df862f20e5f74e014a428c074515b4cd74dc16a07eee1560d70e302e297ff7e249501e9c91d733d206430d27169502206927effa039cb7462c430e95c091ba94972795039fd5093bae37a7d6b2c143eb47c92dbae1efb1b8a9d04ddca0b0561c78dba3a0c513f1652650c83d7c5c81dc3b7e5e785d5904e37220230b5bbcc36f405530e8579186286da146a3153d8219ee3e6b4c251708aa618a7ed31714caef918f82d559f2365805c89336fcba9dbf8158b8330e5299fa8eebb5d8618a6aefe235701d1e82580240d81655d0d5985cd1a4e2fbf75c32b9f0675f07923fdd31930512faec6a54c228b197a92d575373c4030b240397e1d538e6ec81e636e92d3bf467c41e10d4c0cea6e6a439a510021b366bf606d4e36998d7e4764cb83dbb3c27f2b9f4182f14c2dbbd491e7eae38c63714071e07462d19ed2957a51bdf4f3c30384e45af4ab359b5b9b44dd3851e553099ebc994beb546d8c54a25228d4e2f2de9c69bf685d487fb13fbed1800a08d93a8a3f2a25a15ea64eb4600daa22ac60556d4accd0555b7b552d4dab67e3a525a7b01e3bd498eb981f02bd2cfd4f06a2912d8e3a706fed591bfe371245ab658e5933465194fa3455e7a6429c4be9bda62c3b086e2839a07280953f2f54e1d4173abae823c6f2995468f65b01b9ccf3ec7ad2954853d5313c928eaa6f1d82024b7c67f7e6ce7e148e576cd0a7633428365710898e343ab85383cd82a585544a4382b53bd7f85930e75fb7c59e65ffdf5be30eacba42520fd46b1f2bfdfbf1e6232be0057e87cb091f2ae697557f3f6f7da4e2a86712e14bd94c2261046bfac6a4ab6cc7d57957c3c5430e31997e3fd30bdd2ea1209b163be12ec91c70606a4aa5bf210b904291214fd1333bd018021c21ab6f7f3b9242d8a4e7b2d01cbe67bad58f637516eb734a4c3a0f25d4e6f8f9681231974bf7bb78a67a76a9cdff212992b00bb4d246693c9b1df81a12915800180b1a326c6e55d58288d7a58d2ec9e701a94d1e61c2df6863f871686148442cfb41f6b16420550cc7d6f8c1e40a696a7b67e5f2dd63fb4b150ae5c33e48f7ee2d23a5cd61c8107715e6ddb75d7e9226dfdee3ca696c10f5f8ac0b923909708498f2c1fe85078c223b7d7a6a9aee8088f6aee372d1dca669cbf669578420d7613e18ea42e65c91270df376ac1e71ca41b6929afa320f823331b6c628c1e16a233511ec6137bf237b90d066636b6189f1b2a7af5ffb9cdf263b51a612f6bfd70ababf4152b0f5482d7532eef13ad5b552bbf454ee5a2db0e5b8dade2e572c6aa750e2c43fa57a41543d627fb04fa0b5c3a980054150254d170d96bb709d32e660078d70e8d6707aeb6968cceed35e5d9de6a967eff49ddfea4bd16ebdd84b9df3cf5ed9689206a4f163b33aa8c075b418a019cfbb733066518cf08a28bc4ff5ff77d313408f0ef9d4cc4965f0ead2a98408fb09fdcaa7f458877f397bc6e72a3d285bdfcaefa8650cfcc22d54ec90c07a522af25c095b966fcc40bd2ac72057d0a2188f4b479b9e9a2369ca70734d62fa0966af80bed8fc3d980e4685929fa02ab67bd40164b36425a1971a09fa78aa9ecab55c99de5059a9acef60817bd0e7e1d80e73855ab3f37d75af15f487a54d0c85a4ba3a4679e5dfcfc22f85662ab7274c1d211bbc6109687969edd6bda50c5287936e916f67070b66af09f3faa691e57eaf9ca0321dfe5ef1a4bba36c7d5aebbd9eb7a96f05cb293778459736f5fe65f1b172787954077d8f7d8f691f56d40d6fe6e92e63910d0f90cdeabb4eeac6fcf7d2489af336c2e527ab699619773fc3c90d29656ff1d4df5e07221fd36cdee84722401bbc1e7cc3971283d0aa29439e96ad2ff95463ddd5a2fa89df994eef7aede0f1e10a1f9d5c07e23912b9959ec6a4697e5eb5e71b0cad83f17c34a8670d251f693ad9a9a7ecf5c2a3042a608ce7c27e94d1ad100bdab4474911b8347622129cf2dea506e8505fa3f21aa8576604b3f026549b7c250436784c4b13c3af1416a4b4ddaeedc5f37bd957dccce7305f941fdd38d8f0fba8cf815d99e05f2509c05a6b185283e378591dbc28804268027bedd1a7c564a8b545da8253747223cd084e81790daabe41eaad450c86a9f6061733a38623670e9d147960a99ae45f7ab9174aedfbe619474787f59287e6d8196cd9f6babb538215c781614278cb9282bc4d38646a7bf94c574a5ab56e38ffd793bef51535e08be7727f7dca725f9a5404fc055482bf49f04f1ead320b928e25c24dd8527861e3a5047bcdd270f8d225131d2d3cd5169de24540dd1ced928882053927cd37c23d6ba38aeff9f4e701ccef0195b9d018416161760c7c0c17e71b1930794e66ae9fa19eb34f86eb8e57cdee1a730b60b141d5251fa56be48b35afda3bc09321ed9373b533f784acbce8dcd8a613f41e1e3ca16e46a95f2e7e79be5ba181564f26440bba91569aab1c525a83af602257839d36c6c8a7341e8f81e7b381cc3cf59828f49ef371170cb665ea61611c243d49082e415aec84838bb94dd5688644966e975ddbeeb37a9fd2019edffebd7018919498e01fd6f7a76a3c9a3216019ae002204b3296dea0dc0113454494e3c14254f6ec9f2e9ea706eb1a8fb5aa493b1ad599e3139bd3866686b79cd5868b66390c5f43e7d01e2cf0c6c73570fcd820c0aff6a1c6184eba1747ef66954df08298a3cc1371c25fcb2408f1af735046ba80f8827cd0dab8c3181560ba2b026a2d7371c8885d587b0eb7e6df61de2a0f7ee5f5fc55ca1135ad17ea84339d884de7bd278de019052a8890bd44a8e63990ee9848de86261495d8480120c536f771c22ca0bc955e96332e18ccefb311db85dcdae20271fe5051b2b81b581333c4aae38895c0fee79a807e5f775f56ec2de5ea928a4bd220eefa5a7539ff33f3a2d0048fe845aaa48401aa9d9ca8c2e772f60016b9a13c216d3b1f9e6fa9560e69685c0ca52d9c71c3bb28f8ed2eb7903d255aa2438a369b2c6d7376bf053f2ed82a304dc9861df3cadb888439222cf85e9ede412f482e6f851fc0b151d072185860a8dda949daa79e84c1c4b204c0a253d26360f48b9ac51ba17c17ccf170f37f46c573e148339a9a5c922b709fab9cc7886d58b0471279232c8f2c04436f7b7e404fa2a009c591db19d33ec2b4bcd3d949b470af760a95d4ed17eaae01d8340e1e71a3265fba6fe8b0e8bb94c45e679ecd022487720a018476d3c141f2823650fee07f579a10a922b0db1629874b0136f48e585ac1cd538a9edfbe1407a399e852c492e98b93421682a8943cec2e57d4db23ee2fe1ee5eaf2e3efc39e439f5836e972bc9a295f8d39889ca9a325eee695a1b976b7b83100ef6085b82ef5f8568f908c3cfa485cad6e1360490dc6ae8226b1be75046106d16f1fcc54231f394cb7f530648fb4e61bed143c16d96d1ccd8e37dd527009d0e8a11f954671554719860b46466ea30ffc9ff53e7d99b4bae99a42e250b57f77677bcb7770f06b1f74a7b0530747f9dfdb3a8c5c4f81bf9900465cfb8ab6c2f7ad2d6547d8c3c6343d4e34c47d1fa1e3254c640ab850513e37f7f5c6907601e516640272764ef64f56801166a62b38f829d3961f955125e6bb0ef4e9b731beb9bdbdbdacd8cf0463b7b3df692bb9aa68bab02c0d72c170bdf428b6bba3d199ca42a8e4dce62b9876b4d0a489241ee7cfb39c6fd055d93fb3ad8b74daf4081b5259584234d272871f83d361eaf68e5234e9c0d3bfa854197c372d282f9b079fcbbad3e3a26056e0e796877a1099f9210742540da8b7c2ff881a0d4bdc7d08b76e4f6ae6614570e25c2647b733653ed09c582eba6ae5612045f02be2b5b6f526bfbb94808418f87dbf6f67eb8323c94ea8d833b8aa788f4aec22e1a1b117601267dc3f40ddee60733d358d8db9ac97a8ed99e69e7f9828f149e4866f65910131ad4f150e16ca875a4634bb89ae0af675ae075aa76d3d8c28d583b0e56e860086bd5dc7820a1fcfa3224f1f79890ad29e901adca13b3807320b3f87ddbbdbe27279098e6caa3dfaa0719e97111bb9e01f96292e814fb833dc7ac4bbca2d22bd0d541ab2ca5574d1921080fdcd85f035f911b308e4c1702324463beb0e6bc0aea7ea54f2c1c54c689275f586a225052fce50465cf80014293e84f01227573cfd282c433960307f7403fbebe5803f7112a163479872caf4c6480d53024f89ca7bc3bace85ae242f388f9cf544062993b57a61d5493efe9a51d21eeaf9e73254d32cde58fd02693d713e2cdecc4d32c501fb22e668c2894f99f46cf7c67c69b7dec42eb0b141ec2e327a6ce11cc89d679708dd634f858309923717b254629ec9bbba7fecefb65d3574015b31941c1fa310436457d468c1482a41ce3496c7104a659a7ab1026b7a2e4935ba0adbfcd50669f7d6144c742331871c4b41f93797e40837fa697564b6503483f53be92068e998b3de6e827b1342bd47ed5c7be6a4e5beb00cdeac00383de976158a67977cb79938181ef30f006f627ec742cb295cb215c91a791b5f8ac30f4d264b72917da9e4af16912487ddb274713c7ebc1cf4b782181dec398bacec52d306ad1714bb8aefd56c40bf4bb2232e25c8e74451190b60e038b6c0b5781c708e99f04c06c3908c7edba4c42d4d35d514c497c7471d5d734915488ebbde0ef571ebf7f472f28d17e35096871e6dea0908dd5a9961b7bba3f23125e13e3b3729677fe90ae3fa272ffab785ffd0a01c0bad9c5d94fed137be79ceb595808fe1dfb66d094d5865d62a83c2d734317b82a71d22134521653fa7823ee81442bfd8321bfb9982dabd83c7f547dc5c82495e720969dea7978f8cc807d94c1007219a3182bdeb35b5d08541759ecf1686233e2665dc61c1eb024177951fe78f498f9ec540a1462494abced9001002d0fc6b05da18456070050205cab69773ff539a4d743b5f6eca72f77fdf59738d04a88dab089da3dd9f7fd6b2ab2fa3cd8cace5cd766ef6538e3bb75dd786c56f3cacf9cb4176aa7cd9df4d853f540a7eecf38d8b8785a61115864724ec0c8675e52230e55072a3478081b43030a6f065f1bfb45cc2535e874e3101c48bf7eab231f37222a3a6a99fc6a2852c8184c6840330d2613127c1e0746e232c8bf4e1cd738a89f9a14de2e194953bf246004f930f2354e5cf58b3a9be182bffff2709aaf8a0d1d76a4d10414625ed8ef6ab16d61fa8b6f73b418a1aea269824ead21127d0c1e66591cf605abf60058a196652d33531830a8be41bc2e34551456a17f137bd6c2e3b7b0102d363c2d2443923660707e4f92a4c9bc13fb64da857268ef2ae66733cb9becbc8ed0510e30b3dda5c13c17c11acbcc2f8a435f1445f706d40b9f06944206a08f81d33eca4882d19c430e7b0b19d010953498b8e5e92e43b654951b534d00a4c27149e1d16594d89dc8f7669a137d44b4b41bb288e9711dda7324f484cc42774a655fe9cbba3cfc5baf21f9fdbddda9607bf0720ca2f43b9f5fd2bbeb0d3defd077224d39226df069c8e59f817cc7eb04236fa4054fb99a0d0bd89db6e7d00aa38e50a70403063e45b0a23d441ee50f91e0fe339f3976ea0aa5a9919a1a68600366fd446b6e4804ffd123946d598d9058d601a8d3bb9cd29a0cab653437f4f04a424098914b72673c60abf66de50b0286de858eb11d23c90e3a2fe00f6048765363b445ca06ff529eb2cd0d95dceed05eb94fd9d6e5d8303c25eb83194a073456f6c7ffc481f48bd49d0b5d2b6bd0882bb304a963505fb347df678725dc4deb2c72e1c5133899307d86eced4ad78ecccf5e784462cf63f1ca7c7a0cc9a1f366123f08e9b75b63aa13f47f127bf0482bffb693c6b7b135fa56cc7c8ae576e92e635a8d90be9e52a3d3baafd3fa1f66363a939452bca3ddca238238c14baebfaa854f951b72a3eac5d990a85e2dfaac6da694654509fc2d479872f3f1685fcdb40b04b4440218e71bb417a7c480fbaa79a9217f4890418d5fe7bc7647ebc694ccb5a96b1dd67e0fcd7340cc6239b9adb585d57607f3ef30db72dbe4cb8e0b9db99864f7adb640ad0cdaa0098ed916bc3facdfaa0d18e4908062ac3e05221f4b5da933a27039c6dcabb32aaf56d24227afb8f749ab6eaa03f395843d5518643c0cf2ba3e5cb1e109380531a0661543eaaf8b5ff3ea48500dda924fef733c37fe24e15da3e2235ecaaf2bd292bbf6be3a4f333e932192e663eef253ee055633db79bf1386c115cf1d415a0583c3525f3d37b71f225bf04a00686f0e646615f5594a6b8f8f52229bdbf7e3c9865d3a4bc3f6afe8baa267ff90f55783d553a3bc105f971b33dc2b9a1a270773bb1028dcf7f35c5f0272446e1292f24e9f81853e5dea128ff8da2a37a19289e60108f7cf1854dcf9663529ff7c082330fe92382a981a65f3dc8e6ce1a3e2e9734cd50130dfa625008430c1f49f67ce9d86846275d2ff5b77c09494a3cb931bd0c6901d4c1bff457ebbbaadfafff0e28ea62225751b22edd2e73fc8b33dba52a8dbe476a86e7beb85def062b7371d46b68c1262831296025416256e78819d41c46c9be5b6be9b15ef5001a972e4ebf079875f99751d7d16ab7a96c8bce531164baf33eaebddfb465dabad78c005b3364e21f2e9905fffca29136158861957259458c581c5a60e955a7e858413016340d55863b38967da934040a3e6233f9ace11e99d0836ce74f462e3e045dce6bba730ab620131eaadde45c148ae9282e77913bef0102e862d7d4385e638aa9ddd029067b6b94f11418834390a3e3b0f1552d69166735d04137bf281aefda47a0b4b438d0626db531e6fdce993e30c7f0528b8424eff1a669a6069a95b5228a5a71024346825761b7d17ee19c1221d51e91f403370e90562cf9f7ec4992c07700a89f6b3c008d3f2cbb8d65cbcea722bf024d01198d5d10cecba6264178007e35f60dae139ad8bfbe0bb6ee06e1ac8b51786615a255a36d294669f8a5e5396380829ac4e03f15dfaf52a80e3a329083dcd879573760b4573c0f02a69934d506ca1331f81b8309889e02581cd58a0f09da5fb8a04d1f56bdbf1af634d2fc0de34962cfe289971e98294704b3fe150d7cb4a88c282b1071b0eec69962bf37cd42f6efdf9b8c6920bfc84db6d9f19ae897887fa8a4250761606b4575c50de6d70b2f062da9effb6ff1c8529da211e84d611321d2be516f0f442b87d38acbd4293faf466726befc235532533bf271e6db85bddf3c375b2752c96e64172553b5fae85509efaf7e62a470d0d9741aa45022f2bd1bd4939142b0af2323af163a24d6a629edffb74b27ecc59755332951d18a11d9c00a8a2ed1324a2463c097dac39f6a13c1c8ab6901e42abf76de3f9a2a580c013f78079e3f5c695ab20caadddb560db33c8cfd5c9fe99bf17c92541293578187623cdbd9208888fec4a77306c6c7a4f9e315c0277daae1a1ae163f166feb45e90775a90b4e87e3cafd82c9b2f17244302133ad0a576f1a338a7a2fbfd281a0320055969c64b77748462afe7fb52de6ba2572d6c3b06060a0047e78e33446f83edce0ef58ae5de6f5c6b314f0fe539aae0d542eb1e21abf96fc518dbcfb10e8188466ca0655aac6982b83c89424482581e6d22ff7d9d78de3e76db8e726f757259be23db0371e004804552916ae38ca818e55e77b811bb2f1db1816896b82085c92545cf6fe0f9785f1948f1243913cdc9df1cada9545d78870bf544bff75e41445d669cb9491c78a1264eee08048c77debe4780ec980c81c3a4064b47329a6af31bf2a358ee0cee0b56de825cc05920f42571c7b88cfe232c3e5602c86e13fd248edbfec588476de5ad928bb24b458e5cb66def92ba8fc35b0920eab3eecaf4824c7e21c6704eedba21dccb48406bb1c04ad9b681440771516f695a52bb9052c7788a52fe9886540d19f706f5447d3840b407078edadfef651b4241869bb50017a706df9a565a3a2ed609f32ec74b4e3ab67c4169f2d6be5797b81576d9d025a50a7b36a52479e44a6c99126fb6a8627d0d86756cff3f62095fec5a62d511a11131695a015c735c646d1aea536d3a79893172b9ed17af59bbe2abd32ea0587445256810647bf4c0e96eb7b16329e1050b822be8a7c62f9b341c745f2249b84459968dc2175a96728b9c69ab8b9b91ddb0d230b70992e4a50c43fd8d08f75e647d84c75e9777766353602937ec9cdf659f3dfd51a03fbc6824cd12b8b01c5d297dd0d03f880d6772f03ba397dd088cc0d6cb0c0e195617d40ad5e0ef9a5c0d7ea0591fb476a4c9251a6c0578bef549be7cbec09e71a7ade8fb0a89ec5e31271237f66e78a8fd0691c2008dd5b8c09c5abb12798a125c7769b3733d8848e03064f99ea88777b812b2dff29c2e4afbe23e3eeda62314adc895b28c624064469f3df6398e7d16d8615a88b6ca7fde55818d6a99657d476f000ff8ea12a584066862b8d83974c8b6299a3ff1113330509aafb8fd0454a54825c3d6015e57b9d9c88544098d5c51023539284d653e1179b62e1f262ca141aecb407b09eaf5a9257a0baed1bd9cb87eea0a443acf515c44c8bfd421883fcc1cae389fe87cb61727d41c73dddbb5a6a3386b9d359f04b03efc2c1dbb1bb45f8cd1f882d13ae57f1e6b4c6b83b607939e2a489388aa77d170a5bf280916c58cc34ae386add940849b07f52322c15c86ee0f61c6f61f6ca8ca263abbda4a5480c3c41b93511db16aee4443e4e3f6dcecbfdcda17a4b936495b1173db539d1ad576ca7d9a99f57c5dcd12a5aa328303595aa7feb42772f2b0b429f0e8b6142c700efd189934483b86e9d7fd1b2d07c5a1d8146036dd3ead3dea987c7fc7bc8a5ccf70c539284c266a8fd5379e2f58ea8a00e4569cda105d3c0133bee346bf2846c88d3526836159b29182b8499008d38de3614abdf22b800c07170db303e00e20d0b71fe267d08937e2555202099f22f444f9adc6696c55fdd665f563db9e1a68bf4c4516c0322855b5c26acd55471eeac70dd2e83dabee1043ccb0fa09705792512e795a2ba883f688571c437beccee0d48805559479cdd042157b713c21034be6213f01d162e45017be42caba2d4fa6e50a75956ae583ff076e5c9c1412220680bb2a9e8a8a4bf62b21e87008a623756003bcc43b8b39c1d932516c9efb7b6ff4e47753df2348118ee166db8e94fde0559795e1e9998e75b09fe07c44b3faaf3998d9f0fdafdcaa07841ab9e4e866680dd66e0fa4db1f96cd9014fa6196a58959b3eb445711655a023498f19969f5376540392a0dcfd94cbf4c7189c1195a9557b189a02bc3148c3160a9cf24f7f2f663bb11f5883828469265db2b6ff10cf667e26c6934ff568ff02dc2262806848e9080b31fe335de3b6b81b0e0ebd1c8c257c2028522c309da8b3e50440b416818bc04f9992c682a2dfb8e09de330ef80c6cbf26a70c14ba401b06ef6506734153df608ae0c2dafd0e3e85a4f1ab57daf61d677a51e9e164b037a62c5654b226721349b7d45b6c14758d25cde18404ec74f6c57ea955fe1b5d718f7db2b552c3417c20ade84c2d3ee8c8defd30cbb3e4cb80e8fc71f26b893ca0bb9b4e28c977bb0965f58de947531ca15a6b6d5ab5fd1a6ca3b560baa832c359b05fceae826f423f3c237eff940732a25f50257fd84b406f57529ea84b1c9bb92e4c08ee693167bfd9b96e7e668b40928789ae21d79897da11f6f9193ead71e1689ea2208e0f08d4b2e8b0679037ac0e16af1b57711b92e034268fe61886186798a13773e5d2a791f40b9258a44930f9bd86dec3a34ea19d8c7bfcf7585e69f9edcfb82a004293a6dd316678fbf84b3f2996a9381f595138cd7ece15a63b1f9fd8d0cfab69a94cb51fe1fbe1f347c0161488efcd59e01324c48880b81e8a874b624b49dbb89c12269c95f578db4b1bebaed3c76e1c1618d8cd0bdb045eca5bfd906c6a44e84cf2a1fcf031f36ec478a9f790b013adfbdbbfc049521244e2f520bb5a6e497a53f19cc150b3d94dd7c73808c056498707cbc70abc7397e23bba29a280a607e755672df9abc93b5d3f9f8196755bcc17abaa01644db9756f5d2122badbff258faa51c7a4e850db779eb295107c42b9f27b448e26417cc52c809a7029fa65af43a7e385479c5a1bcf7c429492a9f1b1da5e03142dd7916ab57acd7ae7debd84a80ee64289616e261470b3e00fcef2fdc42944653264cd6647d3be9ee03b1e40a7e12e465a9a0a9d244fd691999e8ca9cf7ea02edcd9073ff07d9deb639177c599ff8661403fdba55cefa4e625cfa0ade301eda09c8094e6687e2a51408ce703ca02b1522b7599cfc9c4f5fdae9bfae4e1ce036f0eacf0c4ef69f47d3874503d4d2578d9d968ad8a7614d28e41399e2a9607f6341fc63e32caca0a3e93e97a12a0e01194fd1e05274be3fb7daca3732400bb520ef83e66a9b19a331187e32d8b1ef3f15c4ed10aceaa4e568566e512ce98e476867a5a92e595f17ff07f45b932a7b5972099f1d4eb5844292ce055726d82012768866e63263e47ef1ea70db6b1329feb90355e5e0cfca98047cae80c7de1e3bcc935ef09c88bdffe89f9d3a479677243620737861ad0dadfbe2dc9d679c4a405706bdc9add1d6df4b63b8b0bb2c1662d929c95063d91885ec5554e383845e813caa716117834f293da7fcbed508b4a78422d0aa2267a0f66fa24d0df781cff4348f98ff01ab3bfeec23d2f9662126019cacb3a94777a2143118ef4c8ec576ecae44e5247874bb7016be8371ef3bf0c9f2ff10706554b05592e01416abbf8b14697aa21879a3f0a0917c7415b32682dcb8d7f9e69b4febbc1d7f21cf7e243c1436871f7724deb4a2b4ef848a183352f4b9740ed82302c7c61f5118ec85116c7ccd5742a1f26f211ec27df9c8721ea8bf7b6c8eb57de78162b7f7fb20ac40a47cc84f2395512e92e46bbfdd80b346d9f211971e4da03a992852ab718aed4e466896e220627e21bb83d1d07bf56041e08b5549b22086fdb0fe612c0f6983ad82a49d8ce48b429cc8eb3285e1b050e139041055ccfa7dcbd6ea6ec14a0e39bcd944cfa54bcba5fe8a986d903e1aaa0120965454592b38bc0556662fadeb8fef0470f6cf0626d03e9ba339082b2ced35a47fd7cc0e747ac1abb8e70372573ed6df4c6a1e12d9a74b022fa2797729b48662c463cf8a71a0cf63f51204ac071e3bb4a1745f9d3d8c46913b134118a997a89d8d15cac8121b77bafc144c167cd042f3b4a779e3419a6b57cc7d7e0813a07a2b87a41c5b04d64aaa13b64fe5585b16251ead21b40dbe2da910aebc2485da97aee8664d0771ebc2d5d1bee482dbe72c64f04a1228ff2b31af5057d4ffecc2cc3065d4676934a0bd401427cb37e4c9f537cba4aa59759215c5b7fe742c0f59f53f000160e9a4f7f9b60032659f0b02266611a53ec17294b061a1b3d0ad159532bf8f6af5ea401ecb8e476afc298fe3eaa23f50b791bdd44dc701df277297b1ddb3ed8c716c58f5fafb39477470268787ff066aa9fe6dd87bed8e7ebe224816b4b69a3a8263e3655435abebcb70e6c7944b26c5f885f8552165affb226e4d2ac2c07b72b826350c28315bbfdcb37ecce1ec18e13e1c89357339ec2018ef3df4cad545264b742e0d09fd7c6353e24411310cc09f8093e975264802cefa1ad85c5dcaa94ff0bdfdf594acc44335b3ffbc8d196411cdacb8acd07c5efbca0a9548fcb12bc4ce6e68d2c321f8936f9731804058aa6fc9b4bce2cafb8a83a37fc849d8e45c8deab20f2df8482e914857fe2f5ba32c2a8f2bbb8f2dadefffc55b10f6c68855bd35d369b857616f71df12e4904f764fe20cf1d623c97612d4049e0fe120400cb94ee297b2364c694d51f2588bb2f6be14c5c8a909ca6997781fba76211f5a807d2553e019645ee5fb431f7a736a7b445beb5a800cfaef87f0a0772fa8dda8746d1524c39cf3b39efe0ded902234999d285c4193499e23a31fe9d15f44a88cd851cc2bce6da8f47c3bd61393e5f77f6b5aead81348e791a963dc12f35fe251de7575616b8ca03f7b24731062337c6c54cab0cdf3501fb852b7d460bde9d728526b41433b291b0d592c312fab998a93181b8fcde230d0e2dc73aa8329d9a30dff555f2020f516bd1bfaf8538526662b21fbd4682dd5cd13bbecc9686ad913091629074ffecd1f664a3f01081625d28d61f8d98a2958ae0781ecbe7a8cd2bc2a9f70471d0ab61dab1f55e041742d051d22cee632e955f47b903350a183b709d51e12fc8c10d5f57e04840aec3a580b6f200f7098c4e8af7692d7a47283e95900421fc46d66407f8538409c8d5ddca5edaac1832edc6cac550b584ba2eda13f5e6237f04055c5cb06b7685b28846dad7ce9b4971b27cbaab6aecf693a4cde8e475ef51d0f955fe6823ad2d569f23326720291a8e968230153b88320435bb70a3c8e219f435faea41f088b3772c278739b3bbbd1547fe121c0a79abcad4d9c86aecf438c598cf651fec52857675dd645de16baaa2ab21a3f6d6e7ce659237edab92867f81081585d387c84fc75232b3769711d183416d33bcdeada108ab9b78d960547a1b14954d6ad82353a17590f0812655200f8ee62bf28ad4882568cf377ea31ccbba559e35221d49f45a49cf2d8824a8c15335015d2be394d09c47196e357ec90b62d548c782ef98f9581694b980be243c8939c9b18f31aeaf1b21ee389f660891a33594ed246a74dab3530001b139f3e635089c5ed2286b5618fb80fc2d30cd747ef47d22867e7244a8764d6f9de8fd6a6dea63f07469e9d3f6cf5c76fc7359d6744e836868476ab5751df51cced3a272ded294e64cd2018a225447d80524813b84d54f437e23edc225e764e8525b41e7b4deb5a140d41a74fdaa286ab0980e8ebfcbb5e6f5135dd7d605c5bc987561413029ea14714b442f47baeaeeebf13462beca38cc0997d75efc49c589bb9d275f2a2a988d6839ea72b794e0d73fb033166b6345b76b4baf5d8eeaa230b69304f277ab2286a996ae557b082c03cacbf4e59e54a308d37d25dd6e91d66648b9a3c8c863daf2778d7c0fb1975588defc4152db05b0c1cfecb0813033a8398fa4ebed4ea9cf3f0716b138403ab0be4e8b9f24a00a218c3e27c28632db81f37923cd1bc1bf2b81b49771507f9f871ec0d03cdda8984e17e91d582b738e1a343ffe4a96c8557caf8472fcdeb0d3bb503b78570a66ab89ad6b6e90ba2739fefeb3f6f8923dc494631e89906c46015436b21d835f97f1e82c84325b18c681e1cbf90b9fac83caccda5af32803418734267df29a96b8784d7c6f0492bf4d52d437f74d2e8558424c0fe3885fb2d10ab124bdd28a112db7b02beb13c818aa4ed799d9af3c6b7818caa9a1809297c35c1b304a8265b93849b3db9e4db008753d5825b115091cc4548126b5786642fc60d445a6429190cf41b3cbbb144dc66f801a8f9769c6fb1eada897b3faae428de6cea379ec3952176ea67faa05eb598b6ad841f251e7f524ea62ad58df7203a2295e3d351878a67ea27f1397bd3d9c19d7ad8e74d0e3ef99a8530cdfd8d5f99af519d4aa66a9dd3e6e60d038234fe62e34b2f5610aebac348d26620c7dcca6166b70620f8e196ab422107dc6624e20133da91cb91fe667b38ba7d4d77aa0a91f0b199a6e01a55d68b8f67beaa25cf9c62d4a9a744441c0c640763b04bef649a3c84bc141e16275297ee8943e3539d2cf80e433e09593826b349b97b73f572b33cf75b8903cda38513f9bd75d36a86a0081e0c794a57dd254bfe57e0754dfde2458becabe17f69d45d4a58c011d1100fb3943bb8b46192add37c88150c81bcac04615d864e152dda6a804eae00a3386bf696b50baca453505bbd429a07f85102068427f2c857717b3ea311f2828dc5c1826f58846ead62899fcbf694c402010e8087356ce5e3f7dd952cab9f19b4138801e70858a02d90126c5c50a0232bf3b8028e891c5853d414e4c392ea789d96f8fdb13af48f58f5a9676cc90686e41d4426dbd7ca52cd040814479dd9d8432e1061484bd51122b57d2ecd1686019c4ab34a5a0b2abc2684a7a67c3113c87c2e5df3073a2970c18fe131c845525b7bee120db4251fc996f181fda3435837410b63e20b1545d788c8d6cae37eeb0fb73748c5565069de30e1780ee08f6164c61b37e84afbc36ae5d49a227269078233dec9ea8236dc35892e8cce314a682234797a0b92b79c58d8e86fe427cc43eea6ce65acdabb2bfbd62033a6c912bac0cf1423b801a961cef2e4c76921a6854f675a35311f5e0adcc8683c9a8981e5d94a39829422a7814f5b27e44edd36d586c16434d5c92f6b1ff2ff426012c4305e50374b4d0a44389667afc611d4b13c70a5b1afd459cb6d6c0b7b23f9586d6fa7027c4663a036207bf93d2d3124b73c8a528d5214d63a822bd8c6a6cd98554a3494d29b18e5ebff745fc44f01cf0e1251294d0775e31c3a9973cd748d01dab60d84d36ccea2b4776aa42fb27362fb6934270c7e22c7e7f24b5d4913f45a09f941e81034c9a10ad0752f70943130d784777ee167872dc348d8d46d9b8bcde0cd693200a209c869ce81cc2af7d015d2113dbc28f419d0b0b3d660d119d30e87d40c6268d8e15cac55b21263d12ef106be95fc16e5c17070005f77bad368e56937ebe1bc4643c7e16ea45696cc4dd4231bad01a171384e312fd381547ab25bf85da3c738ab6bc5a3604b8a70de7822286d2fc9d1e79b34adf04653d932db89bcc8a16563bd2ceeb813fd8af75cee8185bb519774acd67382fbd0dd713c8c8fb4af3e67b00c82fd17a578e36808480b8d9e2cb6e66e5afc10ed9c277ba4f4f67aa91e4e32729e12c0f1135d0a24d96f845dd2477d2c0176c892b6e698fe37b1de5b8c98e17a4900d5ad976164403de4d1aa4258f616e2dcf438b4bcef584cf118061711f8196eb7fa0f0f5a9b6f2bb3c8951011f7bbd97bba86b83673d6d59e03cfdf09d84734507084111915d7f6da6a752b0aea285be442bd188a86ced2c258d59f8b4626b918391b34442d20a427d0907a2e761e18ed985ee6299db5ce8fd1032d6675be0ee74d5e9087ac2072f42b880f88dc9f7cf774c42b3d314459fe252b254bc9e282374cd76562669d56bba551e2a2880b9430bc4d6cb946370998dc87219d490bc9efa061f48db69b5c4dab0e3f04510f7d7548e9ec7f13c952e07f4f78909486dd2bb6b677af9e141a6273b7573aeaf12be17bad049a2a6db31c7aca6c525b3385468ce35b51fa86518f41b76e05d5538bc04f62b8431a4a79d790040d19d85752c28d97a7cf9c42c55ac3df530d5677e403f874bc5369dcf745318b55228647361717a38bf2fa09e28dba06b4ca9293a2885329208d64bc9d5acd46d00a1b10ea11afd9e25543e9e78e9eac1eadeb6fb7de0f5a53bd15101b1c6298432c27f0387cc1f70a054111212b2cfd492975d173bdf44548ee76c2b091ff578203580b48197b4d5380e8827ba452a56a24cc23502a5e1621ebc9ed261301eeacbce80f702b1d02865da637bc423c50f8f93023b39ab56204191a7730b9b8d252575dd148e41380f193247a03b272efe2ffa97f54803edd90b3c170f325c3d1fefdb88ce81ca8c397c9dfdccc6f6e1d08c31d1bf89ee4a8c045d406cf2e5e2bd949e0f2ae97c4cb841c3f0b8454f858634fa3d3bd21ffd8f7f22b427059c7bf1f6e98f64378b42aa364c9ecfa5d742d3e94abb1c39d6379e110c7d294901922ec34df1c8184f6314e28b1ea79f3d57ec88a7d3c34dff74f27241ebb66e19d1871e2be494d3a67ee6ec9861ed63a4af5f73091222851c955d60b6cc29f455d2644ec93e6f3f67fd6b101924c79323f289576358d979975f59eac8f4ca5c4dc50dd2b563ab78bf865ee8ab354a43fe0e616031d2fc44fd67d9933cf96280d2c49d59103812a1db9d6198a3013f2d2b697d0d9e61cf1c434e2a5f7122d34b9780a12b742d1f5e929890cd0631ab73ab99545b4414d112935bd13096116db290c4e23d01d7bbd31e8515ba5de9f20b054e1bd80395c6917e53b07565ba289587901a1adc8fc39dcb5d68fdaf30efcdf4e9b2c5b3669716855f010fc63e01e6429f95be8e16b7d8c0bc8027c70a05d2faf4c6b3452356442b6599257187c07938a24779095569aa3d3fd06988af668f1f712103cc7731d3d6d5d21f017d87a03ddcfcc4003d25d3f5acdc734de281f86be73aa7c2d5b84f6bc0a2d7179a5924f6f3ba41ddd4f356ab6523ce0e6d9fdc05dbe9d1137ca89cadc7c8d36aa4f89d424cc1381d5205b4df3b8f2e363a39316fd9b1aba2c591d3bc87a1a6652b055f019b89911e0b03a149dfc00dfc813cf7af98d8fe31668cd23c0eef54dd881e00936f2600d9b8af523d52645336c11e453287289d1448164aba9f6629715af1d746751bc662ed8dd57ce707dbbdac7adf56bba3f77005373b9a0e29c66a6fbff5c8463e0d63e1bfc79476e8369ed1190c8beec0b6f99985bcf1efe5fde67c7d783a30b485dfab0543bab780f2572da91cdf4b16f28aab1f20ff24b99fc964d46e3319d770601487353fbfde152984ac1dba06f8d970e5c3e469f2eb5b99aab7685d961c346b9f7918c55875a0f39686ea8930e3a6d4dadce1ac75e51be5c340f444474fa236681e69446ac95d653383acdc56f45e070a455010055ec1e6361112e6da8d18e9652af39ab6877d7087d752e6ff0ff8377d7f868a9958de986a6e20bc43147ba366fcb2e0b1f96d2d854fe8873cb3fb2559c78ef25b0c14c22e636ed1424b665366d6919388fb07b64aae5307bbc3f341294d5ff3e00554ea46b40d8ea3530afb907135aeabb10de2ce59c41e6937b26681e35c20ff50389cf4cad5ebb8661e19abd2349fe58392582e979d4b36fd9e9ac4c391b27fdd5a6a42217cefce3f09ec1e8c03eaf6f8d1dd2aa96a8e3e0e1bbf8be11e23d4814e78513a8b727b5853bb249050a9edd4eb985fe6b8783669d99c6fd8e7a52a4edd5a858a002ba03d4765127a0522ab157966014dbcf06830f46ccb947ee8dbda6fc702a336745c810d82d1e5d3a8bfbf63516eb2dd718219f24c63136dd3dc7ee68cbebcc236284ef7ef8086235228b0220a98763e1dbc53f319b53394b1e7083dcb3e85544e17929b93326dab045dab9e06933c70ed8d472106cc624c982361603ec67dc829c9e3b461f717131bc8deafe8f3ca52d60103346299e9b946ca84e270c8907828ded6a59a6c6315a840f75c49cbee53ae002bfd3791faddb139ef34a6f103f7d5d0b07561c6d1d69b7aa625a05ad96b0d4cb96a43d6701a604793e61d563f1e8ad860400950b78eec3977a2fc7fa430ef17caa8a6fc156b567766b156e8580d94ef638c16c0a4316e90ad0fd906fa7d22cd6d3cacb23f12123fb6867caa7455995dccbbd05c220030aae218bd0864c9b26730c0234a2b87bb70b2cf0f1e96c050369b5e8cc8ac19d2a6daaeb6be04fcbac5bcd21d90124bad4692ccfd7d17d5ab296a73bd0db95a6732663c2158b563f835208c988d4284595f0574d6b6f258aed0ff80d9f8e922cd9cf0c5c7003121d6e5dfd72f8ac3751b10dbb8cec2a67f2edcb89fcbca652ac08f127e3e649f4d2d4187cd14b5916bf00041337b23cecf30b49e9002e888e82e2505fa5aa7f705d2ea6a42a5babf5ba363a8820602ccfec023928206145594d87fa1986b4c42f50ec23b42e3ad19109f8d847ebfb1fd6a29638a392a01dee6bc2d90cd83a82bf5d1a75f3f1e717438efc4f96c640eb375d9a161591d4c88ed68322021b9b4599eff5a61dc7c48627159b74f158ec2cea7baaa2c203208feff744c23dab24b3c855f35500153c2854fc728cc9e77e1b7f2df72051dde97290270a58c0fb84ecc21cb8340705fece57a2d4e3f2793036fafa3609afd85fca4019dc244a459b301f5658b9c395b13a1d6dfb0e6195d65062152f616b6587d845dfc8cb5ebcb00ed21f8b53534ffef2a6b7733179eea4789692427cf06f37c364ef1db1fad8984a6f7eb81bbc302865702cf3012020ca34cb02d683cc80291bd34de0ab39613eabbc2d4c0294da91bec131a5792a9891cf57dd5d9fcceefa2ed7888b0ecb898fd53064b1b6cbd4232b0cd15b400de56098b3ce509b1b5f002884cc424842587a8683263d16b3df336cef197fd7a60f30ae80afd37ba3c805c778c76ab4ef42b8077583f4c0a754c463399adda3d06ebbf30b7b2044cb8e9a9dcb3c8399ccf631b621ac3363be47a9b4c9789004c52bc371d76d0b547db99c3c3943feef7b37ba4fff14de7926e547676cbf9bcde153e37cc3140e3130e2d784da5abee74bb43bc85c032ae87bf7dd6cab8b540080711bf25616b1f3385c7f1da7913122092b729d927e2e1fd3f8f133a2c2e2c4f68e0f907e0f4c52778f24997e252bc83326b81b9d6a0b574341f7f479dc1f761822a74c273d7e0a871377a00344c66c2c5d2e38cecbcb7f84b46b2053b5f3864d89177fbd1f984b5e0085daf8c320745eed494449ef2ce7b1905e53fda1f94a7da2e65c96c625c776565ac076dd3658c6e7cd913fa622f4148fa4b8aec20227e5ee82d8baf4290dfb1d0cbd68feafbd8b1b1e2210e08a706869691b881d56673a8b419bcf4ff506b72083d3f44186e1f5283ee13127e786ee24acdee8df3e1e833910094ea1703d605c139f72d16d58e51b84484637e56d32926a3bc4bd4cb587aec65bfd9c9653d0003806cb8a4c924bb4ca183b1f51ae31fc22f67b8178244d8017070e2b06a2470827dad86bbf8d3f0196892b09a5032db0fe6ef9f188ed7055d27a29c335f092b7e8ea7ffb15c4e7397b25378e8c02d8153c0834c80facfb2221aef4b619a943d8db6ae5f68476b093100f2d39e1a1ff3863c029ff0d5371be4536350145a0dc7afec9263c072687b0b397ebf3067de323bd5fda68d53e8e612372e9947596bf7f6683a7c96e3dce300c5911a3091ff2287ae4640195196579214fa1bcaeffb19f51f211a40a7e12defbb1fe670b083abe87df9bfa7795aa89ba5a69997c6ffef94a08bec46d63f2c607cd1de69008ebe19d60268506c7b50f63e2cec7ae13c66cc51e577fbff026d76bf3cc21505e4b6fb613101711f6c5cf7353c881a022dece1fcbe2dc31d81053efe917c71ebbad0b24d0515023edf274e8beac2975567a4646e94f67a464583aa697a8f2d24aaa979445f087444606879f06d40a5e30ed418b65a5f38f4d7c5da47876743df40d064e8737090ce54b525490099d6212f8a60d08927123a7cc5192858c20149ab21ecaa2ec8a13a9b85370d2c16ca2cad1e1341a677dea93b630dd12cbffcc9ef2d78baeea0f95e432213e40c49ef332fe970594353b4a2b4ee1ae55494fe044d4ff13a2a58cb4a4210168624f06695272ebced58366caaaf50bb86d3a942deaaf5792a21419aac2bcf3fc653f2b52fb2463534ad523fc3e3993ec86ee657ccd3493f499c7bd5b87dcf980ad2600a6df7e7ab4dd79f7126ac5f8a2b3b0ea39bea0120b9aa530d60aaa33c7dd3650421dff72a1d8d06de54d2cfda36a1792f22b6dd67e383093828faa89f588d310e2c8c8b0b8618cc2faac65019455edc56432c5f02ebe40d5d34678bad5ef70fa9fcac05ec6f182d7f30664be8b6412cb13970ed935433a82cdbd762db4eb57f35efd3341b1700e508f59b016a2ec04752837621ecae7a86e14b5684f9501c7e3800786ee17d2b51ca65befc31274273c10d06a2d004fa5161473ff4e7b33591d9e10ebc520a92790dfb504ee61bc9f90ab1e84bc49bdee7184831f8c9c9c0abcb18004011f7c9e4d9e6238b0fc13548931d6d9874ca483c47946d6b1255c1a1f6e623e10102adff5be3f4246e34cc394b3467a3e39e08b8f63a7a0664f213ebe769184bf0bf982e8470cf857d81e866dc809091c91220f8a5b5bcd79f1fb9d9acd76ff1627a6b2d70f3dd77f066f7f2ec0abf678499d7e3456d23f1cd3ce42f14cf979a21644a2fc0c6eaf1495ce5ff749f3c9f8cd11fe69c55b79c5af81f50874084f5304143cf47d489065309faf134fb0ed48f8ce37ad4b5d0beb673fdf4e9a74a85b0dd465c2392272d56ddd41cd7bc50a9e26ef7a79c2af0c3de2e045e521217748bdd1eda3b7500050cef15a30b220a1ff10d04e93d88e5e246818ac94ba275768b7cae1d8696a427e5132cb309419c92c9761babb60487ff9be99d9eeed26f8241b65edc74db0e954b4797e47965ecae38f82a8cc5b44b6ec710caf92101906073559ec253c0400fe79811b30d05d5264a5d8452e69bef4756c1a9cb3acfa55d0e911ce8dd2ca82f19e45e26767c09b28c8346c8e4735a338f34a366530de3a3a3117affb27997232a38c3df679a3ca53f424daaf96b185468aff8932e554d458278b1714a124e407980866868671f7b7c0045283e2f5fa6d8db6d1d2679fc37840897277ab5fe0caee7ea5160bbe25e04a008f51046cc18e7729dbbaf1bddd009beff7d1e7033040ed96b64c452b624b942a2c88e748917c3f9ed5b87f470aa6ea725e7750ffd19a78b4a40c1b83cb2b2dfa70fd65bcfc3a1643d649a2d03a7e1f5e3ee048755b543e3b9ad62f2988b1dd0c1175b1663dde48ccb654ae992704ca94bbe41740767faf19c029528862d2f1ac8e7d056b316e2219560bbb43ef48666a7f8f084391b31e36a4bfeb773f7835b6fadae9f6633b508ff3f94f3d44d55077024ea3130c59ba4f6ee1f4a9a4678ba94be6d979ac00c0747f9ee8c4f4fde940da1de912c4905f544e4de499a46dfa11e69362669b6f25bf35c6a1d825d289eedc87d769a7d5bfde1632f00170979873fc93fc6d91ee4325039500aef9262b954007fb762168876b05ec5e24344c665987e8b28bf743a044a8cd4d26d40c2f44c625c3cbdfc442434b60939b31c446099da0cab52341255d25c164d46c0d579a44f673e0dc0538d14b90b255f06559a173843b95773012c92e13d0bcbe8b1d16226506babc773b5b6f3961a9a02e604e3841e3d813311f627d01653ee5db2d9b6336012ea162f4ec9000347c742ca30951182a15dc888eedb42853e74943081beef5ee106c684d5b9827c372037723568e5ee56c4d01e297baaafa1113c8801b2f67f990821f27c1a061ed3c3b68da7663e6e7e6138566ddb1049563a8be1abc78c83f99bdb088f33af656b9b10b5162e1c4273682ca78361061ca1aa75c9b01986ab9a5c76d95586b7eec0ad340682fef63143b8084df02ce0f1772f9614e07356379fffafcedddce6bfde0d9938507dbe95c30505cfb632eb292d32b4b7b5e37fb8d3979a885848589722e91ce941469159e9c988afd4766e42e115d8353148a9397ee39d0472ea195a4025bc7dc55d6ef6e2984007dd5d059ab45353f18fb6dd301d6e411d8eb1a138df9116a43c18d9bff49ed478f88addd76544139b3e4c180209c91664e5a0e0e2664094c3af87150e9e2440d6b2501a05c8c561c3c9889270d04c446a89e2bc6fec0b0c0f3cbd7a899c71e545b6405bfcf1524bbd8cc6a208c85b953739b43913c4a856c380482ae478090465cadb80d4ab5c8039627d2300290b644ea8db87d3620af2c54e230a1acdaca3192dddeaeb35c40da61f00de0c1aef37dbb28dbbca252cf6bbabfd9ade5311d1a392207ad3ba546c6cc1502c87094b5359c9dbc293559816e801d176c8c7b81632ad2862009df92de072930e500cb7fc3f2e2fc72e6f1b4b2ebe9fd32a6113565438c1642b2a4812f3e585e4e6bb4b7edeb2570df44980f4a43486f8468c2a962d0ed0c10aa12b995bcb5e8a79a100cbb637a4d724d845cf4eb85d5bfc70fa940e912386442945d1cdbf53be73d7b35b4d1f9f9ea4073ed1cc0d324ab466b6a3e0d9e5ecfdd56c0f0292d417f680f2063d5e7ebae01ce9ca9496c6b525a00e31bdef23cf0b5c5f168068231fedc87724d46637b1ded1d992cd1932b6d44894d7d28f0e7f04343a8504591436319ecc17613553ea0e3500820f83a9a88c9c87dee9acfbd2f1fddf76e0133c2f6e9e78c93701876cf364f64993e26882853c0f4200a1d9e2fc4f5f642ddae53ccebb6b36f315e68f7ef50df4acaa78a71f30e68f5c970d36026b202a9bbfea8a699ff12d638771f46a9680efbcaef9eea5ee21ed73246dabce1071bf9b79f26c5b4edf86bdc6925d25546ac23a6a591065b6826f10eb2d64b643d8b6781ae8c1a513f4162eacbd057ce23e588b24e34a330a6e19c5fac2ec2b154af19bfa8e71f6acff2c756c6f5b06ac593d18128a0dd758d42a8f76abb43373211d1ef6e7c9c3291fdff5f399f072f86e46056344c77c1fc4bb9b2284028bc5762d6f69f32026573bb4e6127b3e8650b0570ee3440c6b2c7c924bf601ecdfd17a2509710f49734f38976d78f82416d6d6155b3a55ea4f18fb254223d6d2866e4b3dcee1dd17d53c945dc654b4de2df0a56ed7bf5163f25a213f9e594fe8c936e890dd30b1e71a8edcbda8ce747d41ef6c933f2fdfe911f5ec70c218f41d013035c5cf1209867595c7fc175bd1677b3cd4e1fdfd6af4ea144ae46a33e1ec6c66c34ec2bffb219c9294d0233fc254b984119f785e59fe3808852700604ecfce523eacce9be0bd5350180ac04dea098614b77ba9b85a07db75407dfd1529d2c08d48b5c3ddd7862e269f10671848c8590acdde1c9bbae70a828a8aafaa0a5b59982150a23fb27008055e26e29627bb7f2ef6f285b3d347e4520785b8a66ed60eb677e382cec17e755f3f035301c53821da3397ace9cee99d0768e52c197f4f77efe8d4857361cf9a98d84121163ef036b01d584ffc7473d1dc6c1a18be77efc43e3932f9c65f6f1f3062d8e359b4ce6b169d06bb0ac5aacc1ede204cb95ac1804947ff43381b5bfe780deadc06e7e29a0de532bf9747006884ecab99324dc99c1b03c6c507b8929a72be2708f60a36e229aa58a2bbe7f9c7d8959c2a81dd0a26500ac813fc933b9a829fcc685ab9cbf1167b531e0ab2dc34762733dc16a49629105d781e2c9b6dd562164f457bf99182872c1a406f43b7f540db2898d29859b75786dc557e64fe1653fd04d4a334bd4a17526010e6177b29a2f11633f1338244452ef1d678f71b79de1ee0ebf0fe00f05b04e25fc224c4ca3aa5cfc6f283c04ff24e1c8742135503de3dfe0d88f68bce3f52c3124b15089e288fe2d8e24990af86473ab921001e29854ce363e76bf4810e412f36edac0f96a3dd0e9230674f5ee2adcf3443bf3a1a840da66b8dcea7f0e5025ca55077aff12b6cdf639876f2e1636149dbe8e1343f0b302da6f72a190ecae0afd87ce8055c0543d0d6817732ec55de8d81807b20e5e1333faa968b4da69070c71976feb19ac11279a15eb253af575109e6622effd768a9907d96c33214a72516b6a51d02f6df930011a480c8ea4a161ba6362705263b2ea9240516393d21b88c03bbaa9767ff7b0f4b2b1f73203af60637b5743f1dcf4a371d44e6699c5d9431fc4f7a4efdb6afe4a8aaeabff537e41bd8f8ebdaecc71226f9286275a46e61279441179ec082f2d4b19958b7aa48ecbc940287abfd00c04c420dc81d8adbebb29f8fc32eec1834bc80016a7003cb72b80a5d83b87b0bfed02aaf191fbd8c9bf7805569b8ee7fb68d5c60f3f4a2914e495cce5ffa7ed09fe887887c807fd63e2945f4c0359700a2abad47136a7a442d43de49c1d81a02aaa799e605f83397f30f268fcf08ccb2ad19d1d1950811fa424fef473fd394efd45ad9fbb903c54794addd398035270198006637b1ea56ce27facd810afa67f758240b8fb457cf955a2609e9c19ce54f99616f5ec5b238a5d1d1f157c3a3e9f418083feb9c23944a267200a9c83dff168abc40f31c817b2e001e912fa191824dabbb4f4bc12491882dfdf8d3a01fbdf94cf2da87fb2e3cdee0320adc1aa0ed31e65efaa43a8a33d1c7f04eeab86f9de02191b927a144bc0bc628bc89f7641e7783851ad9f3d978cf5076c3dc302e12b6f79d16750083ef9d7c9dc785331832719dce9a8df9946d5c32cd67ab70e3e02b05f3912a5e3ace99b4338dc397648cb4b9e3b935715d83a25594eca4fa9751fbfaa98fbe2ab0600bd71e75d78b3a7e6400aca04f7197b510ea631594697817913a24c6b0a69059c8008116d44ac65bbd27cc6a75ac7c0435621e6fcf5bb363e75bdbe130aa0498ff592b0213d7c881179da30536bebefbcee1a39cb7f5a0a26c6b647fa9ec937732959ce6b55e2c115eb6491fca600bff24e3364baaac014af5d6d34e23006827395422da605860085e6d1e3610fe5cee5a7bc9853b56c3399bd420c1639b407191c36a24df8792d1d1e908a0bc4f6eabac480d66f77b4a65d4f2064a8811dc66727ced0ca3248c0e97fc4054c7e91ec1cc43175cf1f04e3d962f720f9c9e0c2a002ec73f602c4902fc827efe329e2fda3ff79c8eb627bc62b054bb28c8fa9a6f30f3301dd8bae4650c5619676a5885531434bcd48ae776db19bd52bd693089cd2e37689559bccca23b7124d1e78036d50a88cc34f7952201c15ceb828fc03a9e753d79684e393a0c65238ec85da5578b3188b458285a26fbefab38ae2b2e811f1728cb8f7cef2517806ee02ed527238bf9956f49ad3c4b46ec710a912502a3070b83de02b62d0fb8ca196d9a94558c63b3f00931e6a5c9a7953f2c6f589a404fc47623ad0e2fc44c75ddc23b7b9269e7ce55e03e99d00f62d96b5c0159642df5843eef058caab881ac7c044a57653e35d1e595d050b9187fd38ffda09220701caeecb11a68d65e4169842e3e02524a95064ee154ef93527366d432c23d9cecdf7ba85ed3b9c264b7847f4cc9362ddcf5ec2768be5021486ad50f3c5950d63e64c80b7eb32f5a986e55a20e27c7bc20bb0d352fbcae73fa4aa4d6ca5aa05a1176e519322cb5d53a9d9b84360633439742bdbbef1d25cc48e09acea7adaf43d11716f9b1a1f83149da07705b39504a6bf3a89a778b337e7fad3c3515afc96f574520a21087212a9579131bbd78f546dac25660adb3ebdac218fcf220d760e7936718ab523f6903a8590d21c184eb78e4b179639984c8a19a0ffde45802db1e5db4855d40e4597d6e9769cd47b0273419c99ef9fc155d2d3e1c730add51f8af897724bcf2c0da1a762beee3db4f8866c3f39d5b25cafe2688405e97f3369cdac98d378416e7acbbbc22b4f67637ffa43b20a2f87caeec0e2c9c8ed59b69214916f8e90ca763a845485cc1f4188c23e6afe7137fdc35e2367334df4fc7072ebfbf48e33424fc09ccf54897eb67151040e3ac7b691781ae8fb7b3244ab449f27b4342a133bb15d5cbd55edba7bc9534bef9798ecd2cd59c6477fd12da94126b190b1eece46d5ab2571368e3784d80cef2a438121f79a70006873c297f6aac1386621110de90dc761c2eb9bb535df951ec1ab76df64115877f4f78416a1942ff2c2575452685c7d7220e217cd384f41de00c74b329aa20a89d79b4161fe5fcf4dd4bb7f204c7b2ae5809a4f15cfdf7d768ffa9021dc67c034262605373be129dcda6291a26253928e858c37196664cf5de0aadbf9803fff851d0c2640d96f3370d2329aaa5082d3cf1ed2e76761af80c9f2d5006da82e8ebde802587da48ff9ac100d3d57f3007cc45e7b5518f2c619a6c67d07fe20e022a6cf1f1aafb921cd109d796823b0af1f745b098d101f497766103432a7458e981905beff358a51dbea35fc5bc2694898951a6a371580402fc6bda0ffbb5cbc38cb91e205f9e58e82c6d0410a15e6d07fbd58a2bc00b6500af82eee4dafce97717c6d86540fa6b182da1979b145953f64fe68eaf8a98b82a47c4299ffca0a95eeb056050480ae36142f9f9165409d0cc5a8f384212078543b83e001714ad0f27bfce307588c57a57ba13af1f9393218e0ab0a4964a3d7df623543dbaafa2b4c8afad350bf8d7740372253e332d979254351b97b3cc2000e81554dd2260f45e37cf94445d0500e068865b96188dccd49dcb99581c09f3f229b63c0c37cbe0f46e64009f13fed2f9b83997e948933285b1803763492aebf2669236fa1e319dff7f6d02346af52cfc0eea9a63d52b992810c9b19ec854e222b037b21b6ee59b0b8d24bf17ab8d818541de41e3b567d9e4d36d09a812e7fd53f7ec572abba397aefde29d01a65b099d8be335e4890647f5d081f9a326da479642016e0ead85bf9bee311689696f1c15b18ce4486afcf95fceec516a96da24d870a5278ab6f878b8f3156151e4f9cf7de3579835b57379e7997c8a1e94e3e5f39b0c8f382191454de5d5fab46d5cb6d223e8d3f24164ac601675c9348a37f8e864a47a89908c6e011c36b8150a174ed87d14cef89ca45bfb647cfc363e1cb56639f38b3df233c36b5ac80b3e1de5ceed243af961e6b00c8b950288b8890e9af08e3b976d3af52dcf5de048d6a635622ee181d6fb0379eee11751b79650b8b4666a0f6db3ecfce4e98f9f796ab805f481442bed3b39ae2ee3a901f1b1ce513051204cd1c6a248cd861ec0ef3d29ec57f92229703794f837a23b7197b1af43c5ab2f23971d7ad8591413b71c2f4da129b09bbc7b21ce81e4b7993a7013c81dd61cd5a8eba0a0f827f0910d11600945ca6be504f4b6a72f57cf1f21f019c7708949b8e141cd92c31817bf196b08858614d0752c797c29aa95f8c6c05773cf4fe6060b41a1a178eb7cd8c1ace3cb934346ce546644f36514ac8359d3a6e7a32a51c47ce47e3223e199c967904a0a430b305731ada76af3db749d580854a8c2d8c844eb66c0694451bed414a1cae12fa5c6fc1786c34f92618ec0d16d6d7d96a2b41e08d656ffc31cb3516a757b033ef57e2a14735fde61fed4c0a7aa9cd2b910165760cb29e7435ee40ff702034d591fd1098d5f08507964601d7094b5d67a55dd812193bf9b3cd47f488b5676019044bdf2cd63dc12e9771c66d5e56c1a6309f4b2baad79dac44d9ad23958ce70b4b5407cb9e4c01249724955d7f8fd951e9d41feed2dce2e5236b6b53ba8814351a0161803c51f3d6f49163c803b87ce3a602354435e0bc6c596061834e064d683231105c6ce9f4652bf8c9c68081fe13aedc773b05c2b6bc052e8469c88c38c5ac44a5d0981f942ab2112eb284556d1fb4704aa334f1cdd2cf11521a52fd3a95733cf90aa789792ed1e0e3b16ba1f81875bcedaf95319f6814e4356c4f2cc474b3a5e2df6c97fe1d3185acf6ebfff9bf7789b7b6ec3b949accc112e13dcc5f3c77289892dc2231ffbc2051c721eddd5a4ab59daf03dab83dbed791f58d4d6c718d01fae9c388581a75db86395bf285465d10b82265d805879b88d4d17976ea13d7ff5345fbfbc0d44b266d3323b702c577f6ef6627210f1a72b3e3383e97c672ef3e012bb991248ffeabb94f3cdc4657a7fe628ddeae8cc7a306e8cd6333fc1b0d35c823e8c1d668d94f6896a43f6e0806faf0fc70dbbe3fcf5ea1445abbe24bb123d2d683d29a3da5a28b755c6b5fb0118f4a448ac3f628c8c39c42eaf0cad9fd85c4ea7e2b8c438e1ba2278fb6540954d2ec38676128f7982b4bf20a47e67ce173ef6b932b0cdabcfde460f40bc0b5df754cd18c45e7982f4d0a878a62f1468d49509b1132dcf10172e16dbaf617a9a3c26e409ba018db2989a4007c1c28ad5e9344a0afe819f7c0b39fb953547ac83d8e2e4fb79df0fdc3150d2fc6938df1b913a3245b68155664f4aaea1d2fe23ced948426551b8c71393c978800624f174e4ab79bbb9d84977841caf35582e4a2431d333780701e40af9edd0f9ffee3d58bc28f9b855253d270f45a0462fbe5a78e0acd03796699a7c4b43b7adc9c68e0e394005fd4481f808ab79c4171ebaf10bb7eb0e91e1a1860b4accfd5dbd978f277a4fb94e4321374192c0407fb5247f772815222e76a1f1ce6a866287dae5039eb1ef7f4c501faaa01243cb2c29ea81a5196b28f2d04b912c58e3776029609caa91198c560253b93ca0726121823951bdee5cf46a199fc5aed5f0133f4bad8fddae0fb507c9e433e96834067b934f2cbfffdce18450613cc5b702a0d471d538cbe64c99de9ce448e44dcdaf1b4daef2d4d23c83ff2e609ace3e37ad473deb3e85e4900d72718144bb7b0168cf8e7dec894100df22dc29067c7a0b11886ef5655aafc141116ff0efa435326d1d2a94c74bdf55625fef4122a7b07cac6f14f3ab2dcde1ec7f27b47a6e025a57b77991599d6bd584a22541669d75306c97ce5c01eea8e4864840fa43996e005eeebb4eda73c6d425c8c999558a290c0f15273011ec5c113379fc6e0d40b3608dcd2d72f9e02c7579c0b6241e33916d16a206b85165a02819bf059f83dd036ad1068d943209e530bd1ccf8ef7382fcb65a5f2a860be0d021340a8a95f684cfebe1f23467d4881fe1acd24ee81f210ef2b823531b584e9938d79272be3c3b0a4e708988ea79fc6e65c67e72316c83df42ff407038e31550bbe1daf1b53b34a92af43e084375dd344390a76543714a523018d168f444cf6f647bcd33e19a824c4c865e237dcd50cf7ed25a65df71349b11d82fd213b84edd2ac037876c9c2a3b2e216576d7209bb3f85443246ffd63e2e1729333d24421eb887b7bca5d00b3a901a49c0124d188420711f8dc7a2876ff1cad6c680db7663c14d8b3a7ecc583a6697d3962ce3e854e74f8a4b322f4c3d4ca74814047bef4cc51c719a2b59f197b4a626968b9b33368a81e055501e23976f8fce18dcf1b343275a7747c741729ab6649ce02b306508b1ed8731414e1a89e69ca9bb7fcc2334325c64fc29f169ecfe835e389c9aed639e59d02bb94f22cbfce7c40f0a4fbc10ed1dec77ffc092c60360aaa32c78c9f693e7e95b52eb8ccdefd217727fbaaaaa9e0184480c917216cc82f5b3155ec889450911e9add3f2dee7d8ca479e7dadf2cb8578628c54de219addb3c8d3192f70134e14b3aff6ad1e9ffbc5d4d2dfa9d945b361be38a82efbb20c97d2c5a5a2e7e0e51ca4fd5539d07b539d896de8ceb0b51db1b7caedc8e2c10b0a4c999be9bd80d8141531c7a4c1d73b479759a1d2d60b956bb2f49a7524103ad6077b1f2f5d60053d3279999a77642f07f0d825e9055454964106f2045c6f0454d21cf56164bcac45acdac6871e1edf4c47cc23035dd492411517e7584f9996f390e8fa57c1d25b69b72cc57978c38044337a322d73425aba130e0c0a52b17ee94d9d9a1a28645c70c19d304cc181aaa6e3c7ffd7444685b6450114fc68826b7d605590c78502c0e436ba15154203489bb4759b251e1b14c5ceba9014cd43ecaf2015fb4371dca42a27d64b200cc0caef1ae3ab3705f8ec727cc026afc093c5e3f9a9680a8b6465d1ed9eabfe75982434618f4b07adcdf6f836a356b01ce6003cfc1de3de67eb525f064b69ae311603645920bea6974e6c9aa9ccab055a253d1b2a58c3df3da336a192233a6d3a53436b5f62e82b0bb3a24abf488ceb291518e91b53463e694d68a15a0619a7731b66155e4d89135026aad9ea64e0d147e29e18007f0a10b8e797f863c3a2b3b2631e8291e1260cc8ff3ac16a35b641388750638e38ffed33509b89b10afcaec58f16efee61b9341859243511ad5e548605c538e7779842118dc26a88df6673f1f8ea1000f29ae297d068e8b75a84c498ab638e448db367d8920ba4ead0f02279c5a1bb5e4b6a291e98e923c734e414ca670c62fc466ed0d76b4bfd3295f72423e60828ae92224635b12b6671e8997d7b388f5d84bcc5db41beca08c2aa52ac0bc5d4d61535fe617026099f7db9d3fda8692fdb4d801632a5d24a1f7254472ef2319345bc017693f9e88b6c82c1742f54c05efebf0df6a0dfec1d48b137383bc24a691177d03cbc5279833d2eb9557a38d86cccfda1f6f7c194495320fd1cc25d36d0559af36075b6579a78811fe92204f7be46249bafd66132a1b46d18ce05befc6ff5439bebbfe65d398af6f79ec700695b74797aab17894cc973024418d65483ce13a4773fe8347e5b73bb7f7bf72787678f0092d6a01ecad9739a8a72fea6904386b603be6b08ff8d13abd1f3e93fe5f8539856ec2f52e84e5608a6dc92444b9a4b748ee9cef62bbe546ccb95d78e706e785f993e45e52d62710c2c742cb9c4940fdd2842e57c2d9a2135e4ae0661f976ecbea803aa0a28230228331ef8a057d61945ffc1eac6f471d43564e82c5ab0d9860d361aa0a2d36d363b5ce68f56f3b4a8cbbd1bc6d6dcfbb514474f79417789046328308a8baf92347e78480164d8a7e60bc3410b43dc8865dd5fb7b8fac98660d639d3b9479c6419af52363d13ab85147233a215d91b20b425b998f297d49e1074fa71eb7c6334b106ef9f6cd444c924dea63d520320174ceb0e94a5b9e6789ade9ce6351b64df1a48105a5463c00469df22f0d8ebf8621382260fac6c766fa9b403270125b929ce74a874bc4a0b6fa01ff2e852737d9cb3817de18db5bce4458586de08ff4ed4a0c8bfc7c8dd5c24b7ad6f428d7e239de96e93392958a982b414a54252540e7408f63c8303bd6dbec8e9c333e3e7020ed07b088a26df98beb090e1d8d4777aa5bf41cf75cb101c6eb9496b4d65011cbf7e9d08bac16ebcc3065ac221140da96c48bbc18b6b7ef45ea345fbb849e90645b460e53b7753105a37f207e63aab82fd40d12c33c6ca524cc383fe4eca0bf9d6f1d4de0e510da35c24429379878be443b18f508aac154c9976177080b5e3cc2a6299c358094a482272f8f7edffddfc0106df70b22d301bbbd2b3ccf870c40c34586addc40b7d450965a500fef7d93b3e2e3e0c9ecb69d0018694c8ef1b79ac248e043b93beb900e428205f8fd026ae06d4c81d496a7fc4d0b6d76c6390183d0db3549c48ef2123ccb42e0319a45767d806975d6ab4d98477138178955dbd5cffda8d61da71339b4f7fd5d3449c15129ff79fe37bd927778042bc1f03699d5e9ee2c1dc6fa836eb219ed8735cdaabf5987ba5227b05ced4769df61c73fd78f9cc5dbc1467cfff295d8f0b7db8d5776904aa2b8f6e0d80f2248bd92adbab219f78ff4c8bb67e4d9111bd3daa4ae4d75c3876882b184d7a89cdd2d8304a4977bca8bf88b72bbc64471839384174f6498a878fb22854c5a950115d7a0d545da3d440ba5320b0201b8e8cd684150b478bf446dc080a8af76b6b56c7552feccbc671d5382f7d241f76e21222b1674c752b6c76bbcf447d19186fcdd00851c6ee4018a624c8252147d972d92eb19b8eae1e3adadeb5195d31d936f0dc8bdff7969dac76d3094ed2258250993d8b21ad914acdcaf787868608ae79097b46fdad27f22e0c6532e1d9728daf56382be9003423ce9bf281519dbf14fb8184113bfb69b335fb2e89adad393df58870b7ae69758eca9087b7d334043019f33886148ed921bdb6aa1b79913302f2797f96ac86bb98947f3b6b074ef13bd6f73a9854a74c64b541b10cf04da53ab6ef8de3b8b860a9e45d4837d054e94687c10abff971663228e7cb781a31019bb868bd41b68934da2df1d0530a78e2c553a2c2ab55d2fcf22fede3b58ff3a92fc6b297e9612a1449e499d6ddbe3bb746ef44cb8f5fb1df9a01dbca948bc3d56e510dd04a26d70b8972e6aedef4ecb7bd85fc141108e0ed3ef8555491f63c4334e31bbb6941e42087a66faae6fb90548765b24a046a1411b554ff9ba0ede5df5b646aea19c91c2abb450272428080e250f38a9cce87ca49588a21f6290cc056db03538e486847cc27c934c377689d583ed1bb49c5b12684d32770e2bc7cf49ecbb03efef62b95813714ff7892552253ce06ce26c998c3461894d8a69bace6eec6d55d5e35265769790499e1d1b81019201f5b8ee03d27f96cb44b1f29b43ac1100f67bafd0f13808145d53b0aff9f52912e540cae2644a8e9b7d545b3be87b5a2591adedda28a04dd0649b90a92447fb857a26ec5d3bde6d75fbdb512aa245c959d97a41d7db251612dc89fa481e6ff771c02832eb3facf15c04f4dea9c27e322daa592e00b66657babbb2acaa049a1f4bd84afee3721ccdffb9785ef0479cbd099f64bb9a4097d0198d52deb4b76708215b5eadb96abbb8c5bdb2107633a7fa8c7c42573cc9471b0dc87d67a63ed1238d4cef56f1d8207f465063a3b5367a8199ec859b468373bb80b497f05e7e53f207ade25439a274c0c7fc2180e09d46c4679d8426f11915705602ee5d87c9b1683c157d7c53b885766ec4adc42ab961c8088dc658d390cd65f145539d5f68e094e577138b8f8f28ccda67baa6fe06627b04e2cc27b209d961ad314edf4b2c7902bb80024551dcc6ab88c2bb9f16af55746ef0f4d7de682750acf2a3d53f15fb4e649691eceea1aba483bcf224f7b22c41fb1f12405f9bb5e166382555274b54c8b2ad197529bb2c636aa04494e51ec96f3aa8a2f6ef7fab9cdab3a0710c2c4aeb97c4ecdeb65c68e604a0268c7f625ee688d25182b3a4d962cd7b71236d74812619b48b8b1534a0f140dfef622ea5db15b6fcb2f755ec66eaff6514eeb26e441571c2b3fe667f7454ed204a6f55b2f841bcf8ebd81945b8fd490ca2f79234893b6da9b2cf9578a8ab2624cb9341439038f2b0ccb6167fbfa84012f70097cbe32a52f3221e9d70b3b76c5fcd856db4694451ef86b29b99985f5f80dd13c837b0e8842767b95a9a2aacda1bde141cfa3d26fe98117ad3c842ac9fe0feb1be14f2d0007e6385ae3d7b6ebd2393bee6b6df0be7411f1f4be317cea0c7da9cd23bc52816d0812cb4231d1f2ee84516f9c8c4b91ec370fdb88bda9bdfb071f0062babb1612d6184da160a4d2fd855ddddb8a6035deb0b407d2fbc89a659764116e4b1fb7d2090f93d9a96df6531ab762b7b61c348ce008f2a4eb536564ce9387d7a869154ef63442595e5631b5c33d5b49a1375f02fec77d1c3f541e1f9557a12371a0bfedf9ef53bf5a0ea9dc3c1d346856c4d274284706375567c81bc81570b099441477838d16a98a30cfd8dfaa3002b8aa09217bda72f90128bae58010bdc40827d2bb336ec48398cfe1d8b24fd0ef28728daea6f77da6e701f0f2f97f5b229f35a7b9a7df4d83f2bb969573b3c9d2570c61905f8d78f55cfcc06f32bd470c40a765a4469b5ce6124bff601a95550ee250e0a595a688eb931965c0f0ff4e45000db7a9c321ffddc99f3220a446c32c8948ba6965b791c07a5d93692581f837dca6f18275637bbbf91254499cdd34c5020de6f7f6d739ffaa26c9556f03173c21e944c4cc0ae6c17b07322d81aa741819537772fada23b4daded13683db55eaa3e8446f5b1ef0a0f71d594a8e4b5a61a5ef4db0b3ed7621337dca886b5d1e3f3d43e2a3647661bbe54b9b3041528d2188ae802acab8d0b34c1dcaa558afe507417bb2f73cf351d23df78402ebee56be6f44e08bbc395653d37c68a13faeaf2451dd610ec72a8129a45d8ce8cb2505e5d0d4f6f3e2ca191613829a2658373abc5e38028fa15b0e23b6e4f316ec983e539b9ed6c1490fdc2de978a42fc88fd2d0eeae11cab0dfed250ebfe26e19d42003597f1395fc8ff7e00056163da98ec2e607b0a24ab4a62df9c008348dab645b88a111bc547ddcd16187f7a21fa2c71867ef2fd324d029401c10207f320082b2a346d9fa70024bef9d58dc1ddc97aa82f3095120642e80947d458a73785f44f816b6095fe0f143a971bae536f0ae1ef7cdd3c1a8241777911a24521479d2c708a4119945cad2fa15fd3996a47168631d1571b7e9e5e9af65f40cfce6c4f911d1e3fc03853ce124ac2dda7ec4557b51e97f0498d8af82898a7d1f8631521497657e8ee1761647b20c8d3ae36a50b2e4a24f13a995dc1c3bf0d1d2cb310f4f9124fccb148250561c8c8a0e670835cd9a5f4432fcf51d1959f064c0a5be34e44002afb9d6e6d9354438c8b351306d1f8f89bb4a1d45f4eae081f401d6883c29148353318a390a6d8906a0d6ae27dcac6bef1639e095777de8b6d7678d323a7a934e55d48187245da03dee6ce01159ee4c81ce33ad7f34db0574c02c9e45660364654b3009e13bea035a27546516a093fa16638ba8969cb068b9b9826f25cabd5655f471824b5da98b90e2af6c8964cd86c728727b8c89f648db730cf360f37b36441ec6983db6f923f2d7705d38a20bf8ed107526e19a43d74b2c856e367d1136a97de9c27ea0fc2800afeea534ce0894f3664d578e5874e19ece9df4af5ccc0bdd0e990347ca338e7fcd1617285591dbd4ce96b3b25b735dcecadc737664606aaee34146b490e8385f574de96a6864d0be7714517c96e815e64660f2b0726bbd62aa10dbe7cba346bd82d3b5b3ddb6f78b898043318154cbda9afc3f80cc84a6d270097ec0e4b2ad9313ce5dd098a6bcad44d0f42fed0028c41a63a869bd00b9a4d42a2315ae2662abf3f6146b38404e64f90c97f7d4825a99ee43d7a73b836c1a6e9d39f03df4be79e6b988f8b2469935824b5329992a9f26d16d65ca4b0be82cde6b5d17157d25c37260e5cfeb2b2a4d66c8d96858b40aa750eee851a8a9c84db275ec3e51e02bcc4621f0c248143632d4561bc49d8da8578d7f719928dfcf9fcfc9f29af7a4f81c7f25be79c3c8f998b2b277afe9f6429c772dd8203418850f2b00160fbc854f30cb606ecc0550970bb7694aecfc65d9b17a41ad27e358ad52c401980a35b88a8e56989d0ea732fa0b201f2a42138edecd972c56250d208b9e60b93a030e728d5805919439f6f303deeccd21e15291758fd09a21050f5f94e507032c8621e54f44e2e86454900a4a72e2c0b0304242bb27331d6a16631319b75be37b1ddb2ea24baea3fb6bfdbe7a8d34d6f04edcc56a09466dfd0692789cd462e8148782b1eeab79e9e020bd4f864f971a6a95ad7dd8304b90621b21bae1570804a3e69b519a680d9b8bb7d88a41557bd64a366cae4e12d5a9e1a266548f9b4bdc84a7c5858afdf4fa19c42f93e7a769c0bf7b26a82551f5afa605d4849d274ed1973317d8903ac6dbb319b936599f14c2b80c0f423ee212b23338f54d19e670be0fa1fc32912fc6e4e4837a2c9ceea78d384123085dfb5cdde701a27fe14e8c90aa5ed4776d5044bdccf6310e2c42439364cf8fe0a65733acc0a8d30492ad031cfb070d0dbbe066ca3e714adf7c88a6aabfae909d2c4d55e6719f01caa7131d12df1254a412f8b32486fe0fe8be6095f5a656e475b000c594f6c2d6cf96e7dbf4678cc0cf6c64376154b6fc11ca97b43e9863a1857215d09f18bbbc81831bc432b1205697c52274570d3232fb7942943455e1534e1046879b772ee2f20273415ab20bed70be8edbcc6d7dc3e0cc3b41939457c76d294dd6c68b0274589128d5e9fb562eb68ba75fdaf58f76c29ffb55e9df88d3cde5aa4f6e33befc72ab78416dd871cf13b62c114f6bc7c7b2a1a6f68292af2432c32b57051438016f48383d038546eae043bed404bf179c94a2b4876ace37f3372ff953c2aa8b70d39b77d00ab2aa53613e1a7f1e7ba9f499acd6ce338d0ae045b71b938a742395a04477a9f70811dd9bd5d2cb962634d323024f797f60e15efd0063ce392122411aa036e6faef98f8de1d17fb87a31d44571b40cca398782aa896342f8832d40a1c51e49eace7f53da4aeb5cadc7712e87101c071096bbb1ffc0ec8ee0acb681e3a29a6cd89ddb23715a4f373eea863ffc4577036066492bfc3a3d6ac7df1f4bd0734e19b9290e6c12e217b312da9d830a37e57516ffce4788ce1b4cfffc24b4102129a954511a85c149eaa092089fe50caebc401e8184404200c828e0de2c2e1990ff3dde9ca176984a0e4c1403d598a9e93e29a0706261353ee70a118a2ca7557edfc2fc975357f5d66fd97e0ef18fba786be521fc0725e2774ffd6c221b53663be7c239a29feac4a54d59446e6c9ccd2063a0550cf299f207bc6168da40b2b2783689bfd7e6c3bdc8fa64b046fae435842557c6e93fd3fbc49a559840eb4100fcac84504855e45474ffdf8aea5e50cdb7e80193959b14b3ac13dd78dc128037110cef33ec9263042bbb262b9472939941bb478cbde8df07aa7b77f5714f52d6d6596ee9d5320a9ffcde33aa830112a134a2fbfa8b69cb68cd4440d0bccd5d0474282a57ab465991e3397ae1e28ad1359c386a43c493cb810a0a7455e59220d1627fe3d1c8ceae42a6d3943a11b5f29d5b187632ed95d3e61e376cb15ba010f56d5396ca10a651d7097feb94039960df7f2f6dab8f9962f3f1d675c47691548834716765a060ae5cd9014e9e1ecece5cbb2df63d299a40099be019c73e43bccf3338fb12c1faab7920a3c27e6438d0f01703ff581d2f6f650e98b6999056cf6bd17686afafbef9c0e3c6f41baec765fcad69f81941ee4919f6ada1f1f59791c4c221b90ffe82e510f7529008ad94b377231f758f32cc15933cc9ecd6c568997274cbbbba3ba57f97a07ae1f71bd8f0981c91c7a83614370e505ff9ec4c6307dd67e9d551fb5568191a8f54b6eca53c2b3c0af1eccf8188db6561a0ac6b97838de85dd82d8396ebc7a706146ff7b8d3da6a39664705838505b90ff04ffcf10248ff48b4be41806b7a4387b54713015efcb8ffcf6f0e9c2cb39657eb487d6e15a48d635ae032f35255b531f91a7eda1c7ed6eac31c07cc0a7cff68a84524a5ad28c442a771c77baf6e2f9610c754aa089d852a767030e026f5a7c4c7788aa54d479cc0a4d3d98efd4a5c1889f98272379ece42149c5d8aef12369b20e75f5d2cd51b2487181b3dd32b9ae567e391840f726960cc8de87ad1bad21a70ee422e885b8b398465afaeefebda5a570376cd769b5481c8878390c12c59bcb4e8cf239bc36f3311ac2efa15b223ea84f8d928643ad5c43cce7b06c72f298c6060ac4f2c1a1908dd2f030fe85bba6b37761cdbfceebd170e6b5f645f07aed4f804edcdf20892c2cb9a010f5d1689fe5268e0501c12bea5a73ccf8ee1034df89b61414746e1b07a84ca3b9a931b926f1ff3ed2598e49a5ae745c8f3d186ac6e8ff9403d5db3b2a8214c1090554840c7d10213bee77d536d214336be76584da45c05826089df336f2bfac23499dc94ac4a435804aff36d9f5d030248d872a58fe7ccefd98b47931010493bf3cf846c35d39f5a506e3e295f25eb1a52ae20bff5cd66c5278ac24cb92d5adfd7cc63c9f5a007b212624d2d94e5bb1a2e43bd1588ba2dea66af8625edf7c9eba965ebb278fc6a3906953d0b7f4edf626d41d3994d1a23c5b82b3468b2e98499d06e07e9d48f93dd954705a5d3f8945dde6c0a7829e29e2cffcb07a15df4a00b7dde01df88c5e347a723c6fcb1f811c1beae432e2f276cc8aa75ea2d512f0611b295735c19da5c89e6d4a6e6edad2bbd6581b18c071fc5e8bf5114e0296a9d4dd3f866dbfa56d1bdcfbabba6810f001bc1209229ef9a5179febbea9526eee710f2dc56d60b79d472b7491f0cd089f304839c87085e623f0b3516b6977c5251339426618297d22f41c3a9701e5510affbe85eb52e3cbe7f1e5c4b89f8081a861095012da7e8d9bc2dbda9ef46d411e0689e12629704112f1272c6be2e677e7b5115fabacc30e7111627532293f7ab6dc2b85fd06d61f7d8a20ec077b20a1ee0938752aab45e46fd9c2ea8ed691d8417efff8867d7bbe0ee29decb8e9f2ceaca92d88d492275d8a37bb4776dfd68ddb4c3c224d733660c14ef5606fcbb457c3cca09b37a6c36b83257954a456342df4406238fb1d37d395eeed9f315ec54bcff2d34422dc0f064be780c5fdad785721d13c1e9e9baec3a994df31e6bde44a21ae2f27ea12b80d5b571aac63e14808cd8303aa4dcda97261b30589dc2f38a376b777b3ddab381086c9ac7fa125a0b09917dfc41b3391f4d09d3ff07184c2af1125944557e1469275c8223618af90a4e4234814aab7d655033a91d4cc55dec16eba2740ce4d9c8ed7a27d9b855269d7eb8d15a33a26f88f6107c43654c12c7532049cc8f4905a589edda50bef142fc907d88cc5b6e2bd676aba6db5d5195adf0e80dd5d9d3db9e84453bf087d88c4270471c03f84c65c81235fee868fa5f63d435ec659b2fac310efba5a8aa3d046cabab02c981cc3f4a8697fd357c12a6ec68aa7ba360f279defef8c6c39d78f3d0a5e38948bd9ef5d9b29bfb926f63cc9a4dd6c281e692ad6256f539326b44ef7e82bdfde5c2083dfd49e1f4bdf73c9ddcf840218f1a158f62d79fec9e9badcd1a1d02d28a53000809cde038484e404ea7edf17902a8c2236a811f0f5eb067f6df4eea6493ce6d9d5c03d3e7a6473f201b2779af314795dba50a332cabe2b109f40bb509b98f2d031060748835974520fd437a2a8c6e0d230e42fd2febf409269bec56ffd9d72221fd7fb95fb2e37ee78594324d2235061c41f3fbdb68babd3fd6fc74a63b9e8064bdba4094843458d526ed842f5485c21752e1057971ad0dea3c4a58c718e914d074d4d34e6d351aa5fca273ccb95e6819a3bcf9997c4557c07f52a9ac983efe1ff297ca8ac9d5f375d73af388c29c305c4af673daaed09e9210ab45e1e728dddfccaa0ac97cc4511c843aa3a1b4d56f99ed43226fc025f07c3f6e384c3eb43968685828060d3159e885c26c165b90d3e599685ea931c3078316e699c1adeda193abdf86a5122578911859e58885bda743879619ce43c7ad1139cd551e61957d4c75a67f70209379093850f4f46f1a9f7eac8ad4053961b0b15c817633882b137221367fb71f57bea1abd5a131aed1f45a4929444bd4571a390e02bd4bd6a7ed6bdaa852f73061cad9ce9e37a2d71799a127a952f45d7f11770a95ee358334800fe0cffcda7cc25082770916387ad12529cc4b18f89f3282e5478ef7e0c918a1bbecfd6f1795aa0ca372cece8b7650f5d6e80a961ba617ee62ff3e3d41926fc82b8cc087eeaac8ce895f5e53cad6d301a902ad00a3684ecdbc42463463b056a78a74348c6d2b9381a25839709844e56cf4473ed5fdca69b911b644edec826721bf4c0df1638aaeaed053bced9ae5f3eafb56e7c811e5fa6cf8b38c46b657f027455288739d9f903980024a57e76cbd9e03ad034419cae7790446dd35ceca13d76912ce35b7acc2f097ecfb89612e2b6d9e4d0c5eb21af40497f011d7e74edac93bcbb4a72f8bc2f6ee1a4d45d2712616321f4f2cc64d4056fd981d7341784e32d256b4921f23fe02ca3786274eff680bdfb8a2f7d48d81e09ddbcbae166ad34e68f8827c24da07ecfd31d20a0325f7899581160ca717cd03161407d3b05da373b2bbc2919385dacfa94c7acb690fe10b4b608234934b38f830c734b7d0c5cc98ac1df958a0c18db8e705ebac1cd8310b061a476a8c74aec66b451ecd2690c3c05a0c29e3a5daa2a628297e2a5e6e7b0475a5b2e2d7982eb602e35066d224b86daefbbcdbbd62c52144d7ec6bec8be2c8293a67cf7e59586d76676df6a3202efe9cd1686466e8bede57e8277355bc9846bfb3d3e2dde0e6efa1609bd815ff3752eb4714f63d123bf9c2b371f5f2b4f3b50dd02affa2b69654660310042ff75908d22b7faacd2ac473718ced9ec17dd2de653b3e3da46b6787b86871e3832235a6192ee48272c4c5ef7de8d464d1aaf39e37b3a3e32b85d5bad947e8acf58bcafb6e5f788b69eaddf6a71cf83911e6b12e0b8693001ca916afcaab9b0a0afaeeaba52d47007950cc80fac83fd7eaaf89fa467228dfadff9c11e685f6dc24e30421f75abf3994e8128b22fe9328b21226d3c52f568ca70e9832192da329bfb24e82d81f0e333e0c260ef06cdda4e253558353c46ee8fe292e58b7af5a9e574880b1ac4cb4491bca6dd1c9ee0b32f78e2ef482ee0e2d9a59b821e542d140725e3474fc8866ecd7a6f2bcfd4eee17683e1af8b878b718b34855dbe74925ac1f73c383519dd4cf40d490ef3e2ab87238f6f61684e02ea5257575593de86afeb5cfefc4d9a1f38d10c3ba2ada84d1c13a9d5064beee8a02ba74b322b49dc31fdfccfdae3feaf580752245d49d91f345d62e261e10b3c903c7f471816c4f1a9272314697f9b6c73829a09a9fb46c20af3680aaebb604f2212983f91a98610cdadd1108f12b3142c236510edaded62c4afe4f93d075eebcfe53b8e5f77b309757e6f4479846c75edebb16b65cf567ebd60d06299d73aaf5a090455318eae69172ddad479faf36221d66945dba22528f86754f321ff0a3bd38cee5c8ab4c9a1d526b46e8962003bd3ac599c4e9093bb8640c7940eb553b4124fe5ed21ab272ca0a05b9588a0927df62469e466ffb32ace78860c2702d85748e155e66d3a8abefc29b800dac78f42da1096ad1e72e894e0958f6c4317afbd35b887f8ee73ccaaa78daf9fba77a449e459e0e151627bd092ca140d2b1b8a1d4705bc695a28930ca814326dc6f27ce53f2fe9d82c8522015e4ef070583bf786b00e5b2fdc69af49435cc9b5d205cb64dc3f351f37e0f048bfc8a63c8e39b9a2dba5faf499288a03044aa22d41adc1ca11961fa24cd02ada169e1784f365e4b8227319e83f51fb098ad10dd506b62c8714fb01970ae2f52df355d6eee8c19d288168aeeadaad2f786da250346877064c70b068946a1c984502a38e284c83bc6e3f87662b80edff3de380401578e57ce4884132e2b4f420ccbe8e7940cb9d198360bc729c45265aee787acf037293b23e480dad20307dad526a384be4dc78d057dcd54e7a6465aad2f514de0f5f00544b74f8448d89ce8c0f9f9bb8ece7f259b28f67e4b655d39f45dee21ea8bfe36aa920254f189a47456fcbf789615b42994ed454b74a2aa4c815b6b8683337b7dd2ac77b88fb71df83eca20f2fc89888c8756cc48b3696b844388f3b2e55e321674863ceb05f216915ddc229fd14a2e1bd8405e4b44ef840411441348d24c57fee1c1336bb2b3edcd935b59b1df0d77fccd60d1318892db6b2f14f008284f207c084e8cbc44ca1c071ae4781d226e711e610696a89f03b410161ef3cde022bffc39c0762457b60e25a344e4d2a4b71c094fa980d19d72d40baf83dfe2f23327484bf0906ce82ae50e5aabdb85ae9320d59d50ad54d720fbe41aaa6715f8ac81d555e7c818851dcb15e0f52d35344d715ceedf7637f638f08f60d6ffbcdaa606a40c7ae4451f1b165152d92609924ebd7246621ca03c20c5f4999d5085e92c02cc1d0af2eb30cc1f93a646d98b94ae5affe2312be901ed6013e15b813fc73d93a74601cb7be96b0651afdb7586031ba5c1d8f367d15daa6db78f75f3ccc4a2f138441031b4f37c1288c79a5f1b9097f1a3f5ccad0f6fdb6b9f80659ef74f2eb320e2f36782137022a717abd8258450abc86ee2b72edf38304f541a5f987c072bdd585d7884ff90cf215d37872b57c924ca952b6caba9872e51ec236977354b730f8175274e61fdc7e18021bb4075e725e98c96013fe5ce43a8ea07dec9ce21cb990f93e185205ef86192b3b1c0a1691229f74aa2f8e73a3bed801bb0b2b242ca5269ce43b7b4d79e0a7114fdaf0dc889ab6eeb1ecbee0aae806a5f5777d60045ee941398766953c9d097e202d3b34a7071d31a388a06e4a641f4395e574720f7cc9c229797740b9f44b85ad2edc0a0ece4a5ac3b51dc31c25ff1784c2a2c5d068a74508cf1fb718bcc1992af50d7935316f61b335dc55622c49fa9a6041f89b406ca0e14c5f076631e34bdb246dcf69f41e64df83980c534216761064713c3706fd69e6fb90a316b144916c8472da15ec4d683100a6cc6e49118fcdf01c87127c59f7137a24823e6e941766f856a7ed9d36d4564974aafd3720725b755d76199b224bc64f08d1e83ffad128e4926020174653eb97c4cc1001b168eadc0bc4ce1301aab398d7a634d7cae8bdc25fc87a5328c60ab5bc8908fa77de5c3f71834dc72a86875b1d55277bddaf247c1c53500778f6c7268c51e5156790273e76f64bf375f85c8fc06ffdf17ea0c9d2a0ba4aefedd3ebc515e1d1faf8e21d9f02dc0bb6e3ca76d90953b0dc01d78ef44d9681e83723e8824069d59d613f26f5b96f1856971d7a585f1014c151cb33a441346c6b47a834cc147a4ffb180b5705122306f79082b8b262a01f60ac8e7009f31af28728c372f1810d44df7f2e303343c45e4f5bdb43082d0998d7f5620ace38b5366357354af2256f3ee8d348a33d69aaf4a75385d7c2b14214c95ee7d1b9c4f84056d9c1350a4494ef0664322cb841440d7c0fd2b97b1425e15b213a5042c9b29b4062398d4cb7fc5833d5af36555662a550aa6e2802ccceceb1eb2adad6142cccb695467c5b023a095921bbf5107114c7984e7020ddba2c6f9ab639acd4936c3d57c9de64457a017a5d34aa9b628e2f1c4ac50fbb013884bbeb39c19c8ad8c0620a9c37fa454f4eea7d0d703a2e427ceae24c8ae9c0e46c036aa0cfa95664f2e92a6b3d98568b68963f4b8b4308c9f7cad1d9aa5e55bb04fd7f257f017d608018f1fbea17cdf0d1aecdbb6c990c03e0728f914598a432ac9c50929beb6d5d7d54fe26ebb9d9972e2f2a6b92fb2d8f3ed71b1309bf5f2564d6f63f9db7b1fc6236b41684e7d938bc02dd206c6480b79faa6c7d37c7663a1d59e9d3a0ee62066b313b78b3a266c96d5deec6aeec27b0226b0fbf877f061e5948b04e6f5f2dac753c80657f997c47aae17c3c1e5187fcbbd183734f05bd0e6f4c7563d8047df6abb7c8c1a522cd5ade850d9131519627d5daf55aa53466e01f2da749f4ddc97a32d700b46eedeeef750a2e758029bf9199a9e3826aa0141420b0915f37f7073580bd3841352d87ef0b09ac78264ba6bf9aeb9cff6e45c7737b0d263be60011087fb3b9f8daa94a7a2d33ea00d250b1929cd3b1bb28602b7e484cb357d28e2c1c5b361e1a2f40a02525165aa7b1bdb6a8b6176f68474b2d7c302170a0cbb02315e8f59484677e4df5e9594bba048df593e478020cb0a7a162daf253e62d49925c11d39b3b38ffb87afbbdd7cf8600cf2cf8db15a8c5d74920730ed19d513b5f18c35f67a4ecf60a759b106ff046afa8f5d547f02afef49d68e6c31afbd951d0770aef9d1f49f7e6804dbe8a14fc9b9c1cb72ea65cc52d883c4aca34426da3869ef6f6f859cb22bbeaf1997979e4b69bdfd14addcd26270591e6d7083ff878aa48cd87ec69dc0cf401fbfe9b19c9f52c5c6087e883a603721a271216519ad179e645f1f533e0405fa16509946b009b0e5d686a5bf191a9398916b48cd3483dbceac5a62dc76d6c2bb863bdedbf808a1932bc66b1f4e4bab56d786ea67f6ea83bdfe0c1b6c6dda48b8dafe4616d7951803f378f47b67adc5243808d7ca578efb83c7138d4e590b40e690854a4e51fe21fc826f02bb1825d9259c5ea6632afdae7fc06dd583de3682d48daa260b977eafe6650a5ea24ca9e3d7efe13fac3d55ba035f4483542afe7e511a47981acf486de255f62dfcec9c1930ce96b6abf140e18eef86c7376d87591f9daa1fafb00a51e719dcdae4835cff99c38d13187d8e73a0647de3360c6dce0ce930e20b153237d899ff67f585220946495cce4805b03103316ccbb6251e8700a1d161bcf7447398cdb69e0ebf22ccf82a341cbc7dea93905606142a47f0ffdb81f4729881c2ac7f4cf52386217da96894e6f49502ed897ef2dee61fc52a86548fe381e8383c986ead3e98f0274e11bc2ac8fd895b11876e5ac932a7de5d5214aeb6f7ba28fa7ff4cc83032b999b154130710d86c25635c986979513568c28e9dc15a185c18a0945380edb6eac7d8906e0410dde768f9c95ba444f65b52c7e9e0ee3199cf7a4c91206d27bfc50332f451a2f46f24a138222c5c4e69c7b4bbcc4316d8ab6d83fdd459f73b73af7b3ffa67ec3e0493cbe780cd7589fd152949a053494281c33e9d629722174d0e8fbe8d10063b584027ec98cf561456c75c664464059f2faf6613183ca2bae7aa4ce67bbc28ab9efcf8bda5d6b7ff1383c51bce440d2921d9ce6e534ebfd84debeca9c886e43edcc0cde60c0d595820342404e853d603f836b081457911b79964de61d9033a89dbb6fe9ca09fdbcfa19e16bca45c69577c1f978dc303868d3951fac4e51879b0b67586ceb6d54f3f7d6ffd57f0ae59c3bdd670d0b376142d4937f8524afdd5aa5c95cd53fd5b4a8774ad63047936197be88cdd822cb55c412686a48a882a65d93aaf1e67611b5b8a1f14c1341ad7d029d144e9787453d607969ba211c2abbec814ba7405f07ff5ed78cb994f19a92c3af53852b55871e7fb82e5b47e396d570229c622c8e5fd75643d66cde1b6f8d2aee9efe89b090dba17b964bc54632a6d3f0c06ab0753b48ebb1505ade2f4eaf184374a83cd0a7458a48fc89d2240ef6a6cf2517a2852714f7da810aa95f5f5dec2126cad09b956d17027c2a5ca5550b9f0024eb5cc5ea93bb76f8e724dd0ddbdf8978a0b8dca1ae1639ed7b2bf1498c528efa7a64922ee103b85445011c715da26e53cb7a7b961bfa684325560610010843c6ccad6cfe0f7d191514abb5cb1bbde4519d85e4fb0002f5e7e896e803cb48d77b8b3b13b07bdb46e031f74ccc15fa35ce8c0126e34517bc48f62c25442ff1dd089635f971596b9592e045b1495c394b927f600003a3e3d0e7bc35e4dea36219288c67931f03928187432f5c00d2a70a72b2a6a2087a79527ef47e32b6cf797f4f8a124d2de9e70e49ee7378f02f5640978e9f7cd28f5fef8ca2a2a1d8b603e7d430b5eda0ba99fd7a1cce4938f902a759b39c0db305a2e83a003335970e51cd5967d299580fffb01042dcc2ce703f7e6d8d6436d2d321f5cface0c8e11bdaf94b655c61a9dca125b6f3bb72ec5f017e99ea6d0489a2431b1648f8c2f66be92688e3c52b5f7d2fc17958c0a97b9e9d0b4508d48ce580db20094b927dcdf41d3c1312ca8ce02f2be2e1da9a5d545e57351efe7b655bc2cda496c426d5659292d20f771da7e2ee68275037b3c9c9c4ab9d93ffac1b9b0298149433234c7cfe8ace05af12b594cd36bc8ec5866a8e6b6de7c5e6974913470e7ef543b88b878872ca29b4b1584e6277b7b3c27876447ee75b6dccd4c8914d5a815f8280b3e628d198605936ddee1500395f64ee9847ff3e6228eaa19d2e8dd2a53659154664d00b5014abd5c9a1e8968f64aa5a1d79904606ee74fbaa5e85ec717efd16265e50b6333779661796459995b4ada7f96844a49badd99cca482dfb1f5d8b0c85751d7783c44b524926ce32ca6429dbd285e8c5ca1de1ab4d7f1f21e255ce7e7dede18b55b70692c9e4532fca5de2f0cfea1c0958f5ec621720546c84969c8086b01ea15a56138d037e5210f9cfb3c06d0fd478dd02bd5a5e7cd4d1134ab85c9f355e19afbfde711713874e327ad9c7a5a7389b75d4518c989e0068cd92c7517b310360051a58b0a132fcf1c9b49f1b84fd405f59430d8271f752066c4d3e6e2114c58f97e4c7be7b2497374bd440ee700f0381e84277e64b3dd176c8565870f5c0d3de458f13c1b903a911ad7246be0a178beabc76f6c0395a03012b9f7a50da0af19250cf6c95a20069349082e83f5d00f24afb6b9b734f9028f3990ee63f80b5f77eea66ec26b95fc00bb913f457969943444309614c25c39a913d04843b5bfc3d693a743e9fd9834d9a3c74d06fa73182c2af55d5a9b4d87eb0c4f0228014736e58ee6310e91aa2e6dc31a972e93aedbe24899239bf79ed692d97d0455cbf90b5b5a0ed9f8c77101f5a29c994cc07ac2b6603ed80dcabeb8eaa60cdc0594fb09703ae8f2376c66b499de6490a02fe6e91d18340e87c582ff73e991e6c16d842bb0826f900b68f444272ea4df8b82a4f95dace42aeda3e5123e5842cf36647326f1154dfe515d0a651082d4e019bef96880fe3872732437b38e1a1057228327e090e693066ee341ae33b05accac2170f5d5b2897a604730cdefffd349b3fe66e6241e0889670c6ef8f22f55dcf48c13a96f4c17873feb7e6244856e23491c494239c552f7db6a58dd53820da462bcbaea9937e4f79c5600211bdb425bec45f407450419c5da75d925ecfcea432bad4dbac77e898e5ffb1175182d8d76bc0d03782aac3e9fab3bc5c41bfdc2704a998d80ffa71a2dd41bdc4327c9bf0d43e5e5e8457e0be6f4de2facae307d5329a7fd5fb504db43c446a557cfeca355ebaea61d04b55cb761fa7b387b9c23c2c7cb4ddf9b5dbec7d3d48f6b05eb856a5169d735d7a6a97af46ce2a7c9320748700e74299a9b682f8259f9a02e43f36db389ed1a3972cdf133731d19861b7132618f74870ec0a411841ba8b130f9ed989487639e7e97e3f9e61d6f3a1bbd7a201d81c3e66e78f63e3507eaa5aa9782241b27f80ca231ffd4269f435973a62becfaba081c59e94b36de10ce23b450d42ec94f93dcfbdfa64ea1631947ae49d21ff4e1500fec953d60bcb402ae1e6b56da70cbe0886bf6a73f2662ca2ace0323a93859a3c4ef35c626b3a994e52517f214254b3f42368db14aaefc96a9f080b27af42d500ff700e9434b4ea5c4a492197c105a35af45fa2e7ae2b67fc34224ae3e1798ad9f00629c0d83fdf95a3310d06ec315aa27b82b2733d471cec528eaed24ae1eb13691debfa78154d299fcfb7a288c595d47dce1beee50617ed82317570d1a1202251472b7efeabbd79867f2d24ea604c7da76ec0f925396128816c72750c1d097b8172f88b9f73c33be3541f1cac4528fdc75f283dd17fa4bc97e624bfacfbe0418cf0e0ac3ed3a9278577b8f890b0e1603b7c56315a5706f0cff95352f06aaef5d186ef0fd8d04bfe504b0eba7077d166ade135dbe6f391e4fb49b148eba004f5492f1583f54c1d64b14ea1ee74e7e9941b2084cdf5330ff1ed1d63000ca2ad8d95e1f4bf9cb00242b61ffc58c93d5abd48cbd09f418407ff2945d7939b7ee9f7cfc705c7720224a38b54cc7d99fac1306cc8e40d760b558abacc8a5b0131974c9e011c18df1fe17f01b761c26671befa4e1591a49c678bf0cfb351d8f2730809b6369a5a1f9373ce2a2c6bcd793abb7624511e1353e63320d1f6dc72f6b0a2d051b38165f6544fefec0d291294f2997be8fa51f514c9479fdd15146c55a23a80839d9ce7268f54b643e0d4c888c7990092bcc90e16ef4c7d8effb35e12c910ad62afc809972ec6c7b6682d318f3dbce4ea84c244015aa754048b240236c82a7de7aec8421f88296306afa7a35cb539d647c6b6f0f7eb5ba28339c3683dbc749485c0ccaa0f70e8b93316ac8ebdc35e4e8fa5ee9d88aaff52bc668cdb0f11c49638fc9f744154b70d19aca65907317293ebe30e7830b463137cee55ab74fba706cb0c5bbc9a82aeb3726f6d6e6d7f1f1e62039ec24e58e5717fbc05513235cce1fa1458d73f52519b479e7783aa1f432827ccf4d5930b1992d067354901186d48ca45573409fef5ce8620049da924532c817c0ddca55f66eb8400ed2ad2fecc28034dd3a2306bc735ebf73667bd604afa3b446963126d2a3e255fcc957ab9065ec010b1c8e6f8c11fad1ea7670358cd0febf3b5cbf5e7e44d3f4b6f0040f80f31cf899eb26bf0c134223424ac1e6c66a387a79318d963fd9576f65ee3eac0f2f9ea08ac9a30b1e0a2b07758527d9fe3c386d56fdaf812772c346d205601de1bec1bad3de659f1c4efb519c9e43dc524914890a2a84d0382f389ed1a8851b8f7b7e463ac56e2d558d0c3afed8caaf3ce128ca8355c6357eb129e3a2377186b885dab03de7ca5e04dacc946a040fa5b34073c0affab5405ac3f958e2bb9b4e7cb55f56a9cc5c3de67b98932a790885e8f32719e9a1fb00c14fedde6fd9280a42885fdc859115fa924169b07a880fd7bf648a9e2475a1b2bb6fb4f4b93b145a6173f359d60fc83f664b9c3c48bb9b6baaa450646c0a0a27b357f53f363dcc3dcb129300bf4aee7f4681ec1cdce4ce994d4d1cf5ebc35b451e4209858047a10f9d7cee47fbc960991825d2e12879ed510c9a4c45ac7e27373e88324769085db0995ebd1f6d7d54fe1bcac30770232bf6fecf21f80065e59551ea6f43429cb852b241d0e6b6b89d012debdabf7099e1af1923865855e46dde3345552c74961716ca5f4d6f4216888816ef389ca03f650837b945c788c28a90167c52fd777404f6d26a0ede8cd3c17e21f5f7111aed7b56492a5b4de654294f92057bf57f26de59c5c2137577fd3c9632e4468c8f5978bcf78c46cabee6f0974d88d6e09c35605d0ce25e3732e054e8ef758c984f68a23b39971c90b2ceb72ad471c00cbfb6bf06c5e43aea2516e3cd467ec5d11dc3ac1b4e3bf9df42f697ab2763e9f6bd182fff40503e448b076e6eca3e3a96922b37a52b2d3c9b8c2bec2cf88006c5bee5a251aa877a8fd743233772963534fdf722f578bb1d0da2ea5e047345a81f9c2ce7254e10ad93dc1135fe548e205986f0f94d0de84e5307debc241913d04c93961e38ab6a25252e648e209c67a383dd2828319e776ed1f8bfb1659cf8b3575df3ca0e68ea4a80e5bd451aed70d9c74eb95723b0fad3c4a9e718fa38e6504fda5ab402f1411aa493616a13a00f037cca11683fb559374130ce563d6ced4f66350af5ed14c911ca979625f82a6befe9918a3a7d9e9dd6ccf754446c3524e79802b88048dd3360c743390d04b45673a25460065e64a9e2230cd9c0b98d1cb0ebdc75460e2c9a2336f7918d27ac822cc89bf3e7930232fe667928c6747b1da1325d6707a1fadeb7954ab14eb144ec88f8ce071c57d8898017d399da386e055cbc0295673e0981d329aa70f24543b8b21c3f7f005615fa849f9ef3852870b721cd02e94a572ebf8919bffce0c641154a97c52c97511277b3d6643e22845d82404a6ef810dcd97b9a897745bf0b4809ad995d3c768e48a5447ebf6d881389a650217c5666ef4f0df05e48736a71389caa0989215fb8ec5714e6dd69024ba11ed2de664119a15076e21f59273c9f0f9e17554e478ed88225ff83082accd9116140719dcd4cd221da68696004d34ee5ef52e78a4d5950472b5040d698b7b8c9909e4204f4a845a3c0d0c3fa3bd102c86508c0ee2c84264728a4c60e914b219f92c8c507642eff388516e93277f9366a5b63bbbad40c82e5c04833dd64cd7161256bf90dc17d366541f680eb37e37866b2edbf58b5fb4eace05eea78a8fb7bfc7ff4301d47fe84d4b5047590f39364208a5957e3150efc50af8d26876da59f97522022f5661d116d557ed6214dc641498e1e03ef6c677f022d2e1086b824a15f259e289f7274f439e4edd24a9d38280758339fde3230692594ed40736653e459e3bb562d8ce87ae93055637b4f172e7a550eeb74b30034f92df59659687922f1f74f9a78be7fc2bcacc8b5f2d7db2ec640cfa1b307e600ab94c6c93709c41dc0965e4a5782faad384eabb9610be3c9505fad2b5871c427dc92f5e19dcdb30955f8cdd913d045a60e345f448cc7a1172ff615135d19aa81331253cb428ebbe14c906f3951ae3d6a8c67dfbab77ad42386a0cc9581b232b3ff668e01f8388b5b3c483a08f865b13cf6fc2ee5a63451cccbe7d104cb84c84ffc2cd90a8bbe6754c5e4dd906e5c96b225753c467665970315f74b5c55dbedf387610a89d4c79a6cedcbb8fb7fc0d31b7b36ecf8661d93b6ba059c576c330ebae88eda5438da5186b25a572fa729a503ac43461cc32c5800731553bcd8acba6ba65253db2853dfa211f7b0c03e855a21cd1cab9099ed7209f4f71548ed6e8aed37cff7225c569b6012895cbf1f8d7f48157f2f7f571a9884acc652ecbcc2888c9b18b2b6283e3ea9105480138f278217a7c7d045ad40a80f8ee9d4cfa7813a6c47e3cff77c189fc584f0eca881c951b08e3228ed71062e2d76a7fb788846acc4f0000a2bd395fd2f4d464681bea5efafbbd6f6beec1ffc998d7b31469106fd97c28e61e1367d931ee1c64e4cb9c725be0d97e320250715eff72fe9c353fe74bc9e10ffde2bde79371de65d469ff7d29bb9c2a8b4b4a899e201f60e0a5fd9fd95da874079375b48c3c2a7a0e60a5774c40b85bad10a08835019f7fabe3fb11449053aa99c72e766b685d21c05ea65663db5ea62583d7eaa1632ee7cf1a509c82794ce3c665f4bbbf3065161013f292a55a6906da89230c2837e5eab9c1410db316e277407f03cfde99a9af79265891f149c48b833ab9fb5402a9f549534b68768f96b5bba24a9b78412b899742097c6aa16b05b2dd2165aafaef4499236093ed5abb3c9f74e2d0870eeef6608b202065fba87513eec84ce8df6d4827a36612bd2e11c890849db0f3b056290cc2b0f06b2895c10a92fa9a2ece58d18e81b93458ecbd717cafb7704bdfd69cce0ae1a41899f8bf1fb52f456640ecf4483344e26ae0805b66c61f762674119a29499fe215b59fbc140a3e0b94a4f2ce75614b627626ba7cff31ca2d486442cfd2572606d6a1dae1c20f93708e6fed2a6be07fd386cf149c7fab4add8c01d4c248c290904260704983b7a4642e3736d8f8b0a951e9f95087a5588489fc580c9b99c6cafe208e9c6dfb8226dc483e71f5632bf2eabd4d473cba99699a4b6a42c2a27555c1633f08b6b22e4d5bad6caf07b397f1bf06f9407575be10f7a2c06e416f1f6dd7db6dcc2c0a9b8de0d51483e412e08a2089dc338db9ece1b5f62939ece931d9b06f4866115311ef6aac0c9bc44c6a8655a4d6ce7a9d727fd2ab274ab62843ec6aeaf37712d45e1829d5c14c9145346b2871f66c5d4e568278e90dbbb7282e061cdb1d7eeaa663ca782d097facb1844cd0469dde98adb00a9b0dbff96c1037f08eb41a4052fafa23f91695885b7f96d6ebb980c908ecb3abe6c3e602eea75ed32f8ac71b589414b28a4a2cb26bdef7b1f5ba67ea356759f9301c910c4bde754e35825d6317c57a0093fa62b08ab2cf321b72103b9fbabd5cafc4ee943c8b9043967d26a357b752b99f34e83a7145d3321fc59d6ec0fab5a02535b80dec72ec9365967e60d790728fe69f94e56059a7749a91feb236c26b398e579b26e4cbd130d27b58ff23676c17d80893da6efa1ec78d3fd57acbfc4d1c7a0470afaff8324cb1adfd376b36775fac9f9dd62ce8c4a13b3e50bfaa1b507e59377b003d718602fe3b6fc397c76db157bf3814e1d902b47d01e54251ea3adf7c93a6e23a99b0a05761d2376d802474ba259329b2f2ff0a19c1340a5e96d3a4006d9e7e31e0cefb9ae93180911e82d702899ef95888e2f6165a1b66a043bce891ab281161a8461ec18e0673a8b3cd41d4a4816aaf447fedf8479a57d6986b1ae0f4db044ddfdb82d0cb16fd31eb11e2893efeab67c5f8543fbf39c65554d1aecab5aad88aeb49077e47fff487047683bcf4688eb12c06b089f1f4b5e4744d6818ebb1b64dfa9451f5acac103b5e27626d1231336247315d37ae45dc18cb2027ee0f74cbea350da0a8372b9ae027cfdc4163bfc0d0acfabdc0212575a065df23cc79e5e19754ce32a2062956ae8bb1686c1032007ba3b694d6dc179f3ab00e1b40cee31bbd15a0386f7599ccdd2fd9fe84440c1bc5f57fdb1f14e03b982da2cdfe85411e79063f2e6a1f4d33634fc575a2889ee2fe6609b7e28c8f40be1806a3c798dd2fa27560489a5becfe575bc346049413526c21cbd93d75c1a92c31d95ecd9f4b24519235c16732cb7f151f09e50ad31b283f9616503275c255ca79d30dffdd84782e5fa9a8b7918fdad1289a5c1a6bf8160d935c27714ed12ba2d39ce3e2f6f9b4a25890571195812e4f8d1935f05539c0ab4eea102086003f8022973abc6651a568b6c91853168c5a4759ef134d02b9ae91e4a1aea1540d8991dd22de9a541327dcd62fa41ea0714a818ef33a6aa516f6d4b9dd795791f70db3fc2994d5e032eb1242aae13761c3a9b3d1ddc652dedf274e78b76cc177ec3f7bd0d0d44e620a8d8076dd6ee53128fdb94e572e40927eedcb4cae3b79acd10e26017e151c4a7c5ddeaa933174b669f553a389c6343e6d5124655f2abab3dbe53e3db136b823690a71751b07baf1b41e816465dc3a5daf32af77d3fd00a7fe9f5115cd4e085b8c34859b9618bc286cba41efb0bd8378450b13e1b244abff122deca7de15453fbff246fa9fdba9d0481f6e3390a110086c1cd8e7c65f6191ec5f5943aa45e03a9f920c2e55e2067c21b61537aa2b2598ffc06916412f205fe1a2d65516ed39d90da7cda62c5dbcbf8cfe8e3124dd7e8fffa8fe3fa404c9daec8ffaf5aa0dc6e987f223d0005cbe71dc273f2b169dba9e85409bd1594064da8298dd4dce697f3c394a623e1597a53a012e2894ccd81da0e661bd973e45e2f462ff241e9a1b14579960db17a890e18d69d3ac5de7e9eb6e48b2700f9b95729427bf435b51473284a8bb009d0d8be79b36964e802c1592e7d7cc40990d7dcc6b1c768294aa3c3ed8c932ae975f35ba6ba3938e9f2561398e16e195c45b26eb870786aff489e97023795fdae1c12f1ec9e690fc3f4bdb0aed723362643844858d8d1f694900eb3a3b6a527bdf32a89dae82dfab7b4baa6a3ffa24ef24d3f27588441b480c9103cc5088387e22dc04ddf9d4537d4a01d7e68a2a48d84b16dbfc5bab28b09c2c9572086a99a420794408382a18f0f5bb549ab3aaa82f5c2e908ff1f85bedea567938ec4a9b0b127117af30a198896466e4d2f7bae1245e71a4d512d2ae5e8609c7df23ed36fca070e704f15f1fd9d4de094c60c54907a691e5086604d7e8a95470fad8c8512893160336f785a31ae3a214bfc1f13aa0624ad016c038406c89067fd6b654976d1d9e972a35ade9397cd55be78d57e0fa8b637515fbfabd9a1b4673f7fdb81b9039215ef004c3e6b739246df92add799bd1dcbd1e5966e7a9edb718c507dc690bc89881e71677596e9180afcb17c821b7dca42bdf21cb25f934ece9b6cb0d36ff98bd1a27614f0b2b3fa0512e8f63f454b94ab88299e0ea7b06cd1086b0246b36a5180f9ee4a5a47a6ec0632d415583154bb44f24525b51405eecb1d245c5bbd25aacb2b021412b854c46496babfcb080572711a7131b6ac4820ab2a44de2249c430a01876b18d0370c5f2bb1ff90da288a708fb2db60097e0fba8c571f2367a68cd9734ba1ae970e7da159990f17cb1ba5157a9b2462e922c74268b7576cf6733a1bb38c2b08efec459fd0b7fb9a86cb0ca66619e15bed29d4739b3e97196e82de40ac5e310ea49bdf8035a4de8c2313a89820b3cea17cf6365d94c73572353ff6aa2611e20a174060bbc8ee49582574424550517cdcec6df6b929290919706a026f4cc1f9317e9a26d01eb69d9c5f7212f9e66160a0f2b57e71ef6e521c987b929259a3f2cd648fc0db4ea808ba448f994f1a10818206030977f907364da857afda47ba3f70df46ee74ecb600610fc2c330fe335036966b2efb16d367b3bc399eb9add3ccb41afee8502bb4a62331e43adca68678fbf80ca47dad9fc3b022a25495a3bead716df378dd0be63bebc3e6f42efcaf8ed7be6e5749a14122e904fbd3a27cae47f2632f5200a35ec3552e9d0ea1a27135bcb43746f5b678d56732b5215cfe7bed33d7e6a4250b84325db984c7bae79749697a552abb9a74af1d402e5602ecb3a23b1e62bab1181a0915dbac36f8f24aa9a0af63370e2c7755acac2fa408faaecb0c7be68573b68b8f92c660ac61d0fabb5c47804dfffd285dc37480fbcbeec57c3706137fa5c4c1b66d55efe029a49329f7c84a1676edd291cd471eaaeeec09a55b210867d1d3860a62b5863eceb70b3e2674a0b76fb29e24bd470d2c78edd24feee76d1bc95cf51a49722dfec5ad099d388b0f1f2bfb40077ad234c4b1f7a5b095ce5f4548fa10923994b7e403f4d38fff1bd85f3681bab7dd60c20bc91749e6f5f607d6993d2db24efd8078e92e8af983b9ebb77ad9a4e33e1e609860e592ab7b1c559a4ed8a02b90d1ab36cfe178d70068821348a71c26a27cc9624e55367578af54657ad778c3bd5f11b5f9a585a4b4a236870199ba89ffc229e620def0db805c37a8be5a6accef23b3539081cf48a71a7b1ab449c9c4279b97d40a1e2e7d2185305c13be738b03a1aaa9fcd6cadbaefd1c937866db5cc5db62be70a2939b9e036fab555a20f9dd24a795be5de62a462c08a9f8d1ef6ffea56c0ea49981759396c0c6297fd3826e89373e4b361ed49622fa8daaa4cbc45e62abeb94287cdf4bef5f9ed14b4237af66c457b090ce146d249c069bc15ff8571c33e3359ffd84b5867eaa5f2a286a38f626c523ebcfa180f954b6ca4157344d08828b915636da1c72c58a4eb2a3ce18010d38ceb26b54de4f3b3ce977b18b94df3d5df2d52953d0c17cf87bb6c691760e81f0419fa0e7073e9287b0ac7c54957fca90c455f8d8d66e0bd79deb03b39d40a170122a3903c200cd1c4415f6db5d3dc84f6a45b1a41d1ecc1d563d7d508351d5563acbeb0c5a85bbe7089b7ec6d83ef21f5c1c6ddd5c8be626235cd73ac6ee10af73cf4d3a1d3936a54090e65a148c90b76c40a155cfb6db856ef9fee9e199cff299f4182d1a700b16ba116aea3a49bfc2a4336378e7397b21288722848ae1bc45bc1a9e50aa05d6a8defed2b0df8feb87f4590602b7d14ff3c64d2dea111b9639d8fdf0d019280855bafdc2e3ea684cbfc0707c42523bcad636714a2d276bc927dd6077a9618054796fcb22d5dbc6028dde0a4d30c715f9627b5c4e87e8fa7b0c1167ee2f49a8ffad0db041da3115fb18ea403cf5bdf1de95a0cb8ad6694366eec14263a9f1b1346d9cc99fa326e35bb175f7fbe6a3aa38be3231fd55367e76ccc18c9085a48a78d7ba106a1e61dac00e9fe2b5059c2ed7fc0ab6e8c04ddcc6c0cc3ce1ec8b269807c33433dff776b3d0332f44b2d6fdcdaa544c357ad939582774c26a165a9743a360a0cc8f45461cad7d264e2549e070c5cce341ea8b7cd7675f22ae2b32beb1dca442adf807391a89b242fe2788d71979f2f9125f5c69b61049010d7255fdabb75fe4e51ce92b3ff2ea7b33c788d13ae26ed4d03bd8ff7b437c6d6862101afd05d0cd993ad1a75deb3ccf4d8ea1f98a68b1594d3a8d4a9c3ad686acefb6e2b52465de216d4f79103346c400c4f5bcb67b310af297b7efe789fe69214d77ce86296f6b0ff531d079a0f721d7291560755a3a82481d90c8debb32f416c181ab2bf93f9a2c6f3a80a85910cf7b238c0f8d237269d2322110961ee91eb77db1c42b313acaab604302e9c905a9b8fc02232f966e5e576ca7500117af4335a31ad17db7995c9b6f15aad5f12fc0d2962dd83630504cd306039dd13249093cc65ad5669aadb30638d8619ab1ef608b4053c5d2bbd4f9b4cbabafbb1b21cf3204c28687e8bff3951a1e7792fd9412bfe813e842294cc885ce9319ffdd1091b1ad668db214b870193699d10ee3b4ea5854512a83c8cb00e86ec176f8dfc6abbc6bb89169034bbd0afdcb9239a8ebf9e7990a031a5eefd5d963acf94df421ce1f8f29f3249d876479f255ead35def3bd95078d286d08c959d0142c3895ad2726995d2718621ca7cded37eb79860ba451892490b002dafb12119b7c072401d8e36855e4af0a64524b68356b0f79bd4980a042a13fc605dc0f1759955df4cf81e656c5e0334c28c8db2da75930bdb2cc0450979a8225229bbc61938757b198a3c867a4056ca81bb2169fb4e8f13042c8233a8da27f48ec53e56b7befc3f1bad90895efceff7922b5293642540922198411cf84ee56db99d074d66b2a3bb211a20f93740cf2cb3dcc9a51b4c0e38752add1325df49e22f5dd94594cfbd20f86a400ccd21f5b3daf579df7a11351bf6ac53871c6119b119967f6535cc08bd08b798e601642a777ae9fe996aba98d276cf16846d69c7445ec1d1262a6c78dcc78d77f7b3482fde2f33a893c75e96f0e1bc677954d62c08f869c62ab3e1c18827425b5ea7688ba92c6f44b1e5537c1f7a0b91c1d4c6189feadabe8690acbe61a06e82c6c9b96b686cba5094ef175e76080e55184bc9df758634fe3535542b66a665616de01bc8d0065380279dff079933cf6008bfc55642981408d0f4268793b4e7b411200d61a7c4c277484a6614c2687bc03e8ee8ba92f8d8dcfaeb96cd761ba15642819c1c5facd3c002200a9dc5e12e40292e4655ad0aaf1bcd9cc2d6d9b42936e82741f8884f4dae8e5398d7b76ca49b17d87ffe13d553e2443704be9ab984817e83d669e738eb9300087fe8ee545286fb6d35e74b4de5d70d58dcd065c139bd364b087f8fd8b7eed1a93b64cf83b04eae4a2605d287e1c43e3ec26736797fbd8e5a25efd028d0071c33d1235ecafe45cf45e6c96c859ea027484825b672f89c356ea76034caaa5534b27c706f10d33fda5c043d715eb0899d3540e2660915b8d73928ceb8e8d1b462173fc0f4136dc4f43d2639a1d976e7d575b100aa7362d9292ddb36d96e78e651714a6d400886c91bd4e24fcde17d60b45f39bacaec6d440d09ae9d6a149cd4768013dcfa62f8fdd4973b867092d56ae23ded4e9cfbb300e5b0a6b72fd0f5eed17e1375ab823c086cfaff15679781d9f36f4b3a000b38653238a1f392f4d134e2ae67b7dc9c3ce0428c9b8124a3459004d6b74c82c92137c38c26989fb747b8e3cf156144143009517a029cc469d8da4fa594174e7c5a6d1c1c092f3cbb0fbf9c036f89db2e0cd00927ff7b77a6a3452e3f7bf35c591b8cac17d640902ccf3ad55acc43c3beac4a503f6e6e08ca14ce3a0f53f03f0e6ecee4eea50d285a790d2f1a5dc71971004560c181ca1df98cbc3e99455b86409e5ec5d1cc2b254463e1c12699df0daf94caadbf55d6b2a0bee244ec3474b30fae745530a3e9cbe01770cf0fc25fdd5fa3b53e5688af2763af38fd2998aace416f5ddd87118c8d3ec2d0de1eb35bc3dc1129deb3ebb359cceb74eb391606cfc424fe7dfe9b8e8c896f92df09986d92690756ded30e1627649b9b5fd70940e3e333f441f5757e15fd25ed02ea7d49213cb7686481a2d094d29e853a15780254d55acec647f83de9b0d920b0428ff2884fc3d7f269d3a740eccf2955e164e1e13d9ca1c55201eb9b2aea6203cd3b383b912f94ff34da753f2adb97600568e88391b614274fe262bb8f921f6187773</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>CSAPP</tag>
      </tags>
  </entry>
  <entry>
    <title>Cache Lab实验报告</title>
    <url>/2020/04/29/1/</url>
    <content><![CDATA[<p><img src="/2020/04/29/1/csapp.jpg" alt></p>
<a id="more"></a>
<h1 id="csapp-cache-lab解题报告"><a class="markdownIt-Anchor" href="#csapp-cache-lab解题报告"></a> CSAPP Cache Lab解题报告</h1>
<h3 id="任务a"><a class="markdownIt-Anchor" href="#任务a"></a> 任务A</h3>
<p><strong>实现代码：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cachelab.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;getopt.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ADDR_SIZE 64;</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span>* filePath;</span><br><span class="line">    <span class="keyword">int</span> setNum;</span><br><span class="line">    <span class="keyword">int</span> lineNum;</span><br><span class="line">    <span class="keyword">int</span> blockNum;</span><br><span class="line">    <span class="keyword">bool</span> verbose;</span><br><span class="line">&#125;GlobalArgs;</span><br><span class="line">GlobalArgs globalArgs;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> tag;</span><br><span class="line">    <span class="keyword">int</span> timestamp;</span><br><span class="line">&#125;CacheLine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">char</span>* optString=<span class="string">"hvs:E:b:t:"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintHelp</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"Usage: ./csim [-hv] -s &lt;num&gt; -E &lt;num&gt; -b &lt;num&gt; -t &lt;file&gt;"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"Options:"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"  -h         Print this help message"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"  -v         Optional verbose flag"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"  -s &lt;num&gt;   Number of set index bits."</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"  -E &lt;num&gt;   Number of lines per set."</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"  -b &lt;num&gt;   Number of block offset bits"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"  -t &lt;file&gt;  Trace file."</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"Examples:"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"  linux&gt;  ./csim-ref -s 4 -E 1 -b 4 -t traces/yi.trace"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"  linux&gt;  ./csim-ref -v -s 8 -E 2 -b 4 -t traces/yi.trace"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SetArgus</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> opt=getopt(argc,argv,optString);</span><br><span class="line">    <span class="keyword">while</span> (opt!=<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (opt)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'h'</span>:</span><br><span class="line">                PrintHelp();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'v'</span>:</span><br><span class="line">                globalArgs.verbose=<span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'s'</span>:</span><br><span class="line">                globalArgs.setNum=atoi(optarg);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'E'</span>:</span><br><span class="line">                globalArgs.lineNum=atoi(optarg);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'b'</span>:</span><br><span class="line">                globalArgs.blockNum=atoi(optarg);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'t'</span>:</span><br><span class="line">                globalArgs.filePath=optarg;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"wrong argument\n"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        opt=getopt(argc,argv,optString);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TryToHitCache</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> address,<span class="keyword">int</span>* hit,<span class="keyword">int</span>* miss,<span class="keyword">int</span>* eviction,CacheLine* cache)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> timestamp=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tagLen=<span class="number">64</span>-(globalArgs.setNum+globalArgs.blockNum);</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="built_in">set</span>=(<span class="keyword">unsigned</span> <span class="keyword">long</span>)((address&lt;&lt;tagLen)&gt;&gt;(tagLen+globalArgs.blockNum));</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> tag=(<span class="keyword">unsigned</span> <span class="keyword">long</span>)(address&gt;&gt;(<span class="number">64</span>-tagLen));</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">min</span>=globalArgs.lineNum*<span class="built_in">set</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;globalArgs.lineNum;i++)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> idx=<span class="built_in">set</span>*globalArgs.lineNum+i;</span><br><span class="line">        <span class="keyword">if</span>(cache[idx].tag==tag&amp;&amp;cache[idx].timestamp!=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cache[idx].timestamp=++timestamp;</span><br><span class="line">            (*hit)++;</span><br><span class="line">            <span class="keyword">if</span>(globalArgs.verbose)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"hit "</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(cache[idx].timestamp==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cache[idx].timestamp=++timestamp;</span><br><span class="line">            (*miss)++;</span><br><span class="line">            cache[idx].tag=tag;</span><br><span class="line">            <span class="keyword">if</span>(globalArgs.verbose)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"miss "</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cache[idx].timestamp&lt;cache[<span class="built_in">min</span>].timestamp)</span><br><span class="line">            <span class="built_in">min</span>=idx;</span><br><span class="line">    &#125;</span><br><span class="line">    cache[<span class="built_in">min</span>].timestamp=++timestamp;</span><br><span class="line">    cache[<span class="built_in">min</span>].tag=tag;</span><br><span class="line">    (*miss)++;</span><br><span class="line">    (*eviction)++;</span><br><span class="line">    <span class="keyword">if</span>(globalArgs.verbose)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"miss eviction "</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    SetArgus(argc,argv);</span><br><span class="line">    <span class="keyword">if</span>(globalArgs.filePath==<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    FILE* fp=fopen(globalArgs.filePath,<span class="string">"r"</span>);</span><br><span class="line">    <span class="keyword">if</span>(fp==<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"File not found %s\n"</span>,globalArgs.filePath);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> hit=<span class="number">0</span>,miss=<span class="number">0</span>,eviction=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> S=(<span class="number">1</span>&lt;&lt;globalArgs.setNum);</span><br><span class="line">    <span class="keyword">int</span> E=globalArgs.lineNum;</span><br><span class="line"></span><br><span class="line">     CacheLine* cache=<span class="built_in">calloc</span>(S*E, <span class="keyword">sizeof</span>(CacheLine));</span><br><span class="line"></span><br><span class="line">     <span class="keyword">char</span> opt;</span><br><span class="line">     <span class="keyword">unsigned</span> <span class="keyword">long</span> address;</span><br><span class="line">     <span class="keyword">int</span> block;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     <span class="keyword">while</span>(<span class="built_in">fscanf</span>(fp,<span class="string">" %c %lx,%d"</span>, &amp;opt,&amp;address,&amp;block)&gt;<span class="number">0</span>)</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="keyword">if</span>(opt==<span class="string">'I'</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(globalArgs.verbose)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c %lx,%d "</span>,opt,address,block);</span><br><span class="line">        &#125;</span><br><span class="line">        TryToHitCache(address,&amp;hit,&amp;miss,&amp;eviction,cache);</span><br><span class="line">        <span class="keyword">if</span>(opt==<span class="string">'M'</span>)</span><br><span class="line">            TryToHitCache(address,&amp;hit,&amp;miss,&amp;eviction,cache);</span><br><span class="line">        <span class="keyword">if</span>(globalArgs.verbose)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     fclose(fp);</span><br><span class="line">     <span class="built_in">free</span>(cache);</span><br><span class="line"></span><br><span class="line">     printSummary(hit,miss,eviction);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>任务A就是打开文件读入数据、处理数据、输出数据的过程，核心逻辑就是在于怎么模拟一个高速缓存来处理数据。我们将这部分逻辑封装在了<code>void TryToHitCache(unsigned long address,int* hit,int* miss,int* eviction,CacheLine* cache)</code>这个函数中。</p>
<p>首先我们定义一个静态变量<code>static int timestamp</code>，这个变量用来记录CPU向高速缓存器访问的时间戳（用来记录访问次数）。在该函数里我们需要接受几个参数，分别为请求的地址，hit次数，miss次数，eviction次数以及模拟的高速缓存器。然后我们将address的各部分结构进行解析，分别得到了set、tag等参数。</p>
<p>然后我们遍历模拟高速缓存器的组，比较address解析的set数是否与模拟缓存器的set数相同和是否可能为冷未命中的情况下。</p>
<p>如果能找到相同的tag且不是冷未命中的话，就将hit++，且更改<code>timestamp</code>的值。如果是冷未命中的话，就将miss++，并且更新<code>timestamp</code>的值并且设置该块的值。</p>
<p>如果则两种情况都不是的话，则需要更换块的内容。那么我们需要更新哪个块呢？根据局部性原则，我们应当更新距离我们这次访问时间戳距离最远的块，因此我们遍历一遍该组并找出该块并进行更换。然后进行更新数据。</p>
<h3 id="任务b"><a class="markdownIt-Anchor" href="#任务b"></a> 任务B:</h3>
<p><strong>实现代码：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">transpose_submit</span><span class="params">(<span class="keyword">int</span> M, <span class="keyword">int</span> N, <span class="keyword">int</span> A[N][M], <span class="keyword">int</span> B[M][N])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a1,a2,a3,a4,a5,a6,a7,a8;</span><br><span class="line">    <span class="keyword">int</span> i,j,k,h;</span><br><span class="line">    <span class="keyword">if</span>(N==<span class="number">32</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">4</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(k=i*<span class="number">8</span>;k&lt;(i+<span class="number">1</span>)*<span class="number">8</span>;k++)&#123;</span><br><span class="line">                    h=j*<span class="number">8</span>;</span><br><span class="line">                    a1=A[k][h];a2=A[k][h+<span class="number">1</span>];a3=A[k][h+<span class="number">2</span>];a4=A[k][h+<span class="number">3</span>];</span><br><span class="line">                    a5=A[k][h+<span class="number">4</span>];a6=A[k][h+<span class="number">5</span>];a7=A[k][h+<span class="number">6</span>];a8=A[k][h+<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">                    B[h][k]=a1;B[h+<span class="number">1</span>][k]=a2;B[h+<span class="number">2</span>][k]=a3;B[h+<span class="number">3</span>][k]=a4;</span><br><span class="line">                    B[h+<span class="number">4</span>][k]=a5;B[h+<span class="number">5</span>][k]=a6;B[h+<span class="number">6</span>][k]=a7;B[h+<span class="number">7</span>][k]=a8;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(N==<span class="number">64</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">64</span>;i+=<span class="number">8</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">64</span>;j+=<span class="number">8</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span>(k=j;k&lt;j+<span class="number">4</span>;++k)&#123;</span><br><span class="line">                    a1=A[k][i];a2=A[k][i+<span class="number">1</span>];a3=A[k][i+<span class="number">2</span>];a4=A[k][i+<span class="number">3</span>];</span><br><span class="line">                    a5=A[k][i+<span class="number">4</span>];a6=A[k][i+<span class="number">5</span>];a7=A[k][i+<span class="number">6</span>];a8=A[k][i+<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">                    B[i][k]=a1;B[i][k+<span class="number">4</span>]=a5;B[i+<span class="number">1</span>][k]=a2;B[i+<span class="number">1</span>][k+<span class="number">4</span>]=a6;</span><br><span class="line">                    B[i+<span class="number">2</span>][k]=a3;B[i+<span class="number">2</span>][k+<span class="number">4</span>]=a7;B[i+<span class="number">3</span>][k]=a4;B[i+<span class="number">3</span>][k+<span class="number">4</span>]=a8;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(k=i;k&lt;i+<span class="number">4</span>;++k)&#123;</span><br><span class="line">                    a1=B[k][j+<span class="number">4</span>];a2=B[k][j+<span class="number">5</span>];a3=B[k][j+<span class="number">6</span>];a4=B[k][j+<span class="number">7</span>];</span><br><span class="line">                    a5=A[j+<span class="number">4</span>][k];a6=A[j+<span class="number">5</span>][k];a7=A[j+<span class="number">6</span>][k];a8=A[j+<span class="number">7</span>][k];</span><br><span class="line"></span><br><span class="line">                    B[k][j+<span class="number">4</span>]=a5;B[k][j+<span class="number">5</span>]=a6;B[k][j+<span class="number">6</span>]=a7;B[k][j+<span class="number">7</span>]=a8;</span><br><span class="line">                    B[k+<span class="number">4</span>][j]=a1;B[k+<span class="number">4</span>][j+<span class="number">1</span>]=a2;B[k+<span class="number">4</span>][j+<span class="number">2</span>]=a3;B[k+<span class="number">4</span>][j+<span class="number">3</span>]=a4;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(k=i+<span class="number">4</span>;k&lt;i+<span class="number">8</span>;++k)&#123;</span><br><span class="line">                    a1=A[j+<span class="number">4</span>][k];a2=A[j+<span class="number">5</span>][k];a3=A[j+<span class="number">6</span>][k];a4=A[j+<span class="number">7</span>][k];</span><br><span class="line"></span><br><span class="line">                    B[k][j+<span class="number">4</span>]=a1;B[k][j+<span class="number">5</span>]=a2;B[k][j+<span class="number">6</span>]=a3;B[k][j+<span class="number">7</span>]=a4;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i+=<span class="number">16</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;M;j+=<span class="number">16</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span>(k=i;k&lt;i+<span class="number">16</span>&amp;&amp;k&lt;N;k++)&#123;</span><br><span class="line">                    <span class="keyword">for</span>(h=j;h&lt;j+<span class="number">16</span>&amp;&amp;h&lt;M;h++)&#123;</span><br><span class="line">                        B[h][k]=A[k][h];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>本题很明显要使用分块进行优化，但分块后如下后距离答案要求的数量还有不少距离。</p>
<p>我这里参考了网上大神们的做法。</p>
<p><strong>32×32：</strong></p>
<p>第一题要求miss次数在300以下，首先观察，Cache的一个块只有32B，也就是只能容纳8个int。这个Cache可以容纳这个matrix的前8行。分块的话，肯定是取8×8的比较合适。先读取A的一行，然后放入B的一列。12个int变量，4个用来循环，其余8个用来存A中块的一行。</p>
<p>对于在对角线上的块，A中每读一行，会有一次miss，也就是miss次数是读取操作的1/8，对于B数组的话，第一次读取这行会产生一次miss，之后对于第i行，只有A中读到第i行的时候，会被移除出Cache，然后存的时候会产生一次miss。可以粗略计算为miss次数是读取次数的1/4。</p>
<p>对于不在对角线上的块，做转置的时候，A还是1/8的miss率，B的每行在Cache中和A的行不冲突 ，所以也是1/8的miss率，我们计算下最后大概多少次miss呢？</p>
<p>大概是 <img src="https://www.zhihu.com/equation?tex=4%5Ctimes+64%5Ctimes%28%5Cfrac%7B1%7D%7B8%7D%2B%5Cfrac%7B1%7D%7B4%7D%29%2B12%5Ctimes+64%5Ctimes2%5Ctimes%5Cfrac%7B1%7D%7B8%7D%3D288" alt="[公式]"></p>
<p>最后跑出来的答案是287，非常接近。</p>
<p><strong>64×64：</strong></p>
<p>首先考虑Cache中只能放4行A中的行，如果再用8×8的块，前面4行可以填入，后面4行会在Cache中发生冲突，导致miss次数增加。</p>
<p>如果只用4×4的块呢？那么每次Cache中放入8个int，我们却只用4个，浪费严重，我用这个方法最少也只能做到1677次miss。</p>
<p>有一种很巧妙的方法，就是还用8×8的块来做，题目说A数组不能变换，但是说B数组可以任意操作啊。我们必须要一步到位嘛？可否考虑先把数字移动到B中，然后在B中自己做变化。</p>
<p>考虑用同样的miss次数，把更多的数据移动到B中，但是不一定是正确的位置，然后再用同样的miss次数，把A中部分数据移动到B中时，完成把B中前面位置错误数据的纠正。</p>
<p>1.先考虑把A的上半部分存入到B，但是为了考虑Cache不冲突，所以把右上角的4×4的区域也存在B的右上角。对于在对角线上的块，A的miss率是1/8，B的左上角部分miss率是1/2。对于不在对角线上的块，A的miss率还是1/8，B左上角部分的miss率为1/4.</p>
<p>\2. 接下来这步是减少miss率的关键，把A左下角的一列4个数据读出，B右上角的一行4个数据读出，都用int变量暂存，然后把前四个填入B右上角行中，后四个填入B的左下角行中。</p>
<p>因为从B右上角读取的时候，把块放入了Cache，然后从A往B中填的时候，就不会出现miss操作。</p>
<p>来计算一下miss率，对于在对角线上的块，从A左下角读取miss率为1，B的右上角的操作miss率为1/4，B的左下角miss率为1/4。对于不在对角线的快，A的miss率为1/4，B右上角miss率为0，左下角miss率为1/4。</p>
<p>\3. 最后一步就是把A的右下角填入B的右下角，对于在对角线上的块，A的miss率为1/4，B的miss率为1/2.不在对角线上的块，A，B的miss率都为0.</p>
<p>最后我们来计算下miss的次数吧，计算出来近似是1280次，实际我们代码跑出来是1219次 。</p>
<p><strong>61×67：</strong></p>
<p>不规则的matrix，本质也是用分块来优化Cache的读写，但是不能找到比较显然的规律看出来间隔多少可以填满一个Cache，但是由于要求比较松，我们可以尝试一些分块的大小，直接进行转置操作。尝试到16左右 ，可以小于2000次miss。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>CSAPP</tag>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux命令总结（持续更新中）</title>
    <url>/2020/04/12/1/</url>
    <content><![CDATA[<a id="more"></a>
<h1 id="nginx"><a class="markdownIt-Anchor" href="#nginx"></a> Nginx:</h1>
<ul>
<li>查看端口：netstat -ntpl;</li>
<li>结束监听：kill (number)</li>
<li>启动nginx服务：sudo service nginx start</li>
<li>停止nginx服务：sudo service nginx stop</li>
<li>重启nginx服务：service nginx restart；systemctl restart nginx</li>
<li>nginx访问日志的默认路径:/var/log/nginx</li>
<li>nginx配置文件：/etc/nginx/nginx.conf</li>
<li>nginx服务器默认目录:/usr/share/nginx/html</li>
<li>nginx -t 测试配置文件语法，同时告诉配置文件位置</li>
</ul>
<h1 id="php"><a class="markdownIt-Anchor" href="#php"></a> PHP</h1>
<ul>
<li>查看php所有软件包：rpm -qa|grep php</li>
</ul>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>服务器</tag>
        <tag>后端开发</tag>
      </tags>
  </entry>
  <entry>
    <title>西方没有资本再傲慢了</title>
    <url>/2020/04/06/1/</url>
    <content><![CDATA[<h1 id="一种病毒两种制度"><a class="markdownIt-Anchor" href="#一种病毒两种制度"></a> 一种病毒，两种制度？</h1>
<blockquote>
<p>中国人若想消灭这次新型冠状病毒，需要的药房既不是西药疫苗，也不是中草药，而是自由和民主</p>
<p>——德国 《明镜》</p>
</blockquote>
<blockquote>
<p>在应对新冠病毒的处理方式上，民主制度显示了无可辩驳的优越性</p>
<p>——法国 《费加罗报》</p>
</blockquote>
<blockquote>
<p>传染疾病在民主国家的致死率，总是低于像中国这样的专制国家</p>
<p>专制国家缺少信息的自由流动和与民众的对话，会导致决策的失误</p>
<p>——英国 《经济学人》</p>
</blockquote>
<a id="more"></a>
<p><a href="https://www.economist.com/graphic-detail/2020/02/18/diseases-like-covid-19-are-deadlier-in-non-democracies" target="_blank" rel="noopener">Diseases like covid-19 are deadlier in non-democracies(经济学人)</a></p>
<p>西方的民主优越理念，是西方对于中国抨击的主要理由，在这次疫情的爆发中，西方以中国为专制国家为理由对于中国爆发的疫情进行抨击、嘲笑、歧视，他们认为，是因为像中国这样一个“专制国家”，缺乏与民众的沟通，并且由于对于群众言论的审查、封杀而导致了新型冠状病毒的发生，他们对此不屑一顾，并且认为以中国如此“落后”的医疗条件都能使疫情逐渐好转，那在我们资本主义的“发达”国家中根本不成问题。</p>
<p>而事实上，西方资本主义国家在那里不停地摆数据、讲道理，极尽一切手段用来说明西方民主制度要比中国更为高明。在他们所得出的结论里，美国、加拿大、德国、法国这些西方资本主义国家是应对病毒最为可靠的国家，而像中国，却仅仅排在第51个位置。可是像美国这样一个应对H1N1如此失败的国家，它是有如何的脸面忝居首列呢？他们对于数据的恶意的挑选从而来进行一些完全没有科学依据的说明，西方的人文社科报告，尤其是此类关乎政治的报告，总是刻意地去美化西方而贬低社会主义国家。经过此次疫情我们完全可以看出，西方各种“权威组织”所进行的研究调查完全是不可靠的，只会沦为政治的附庸。</p>
<p>西方的资本在疫情面前潜逃了，而他们发达的媒体系统只顾着一味地欺骗群众和对于中国无尽的诋毁，他们的政府有的进行党争，而有的则在进行十年才能讨论出结果的议会。</p>
<blockquote>
<p>挪威虽然不能像中国那样在10天内建成有1000个床位的医院，而且在7年内才定下来一个仅有100个座位的会议厅，但他们会比中国做得更好，因为专制国家缺少信息的自由流动和与民众的对话，会导致决策的失误</p>
<p>——英国 《经济学人》</p>
</blockquote>
<p>而事实上，正是由于西方对于疫情的傲慢与忽视，导致新冠病毒在欧洲大肆横行，也正是由于西方所崇尚的自由与个人权力至上论，导致欧洲的病毒一发不可收拾，他们依然不带口罩，他们依然举行球赛，他们依然举办聚会，国家禁止举办1000人以上的聚会，他们就举办999人的，他们管这个叫做自由。但如此之“自由”只能导致害人害己。</p>
<p>事实上，正是由于西方所崇尚的民主优越论与自由至上论与他们所推崇的分权与多党执政导致他们的政府惯于使用欺骗、甩锅来进行党争，他们并没有对任何人民负起责任，他们只为了自己和他们的政党来谋取利益，他们只关注于支持他们的人，他们所崇尚的自由就是每一个人都不需要为另外一个人和整个集体负任何责任，与其说他们在“分权”，不如说他们在“分责”，他们只在乎国家资本的运作而不关心民众的死活。当记者向特朗普质疑“为什么富人可以得到这么多的物资而穷人却得不到”，他回答，“<strong>世界本来就是这样</strong>”。</p>
<p>在从前，他们靠着殖民和迫害穷人来发家致富；现在，他们又大行其道地谈论着民主。他们所谓的“自由”与“民主”让他们变得异常傲慢，他们听不见世界的声音，听不见民众的呼唤，这是一种被裹挟着的民主。</p>
<p>在推特上，许许多多质疑西方资本的声音被审查、封闭乃至封杀，这更像一个专制国家而非民主国家所进行的行为，他们歧视华裔，骂黄种人是“东亚病夫”，这更像是“民粹”而非“平等”的行为。</p>
<p><strong>西方已再一次到了至暗时刻，可是现在已经没有了丘吉尔</strong></p>
<h1 id="纳粹主义滋长"><a class="markdownIt-Anchor" href="#纳粹主义滋长"></a> 纳粹主义滋长</h1>
<p>事实上，在这一次疫情中，我也看到了纳粹主义滋生的苗头。事实上，不仅在西方，在中国内也有这种倾向的出现。纳粹主义又叫做“国家民族社会主义”，纳粹主义一般有以下几种表现：</p>
<blockquote>
<ol>
<li>极端的民族主义，以血统等标准划分民族，并以民族为单位叙事，尤其是<strong>以民族划分敌我关系</strong></li>
<li>**宣扬仇恨。**鼓吹对特定国家或族群的复仇，尤其是无底线的报复。</li>
<li>排外，要求建立纯粹民族或单一民族至上的国家。</li>
<li>鼓吹武力扩张，从根本上否认和平共存可能性。</li>
<li>极权思想，要求每个个体完全彻底为民族和国家利益服务，否定个人的选择自由。</li>
</ol>
</blockquote>
<p>在西方，许多民众将这一切归罪于中国，并将其认为是黄种人的过错，他们主张以暴力手段对于中国展开报复，他们对于华裔具有极大的恶意并且使用暴力手段对于华裔进行血腥报复，在他们国家恶意的引导下，我很怀疑这种纳粹主义倾向会不会卷土重来，而在当时的德国，希特勒就是利用一战后德国人对于犹太人的不满进而煽动反种族情绪，这是十分令人值得担心的。因为我们无法断定是否有疯狂的政府利用民众对于疫情的愤怒使用战争来进行祸水东流。</p>
<p>而在国内的网络社区中，我也经常看到经常有人对于西方乃至整个种族进行了极端恶意的排斥，我们可以对于某些人、某些政治人物进行排斥，但不能对于整个国家人民乃至整个种族进行污名化处理。</p>
<p><strong>这是我们应当做的。</strong></p>
]]></content>
      <categories>
        <category>杂文</category>
      </categories>
      <tags>
        <tag>杂论</tag>
        <tag>爱国</tag>
      </tags>
  </entry>
  <entry>
    <title>Bomb Lab实验报告</title>
    <url>/2020/04/05/1/</url>
    <content><![CDATA[<p><img src="/2020/04/05/1/csapp.jpg" alt></p>
<a id="more"></a>
<h1 id="实验简介"><a class="markdownIt-Anchor" href="#实验简介"></a> 实验简介</h1>
<p>浏览<code>bomb.c</code>可知，本实验一共有6个关卡，由<code>phase_1</code>为例，该实验的运行格式如下：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Hmm...  Six phases must be more secure than one phase! */</span></span><br><span class="line">input = read_line();             <span class="comment">/* Get input                   */</span></span><br><span class="line">phase_1(input);                  <span class="comment">/* Run the phase               */</span></span><br><span class="line">phase_defused();                 <span class="comment">/* Drat!  They figured it out!</span></span><br><span class="line"><span class="comment">      * Let me know how they did it. */</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Phase 1 defused. How about the next one?\n"</span>);</span><br></pre></td></tr></table></figure>
<p>显然，题目需要从标准输入或者文件输入参数，然后调用<code>phase</code>类函数来检查输入参数是否正确，想要获取到正确的密码，我们需要检查对应的参数储存在哪块地址。</p>
<h2 id="phase_1"><a class="markdownIt-Anchor" href="#phase_1"></a> Phase_1</h2>
<h3 id="实验过程"><a class="markdownIt-Anchor" href="#实验过程"></a> 实验过程：</h3>
<p>于是使用反汇编<code>bomb</code>可执行程序：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">objdump -d bomb &gt; bomb.asm</span><br></pre></td></tr></table></figure>
<p>在<code>bomb.asm</code>中查找main函数所对应的汇编代码，可以发现如下片段：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">400e32: e8 67 06 00 00         callq  40149e &lt;read_line&gt;</span><br><span class="line">400e37:    48 89 c7               mov    %rax,%rdi</span><br><span class="line">400e3a:    e8 a1 00 00 00         callq  400ee0 &lt;phase_1&gt;</span><br><span class="line">400e3f:    e8 80 07 00 00         callq  4015c4 &lt;phase_defused&gt;</span><br><span class="line">400e44:    bf a8 23 40 00         mov    $0x4023a8,%edi</span><br><span class="line">400e49:    e8 c2 fc ff ff         callq  400b10 &lt;puts@plt&gt;</span><br><span class="line">400e4e:    e8 4b 06 00 00         callq  40149e &lt;read_line&gt;</span><br><span class="line">400e53:    48 89 c7               mov    %rax,%rdi</span><br></pre></td></tr></table></figure>
<p>在<code>400e32</code>处调用了<code>read_line</code>函数，可以看出是在获取标准输入，下一步执行<code>mov %rax,%rdi</code>,表示将返回值存入到了<code>%rdi</code>寄存器中，然后立即调用<code>phase_1</code>函数，于是我们找到<code>phase_1</code>函数：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0000000000400ee0 &lt;phase_1&gt;:</span><br><span class="line">  400ee0:  48 83 ec 08            sub    $0x8,%rsp</span><br><span class="line">  400ee4:  be 00 24 40 00         mov    $0x402400,%esi</span><br><span class="line">  400ee9:  e8 4a 04 00 00         callq  401338 &lt;strings_not_equal&gt;</span><br><span class="line">  400eee:  85 c0                  test   %eax,%eax</span><br><span class="line">  400ef0:  74 05                  je     400ef7 &lt;phase_1+0x17&gt;</span><br><span class="line">  400ef2:  e8 43 05 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  400ef7:  48 83 c4 08            add    $0x8,%rsp</span><br><span class="line">  400efb:  c3                     retq</span><br></pre></td></tr></table></figure>
<p>观察到<code>phase_1</code>首先将栈顶指针向下移了8位，然后将<code>0x402400</code>地址存入<code>%esi（%rsi）</code>寄存器中，然后调用了<code>strings_not_equal</code>这个函数，然后测试返回值是否为0，如果不为0将栈顶指针加8直接返回，否则直接调用<code>explode_bomb</code>函数（看名字是引爆炸弹），所以我们现在应该去strings_not_equal这个函数内查看:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">0000000000401338</span> &lt;strings_not_equal&gt;:</span><br><span class="line">  <span class="number">401338</span>:  <span class="number">41</span> <span class="number">54</span>                  push   %r12</span><br><span class="line">  <span class="number">40133</span>a:  <span class="number">55</span>                     push   %rbp</span><br><span class="line">  <span class="number">40133b</span>:  <span class="number">53</span>                     push   %rbx</span><br><span class="line">  <span class="number">40133</span>c:  <span class="number">48</span> <span class="number">89</span> fb               mov    %rdi,%rbx</span><br><span class="line">  <span class="number">40133f</span>:  <span class="number">48</span> <span class="number">89</span> f5               mov    %rsi,%rbp</span><br><span class="line">  <span class="number">401342</span>:  e8 d4 ff ff ff         callq  <span class="number">40131b</span> &lt;string_length&gt;</span><br><span class="line">  <span class="number">401347</span>:  <span class="number">41</span> <span class="number">89</span> c4               mov    %eax,%r12d</span><br><span class="line">  <span class="number">40134</span>a:  <span class="number">48</span> <span class="number">89</span> ef               mov    %rbp,%rdi</span><br><span class="line">  <span class="number">40134</span>d:  e8 c9 ff ff ff         callq  <span class="number">40131b</span> &lt;string_length&gt;</span><br><span class="line">  <span class="number">401352</span>:  ba <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>         mov    $<span class="number">0x1</span>,%edx</span><br><span class="line">  <span class="number">401357</span>:  <span class="number">41</span> <span class="number">39</span> c4               cmp    %eax,%r12d</span><br><span class="line">  <span class="number">40135</span>a:  <span class="number">75</span> <span class="number">3f</span>                  jne    <span class="number">40139b</span> &lt;strings_not_equal+<span class="number">0x63</span>&gt;</span><br><span class="line">  <span class="number">40135</span>c:  <span class="number">0f</span> b6 <span class="number">03</span>               movzbl (%rbx),%eax</span><br><span class="line">  <span class="number">40135f</span>:  <span class="number">84</span> c0                  test   %al,%al</span><br><span class="line">  <span class="number">401361</span>:  <span class="number">74</span> <span class="number">25</span>                  je     <span class="number">401388</span> &lt;strings_not_equal+<span class="number">0x50</span>&gt;</span><br><span class="line">  <span class="number">401363</span>:  <span class="number">3</span>a <span class="number">45</span> <span class="number">00</span>               cmp    <span class="number">0x0</span>(%rbp),%al</span><br><span class="line">  <span class="number">401366</span>:  <span class="number">74</span> <span class="number">0</span>a                  je     <span class="number">401372</span> &lt;strings_not_equal+<span class="number">0x3a</span>&gt;</span><br><span class="line">  <span class="number">401368</span>:  eb <span class="number">25</span>                  jmp    <span class="number">40138f</span> &lt;strings_not_equal+<span class="number">0x57</span>&gt;</span><br><span class="line">  <span class="number">40136</span>a:  <span class="number">3</span>a <span class="number">45</span> <span class="number">00</span>               cmp    <span class="number">0x0</span>(%rbp),%al</span><br><span class="line">  <span class="number">40136</span>d:  <span class="number">0f</span> <span class="number">1f</span> <span class="number">00</span>               nopl   (%rax)</span><br><span class="line">  <span class="number">401370</span>:  <span class="number">75</span> <span class="number">24</span>                  jne    <span class="number">401396</span> &lt;strings_not_equal+<span class="number">0x5e</span>&gt;</span><br><span class="line">  <span class="number">401372</span>:  <span class="number">48</span> <span class="number">83</span> c3 <span class="number">01</span>            add    $<span class="number">0x1</span>,%rbx</span><br><span class="line">  <span class="number">401376</span>:  <span class="number">48</span> <span class="number">83</span> c5 <span class="number">01</span>            add    $<span class="number">0x1</span>,%rbp</span><br><span class="line">  <span class="number">40137</span>a:  <span class="number">0f</span> b6 <span class="number">03</span>               movzbl (%rbx),%eax</span><br><span class="line">  <span class="number">40137</span>d:  <span class="number">84</span> c0                  test   %al,%al</span><br><span class="line">  <span class="number">40137f</span>:  <span class="number">75</span> e9                  jne    <span class="number">40136</span>a &lt;strings_not_equal+<span class="number">0x32</span>&gt;</span><br><span class="line">  <span class="number">401381</span>:  ba <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>         mov    $<span class="number">0x0</span>,%edx</span><br><span class="line">  <span class="number">401386</span>:  eb <span class="number">13</span>                  jmp    <span class="number">40139b</span> &lt;strings_not_equal+<span class="number">0x63</span>&gt;</span><br><span class="line">  <span class="number">401388</span>:  ba <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>         mov    $<span class="number">0x0</span>,%edx</span><br><span class="line">  <span class="number">40138</span>d:  eb <span class="number">0</span>c                  jmp    <span class="number">40139b</span> &lt;strings_not_equal+<span class="number">0x63</span>&gt;</span><br><span class="line">  <span class="number">40138f</span>:  ba <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>         mov    $<span class="number">0x1</span>,%edx</span><br><span class="line">  <span class="number">401394</span>:  eb <span class="number">05</span>                  jmp    <span class="number">40139b</span> &lt;strings_not_equal+<span class="number">0x63</span>&gt;</span><br><span class="line">  <span class="number">401396</span>:  ba <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>         mov    $<span class="number">0x1</span>,%edx</span><br><span class="line">  <span class="number">40139b</span>:  <span class="number">89</span> d0                  mov    %edx,%eax</span><br><span class="line">  <span class="number">40139</span>d:  <span class="number">5b</span>                     pop    %rbx</span><br><span class="line">  <span class="number">40139</span>e:  <span class="number">5</span>d                     pop    %rbp</span><br><span class="line">  <span class="number">40139f</span>:  <span class="number">41</span> <span class="number">5</span>c                  pop    %r12</span><br><span class="line">  <span class="number">4013</span>a1:  c3                     retq</span><br></pre></td></tr></table></figure>
<p>完整的strings_not_equal如上图所示。首先函数将三个寄存器的内容压入栈中进行保护，然后分别将<code>%rdi,%rsi</code>中的内容移入至<code>%rbs,%rbp</code>中，然后调用<code>string_length</code>函数，通过函数名可以猜测该函数用来检测字符串的长度，然后返回时将返回值赋值给<code>%r12d</code>寄存器，随后将<code>%rbp</code>（地址<code>$0x402400</code>）的内容赋值给<code>%rdi</code>,随后几行分别再次调用<code>string_length</code>函数并进行与1的比较，也就是检测字符串的长度是否与目标字符串的长度吻合，如果吻合的话，继续向下执行。否则跳转至：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">40139b:  89 d0                  mov    %edx,%eax</span><br><span class="line">40139d:  5b                     pop    %rbx</span><br><span class="line">40139e:  5d                     pop    %rbp</span><br><span class="line">40139f:  41 5c                  pop    %r12</span><br><span class="line">4013a1:  c3                     retq</span><br></pre></td></tr></table></figure>
<p>即返回1。</p>
<p>继续向下观察，发现汇编指令中首先检查输入的首字符是否为空字符，即’/0’，即以下指令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">40135c:  0f b6 03               movzbl (%rbx),%eax</span><br><span class="line">40135f:  84 c0                  test   %al,%al</span><br></pre></td></tr></table></figure>
<p>这里将<code>%rbx</code>中的内容（即标准输入内容）取出，放入<code>%eax</code>中并进行了符号位扩展，如果为0的话就直接向下跳转，因为我们的目的是寻找目标字符串，所以不必管跳转内容，直接向下运行即可。</p>
<p>接着可以观察到以下指令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cmp    0x0(%rbp),%al</span><br></pre></td></tr></table></figure>
<p>即将<code>%rbp</code>(即内存<code>$0x402400</code>中的内容)与标准输入的第一个字符进行比对，由此看来，答案就呼之欲出了！标准密码就藏在地址<code>$0x402400</code>中。</p>
<p>于是我们在命令行使用<code>gdb</code>进行调试：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdb bomb</span><br><span class="line">(gdb) b explode_bomb</span><br><span class="line">(gdb) x&#x2F;s 0x402400&#x2F;*查看密码*&#x2F;</span><br></pre></td></tr></table></figure>
<p>于是命令行输出：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x402400:       &quot;Border relations with Canada have never been better.&quot;</span><br></pre></td></tr></table></figure>
<p>于是运行：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) run</span><br></pre></td></tr></table></figure>
<p>根据提示输入标准输入：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Border relations with Canada have never been better.</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Phase 1 defused. How about the next one?</span><br></pre></td></tr></table></figure>
<p>于是第一关就圆满地结束了！</p>
<h3 id="运行结果"><a class="markdownIt-Anchor" href="#运行结果"></a> 运行结果：</h3>
<p><img src="/2020/04/05/1/phase1.png" alt></p>
<h2 id="phase_2"><a class="markdownIt-Anchor" href="#phase_2"></a> Phase_2</h2>
<h3 id="实验过程-2"><a class="markdownIt-Anchor" href="#实验过程-2"></a> 实验过程：</h3>
<p>同样地，在<code>main</code>函数里寻找关于<code>phase_2</code>函数的汇编代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">400e4e: e8 4b 06 00 00         callq  40149e &lt;read_line&gt;</span><br><span class="line">400e53:    48 89 c7               mov    %rax,%rdi</span><br><span class="line">400e56:    e8 a1 00 00 00         callq  400efc &lt;phase_2&gt;</span><br><span class="line">400e5b:    e8 64 07 00 00         callq  4015c4 &lt;phase_defused&gt;</span><br></pre></td></tr></table></figure>
<p>可知输入放在了<code>%rdi</code>寄存器中。</p>
<p>下面查询phase_2的汇编代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0000000000400efc &lt;phase_2&gt;:</span><br><span class="line">  400efc:  55                     push   %rbp</span><br><span class="line">  400efd:  53                     push   %rbx</span><br><span class="line">  400efe:  48 83 ec 28            sub    $0x28,%rsp</span><br><span class="line">  400f02:  48 89 e6               mov    %rsp,%rsi</span><br><span class="line">  400f05:  e8 52 05 00 00         callq  40145c &lt;read_six_numbers&gt;</span><br><span class="line">  400f0a:  83 3c 24 01            cmpl   $0x1,(%rsp)</span><br><span class="line">  400f0e:  74 20                  je     400f30 &lt;phase_2+0x34&gt;</span><br><span class="line">  400f10:  e8 25 05 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  400f15:  eb 19                  jmp    400f30 &lt;phase_2+0x34&gt;</span><br><span class="line">  400f17:  8b 43 fc               mov    -0x4(%rbx),%eax</span><br><span class="line">  400f1a:  01 c0                  add    %eax,%eax</span><br><span class="line">  400f1c:  39 03                  cmp    %eax,(%rbx)</span><br><span class="line">  400f1e:  74 05                  je     400f25 &lt;phase_2+0x29&gt;</span><br><span class="line">  400f20:  e8 15 05 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  400f25:  48 83 c3 04            add    $0x4,%rbx</span><br><span class="line">  400f29:  48 39 eb               cmp    %rbp,%rbx</span><br><span class="line">  400f2c:  75 e9                  jne    400f17 &lt;phase_2+0x1b&gt;</span><br><span class="line">  400f2e:  eb 0c                  jmp    400f3c &lt;phase_2+0x40&gt;</span><br><span class="line">  400f30:  48 8d 5c 24 04         lea    0x4(%rsp),%rbx</span><br><span class="line">  400f35:  48 8d 6c 24 18         lea    0x18(%rsp),%rbp</span><br><span class="line">  400f3a:  eb db                  jmp    400f17 &lt;phase_2+0x1b&gt;</span><br><span class="line">  400f3c:  48 83 c4 28            add    $0x28,%rsp</span><br><span class="line">  400f40:  5b                     pop    %rbx</span><br><span class="line">  400f41:  5d                     pop    %rbp</span><br><span class="line">  400f42:  c3                     retq</span><br></pre></td></tr></table></figure>
<p><code>400efe</code>: <code>sub $0x28,%rsp</code> 和 <code>400f02</code>: <code>mov %rsp,%rsi</code> 分配了一块 40 bytes 大小的空间，并将其地址传给了 <code>%rsi</code> 寄存器。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">%rsi &#x3D; %rsp</span><br></pre></td></tr></table></figure>
<p><code>400f05</code>: <code>callq 40145c</code> 调用函数 <code>read_six_numbers</code>。从函数名推测其作用可能为读入 6 个数。</p>
<h4 id="观察函数read_six_numbers"><a class="markdownIt-Anchor" href="#观察函数read_six_numbers"></a> 观察函数read_six_numbers</h4>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">000000000040145c &lt;read_six_numbers&gt;:</span><br><span class="line">  40145c:  48 83 ec 18            sub    $0x18,%rsp</span><br><span class="line">  401460:  48 89 f2               mov    %rsi,%rdx</span><br><span class="line">  401463:  48 8d 4e 04            lea    0x4(%rsi),%rcx</span><br><span class="line">  401467:  48 8d 46 14            lea    0x14(%rsi),%rax</span><br><span class="line">  40146b:  48 89 44 24 08         mov    %rax,0x8(%rsp)</span><br><span class="line">  401470:  48 8d 46 10            lea    0x10(%rsi),%rax</span><br><span class="line">  401474:  48 89 04 24            mov    %rax,(%rsp)</span><br><span class="line">  401478:  4c 8d 4e 0c            lea    0xc(%rsi),%r9</span><br><span class="line">  40147c:  4c 8d 46 08            lea    0x8(%rsi),%r8</span><br><span class="line">  401480:  be c3 25 40 00         mov    $0x4025c3,%esi</span><br><span class="line">  401485:  b8 00 00 00 00         mov    $0x0,%eax</span><br><span class="line">  40148a:  e8 61 f7 ff ff         callq  400bf0 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">  40148f:  83 f8 05               cmp    $0x5,%eax</span><br><span class="line">  401492:  7f 05                  jg     401499 &lt;read_six_numbers+0x3d&gt;</span><br><span class="line">  401494:  e8 a1 ff ff ff         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  401499:  48 83 c4 18            add    $0x18,%rsp</span><br><span class="line">  40149d:  c3                     retq</span><br></pre></td></tr></table></figure>
<p>先看开始的部分：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">40145c: 48 83 ec 18            sub    $0x18,%rsp</span><br><span class="line">401460:    48 89 f2               mov    %rsi,%rdx</span><br><span class="line">401463:    48 8d 4e 04            lea    0x4(%rsi),%rcx</span><br><span class="line">401467:    48 8d 46 14            lea    0x14(%rsi),%rax</span><br><span class="line">40146b:    48 89 44 24 08         mov    %rax,0x8(%rsp)</span><br><span class="line">401470:    48 8d 46 10            lea    0x10(%rsi),%rax</span><br><span class="line">401474:    48 89 04 24            mov    %rax,(%rsp)</span><br><span class="line">401478:    4c 8d 4e 0c            lea    0xc(%rsi),%r9</span><br><span class="line">40147c:    4c 8d 46 08            lea    0x8(%rsi),%r8</span><br></pre></td></tr></table></figure>
<p>译成C语言：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>* pos[<span class="number">3</span>];                       </span><br><span class="line">num0_pos = start_pos;              </span><br><span class="line">num1_pos = start_pos + <span class="number">1</span>;         </span><br><span class="line">tmp_pos  = start_pos + <span class="number">5</span>;          </span><br><span class="line">pos[<span class="number">1</span>]   = tmp_pos; tmp_pos  = start_pos + <span class="number">4</span>; </span><br><span class="line">pos[<span class="number">0</span>] = tmp_pos; </span><br><span class="line">num3_pos = start_pos + <span class="number">3</span>;           </span><br><span class="line">num2_pos = start_pos + <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>于是得到各地址保存的位置：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">%rdx &#x3D; %rsi</span><br><span class="line">%rcx &#x3D; %rsi + 4</span><br><span class="line">%r8 &#x3D; %rsi + 8</span><br><span class="line">%r9 &#x3D; %rsi + 12</span><br><span class="line">0x0(%rsp) &#x3D; %rsi + 16</span><br><span class="line">0x8(%rsp) &#x3D; %rsi + 20</span><br></pre></td></tr></table></figure>
<p>由上一节知，%rsi 寄存器存放的是调用者 %rsp 寄存器中的内容，因此这 6 个地址分别对应调用者栈里开始的 6 个连续 int 的地址。</p>
<h4 id="回到phase_2函数部分"><a class="markdownIt-Anchor" href="#回到phase_2函数部分"></a> 回到phase_2函数部分</h4>
<p>由之前的分析，我们确定了函数 <code>read_six_numbers</code> 的具体作用。此时栈内保存的信息为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x0(%rsp) &#x3D; nums[0]</span><br><span class="line">0x4(%rsp) &#x3D; nums[1]</span><br><span class="line">0x8(%rsp) &#x3D; nums[2]</span><br><span class="line">0xc(%rsp) &#x3D; nums[3]</span><br><span class="line">0x10(%rsp) &#x3D; nums[4]</span><br><span class="line">0x14(%rsp) &#x3D; nums[5]</span><br></pre></td></tr></table></figure>
<p>其中，<code>nums[0]</code> ~ <code>nums[5]</code> 表示输入的字符串中解析得到的（前）6 个整数。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">400f0a: 83 3c 24 01            cmpl   $0x1,(%rsp)</span><br><span class="line">400f0e:    74 20                  je     400f30 &lt;phase_2+0x34&gt;</span><br><span class="line">400f10:    e8 25 05 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">400f15:    eb 19                  jmp    400f30 &lt;phase_2+0x34&gt;</span><br><span class="line">400f17:    8b 43 fc               mov    -0x4(%rbx),%eax</span><br><span class="line">400f1a:    01 c0                  add    %eax,%eax</span><br><span class="line">400f1c:    39 03                  cmp    %eax,(%rbx)</span><br><span class="line">400f1e:    74 05                  je     400f25 &lt;phase_2+0x29&gt;</span><br><span class="line">400f20:    e8 15 05 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">400f25:    48 83 c3 04            add    $0x4,%rbx</span><br><span class="line">400f29:    48 39 eb               cmp    %rbp,%rbx</span><br><span class="line">400f2c:    75 e9                  jne    400f17 &lt;phase_2+0x1b&gt;</span><br><span class="line">400f2e:    eb 0c                  jmp    400f3c &lt;phase_2+0x40&gt;</span><br><span class="line">400f30:    48 8d 5c 24 04         lea    0x4(%rsp),%rbx</span><br><span class="line">400f35:    48 8d 6c 24 18         lea    0x18(%rsp),%rbp</span><br><span class="line">400f3a:    eb db                  jmp    400f17 &lt;phase_2+0x1b&gt;</span><br><span class="line">400f3c:    48 83 c4 28            add    $0x28,%rsp</span><br><span class="line">400f40:    5b                     pop    %rbx</span><br><span class="line">400f41:    5d                     pop    %rbp</span><br><span class="line">400f42:    c3                     retq</span><br></pre></td></tr></table></figure>
<p>这段的结构比较复杂。先直译成含 <code>goto</code> 语句的 C 语言代码：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (nums[<span class="number">0</span>] == <span class="number">1</span>)               </span><br><span class="line">    <span class="keyword">goto</span> L_400f30;   </span><br><span class="line">    explode_bomb();    </span><br><span class="line">    <span class="keyword">goto</span> L_400f30;</span><br><span class="line">    L_400f17:                         </span><br><span class="line">    target = *(cur_pos - <span class="number">1</span>);        </span><br><span class="line">	target *= <span class="number">2</span>;    </span><br><span class="line"><span class="keyword">if</span> (*cur_pos == target)        </span><br><span class="line">    <span class="keyword">goto</span> L_400f25;    </span><br><span class="line">explode_bomb(); </span><br><span class="line">L_400f25:                           </span><br><span class="line">cur_pos += <span class="number">1</span>;    </span><br><span class="line"><span class="keyword">if</span> (cur_pos != end_pos)         </span><br><span class="line">    <span class="keyword">goto</span> L_400f17;    </span><br><span class="line"><span class="keyword">goto</span> L_400f3c; L_400f30:                          </span><br><span class="line">cur_pos = nums + <span class="number">1</span>;    </span><br><span class="line">end_pos = nums + <span class="number">6</span>;    </span><br><span class="line"><span class="keyword">goto</span> L_400f17; L_400f3c:                         </span><br><span class="line"><span class="keyword">return</span> target;</span><br></pre></td></tr></table></figure>
<p>整理得到：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (nums[<span class="number">0</span>] != <span class="number">1</span>)    </span><br><span class="line">explode_bomb(); </span><br><span class="line">end_pos = nums + <span class="number">6</span>;</span><br><span class="line"><span class="keyword">for</span> (cur_pos = nums + <span class="number">1</span>; cur_pos != end_pos; ++cur_pos) </span><br><span class="line">&#123;    </span><br><span class="line">	target = *(cur_pos - <span class="number">1</span>) * <span class="number">2</span>;    </span><br><span class="line"> 	<span class="keyword">if</span> (*cur_pos != target)        </span><br><span class="line">     	explode_bomb(); </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">return</span> target;</span><br></pre></td></tr></table></figure>
<p>通过这段代码，需要输入的 6 个整数就很显然了——第 1 个整数应当为 <code>1</code>，之后的每个整数都是前一个数的 2 倍。于是需要输入的 6 个整数依次为 <code>1</code>, <code>2</code>, <code>4</code>, <code>8</code>, <code>16</code>, <code>32</code>。</p>
<p>由之前的分析，本关密码即为 <code>1 2 4 8 16 32</code>。</p>
<p>在 <code>gdb</code> 中输入 <code>Phase 2</code> 的密码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">That&#39;s number 2.  Keep going!</span><br></pre></td></tr></table></figure>
<h3 id="运行结果-2"><a class="markdownIt-Anchor" href="#运行结果-2"></a> 运行结果：</h3>
<p><img src="/2020/04/05/1/phase2.png" alt></p>
<h2 id="phase_3"><a class="markdownIt-Anchor" href="#phase_3"></a> phase_3</h2>
<h3 id="实验过程-3"><a class="markdownIt-Anchor" href="#实验过程-3"></a> 实验过程</h3>
<p>main函数和前面实验过程一样，直接看<code>phase_3</code>函数：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0000000000400f43 &lt;phase_3&gt;:</span><br><span class="line">  400f43:  48 83 ec 18            sub    $0x18,%rsp</span><br><span class="line">  400f47:  48 8d 4c 24 0c         lea    0xc(%rsp),%rcx</span><br><span class="line">  400f4c:  48 8d 54 24 08         lea    0x8(%rsp),%rdx</span><br><span class="line">  400f51:  be cf 25 40 00         mov    $0x4025cf,%esi</span><br><span class="line">  400f56:  b8 00 00 00 00         mov    $0x0,%eax</span><br><span class="line">  400f5b:  e8 90 fc ff ff         callq  400bf0 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">  400f60:  83 f8 01               cmp    $0x1,%eax</span><br><span class="line">  400f63:  7f 05                  jg     400f6a &lt;phase_3+0x27&gt;</span><br><span class="line">  400f65:  e8 d0 04 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  400f6a:  83 7c 24 08 07         cmpl   $0x7,0x8(%rsp)</span><br><span class="line">  400f6f:  77 3c                  ja     400fad &lt;phase_3+0x6a&gt;</span><br><span class="line">  400f71:  8b 44 24 08            mov    0x8(%rsp),%eax</span><br><span class="line">  400f75:  ff 24 c5 70 24 40 00   jmpq   *0x402470(,%rax,8)</span><br><span class="line">  400f7c:  b8 cf 00 00 00         mov    $0xcf,%eax</span><br><span class="line">  400f81:  eb 3b                  jmp    400fbe &lt;phase_3+0x7b&gt;</span><br><span class="line">  400f83:  b8 c3 02 00 00         mov    $0x2c3,%eax</span><br><span class="line">  400f88:  eb 34                  jmp    400fbe &lt;phase_3+0x7b&gt;</span><br><span class="line">  400f8a:  b8 00 01 00 00         mov    $0x100,%eax</span><br><span class="line">  400f8f:  eb 2d                  jmp    400fbe &lt;phase_3+0x7b&gt;</span><br><span class="line">  400f91:  b8 85 01 00 00         mov    $0x185,%eax</span><br><span class="line">  400f96:  eb 26                  jmp    400fbe &lt;phase_3+0x7b&gt;</span><br><span class="line">  400f98:  b8 ce 00 00 00         mov    $0xce,%eax</span><br><span class="line">  400f9d:  eb 1f                  jmp    400fbe &lt;phase_3+0x7b&gt;</span><br><span class="line">  400f9f:  b8 aa 02 00 00         mov    $0x2aa,%eax</span><br><span class="line">  400fa4:  eb 18                  jmp    400fbe &lt;phase_3+0x7b&gt;</span><br><span class="line">  400fa6:  b8 47 01 00 00         mov    $0x147,%eax</span><br><span class="line">  400fab:  eb 11                  jmp    400fbe &lt;phase_3+0x7b&gt;</span><br><span class="line">  400fad:  e8 88 04 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  400fb2:  b8 00 00 00 00         mov    $0x0,%eax</span><br><span class="line">  400fb7:  eb 05                  jmp    400fbe &lt;phase_3+0x7b&gt;</span><br><span class="line">  400fb9:  b8 37 01 00 00         mov    $0x137,%eax</span><br><span class="line">  400fbe:  3b 44 24 0c            cmp    0xc(%rsp),%eax</span><br><span class="line">  400fc2:  74 05                  je     400fc9 &lt;phase_3+0x86&gt;</span><br><span class="line">  400fc4:  e8 71 04 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  400fc9:  48 83 c4 18            add    $0x18,%rsp</span><br><span class="line">  400fcd:  c3                     retq</span><br></pre></td></tr></table></figure>
<p>首先看到进入函数后首先把栈顶指针%rsp寄存器向下减了8位，然后将（%rsp+8）和（%rsp+12）中的内容存在%rdx和%rcx寄存器中。再往后看，出现了一个奇怪的地址，我们将这个地址打印出来，显示的是“%d %d”，这个同第二题一样，表示我们输入的格式，应该输入两个数，中间使用空格进行区分。</p>
<p>然后调用了<code>&lt;__isoc99_sscanf@plt&gt;</code>函数，将返回值与1进行比较，如果输入的数量大于1，则进行跳转，否则引爆炸弹。经过与前面进行比较与推断，可知分辨要将输入的两个数保存在%rdx和%rcx寄存器中。然后将0x8（%rsp）即%rdx的数值与7进行比较，如果大于7的话，就引爆炸弹，否则继续执行，考虑到跳转指令使用的<code>ja</code>指令，由此可知对应的第一个数的输入范围是[0,7]。向下看，发现将0x8(%rsp)中的值放到了%eax中。</p>
<p>下一条指令使用的是<code>jmpq *0x402470(,%rax,8)</code>，这是一条switch语句的命令，根据输入的第一个参数的内容对基于<code>*0x402470</code>的首地址进行跳转，第一个参数有八个取值，从0到7，我们逐一测试。</p>
<p>这里以nums[0]取1为例，此时<code>0x402470(,%rax,8)</code>的值为<code>0x402470 + 1 * 8 = 0x402478</code>。使用gdb查看改地址存放的地址：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) x&#x2F;g 0x402470 + 1 * 8</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<p><code>0x402478: 0x0000000000400fb9</code></p>
<p>因此 400fb9: <code>mov $0x137,%eax</code> 即为 <code>nums[0]</code> 取 <code>1</code> 时跳转到的语句。</p>
<p>类似地，我们可以得到 <code>nums[0]</code> 取 [0, 7] 时对应的整个跳转表，从而得到以下 C 语言代码：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (nums[<span class="number">0</span>]) &#123;                          *<span class="comment">// result in %eax*   </span></span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>: result = <span class="number">0xcf</span>; <span class="keyword">break</span>;           *<span class="comment">// 0x400f7c*    </span></span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>: result = <span class="number">0x137</span>; <span class="keyword">break</span>;          *<span class="comment">// 0x400fb9*    </span></span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>: result = <span class="number">0x2c3</span>; <span class="keyword">break</span>;          *<span class="comment">// 0x400f83*    </span></span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>: result = <span class="number">0x100</span>; <span class="keyword">break</span>;          *<span class="comment">// 0x400f8a*    </span></span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>: result = <span class="number">0x185</span>; <span class="keyword">break</span>;          *<span class="comment">// 0x400f91*    </span></span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>: result = <span class="number">0xce</span>; <span class="keyword">break</span>;           *<span class="comment">// 0x400f98*    </span></span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>: result = <span class="number">0x2aa</span>; <span class="keyword">break</span>;          *<span class="comment">// 0x400f9f*    </span></span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>: result = <span class="number">0x147</span>; <span class="keyword">break</span>;          *<span class="comment">// 0x400fa6* &#125;                                           *// 0x400fbe* </span></span><br><span class="line"><span class="keyword">if</span> (result != nums[<span class="number">1</span>])                      *<span class="comment">// nums[1] = 0xc(%rsp)*    explode_bomb(); </span></span><br><span class="line"><span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>
<p>通过这段代码，可以发现 <code>nums[0]</code> 经跳转后得到的新数 <code>result</code> 就应当为 <code>nums[1]</code>，</p>
<p>于是得到本关的 8 组解：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0 207&#96;, &#96;1 311&#96;, &#96;2 707&#96;, &#96;3 256&#96;, &#96;4 389&#96;, &#96;5 206&#96;, &#96;6 682&#96;, &#96;7 327</span><br></pre></td></tr></table></figure>
<p>输入：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0207</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Halfway there!</span><br></pre></td></tr></table></figure>
<h2 id="phase_4"><a class="markdownIt-Anchor" href="#phase_4"></a> Phase_4</h2>
<h3 id="实验过程-4"><a class="markdownIt-Anchor" href="#实验过程-4"></a> 实验过程</h3>
<p>找到<code>phase_4</code>函数：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;phase_4&gt;:</span><br><span class="line"> 40100c:  48 83 ec 18            sub    $0x18,%rsp</span><br><span class="line"> 401010:  48 8d 4c 24 0c         lea    0xc(%rsp),%rcx</span><br><span class="line"> 401015:  48 8d 54 24 08         lea    0x8(%rsp),%rdx</span><br><span class="line"> 40101a:  be cf 25 40 00         mov    $0x4025cf,%esi</span><br><span class="line"> 40101f:  b8 00 00 00 00         mov    $0x0,%eax</span><br><span class="line"> 401024:  e8 c7 fb ff ff         callq  400bf0 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line"> 401029:  83 f8 02               cmp    $0x2,%eax</span><br><span class="line"> 40102c:  75 07                  jne    401035 &lt;phase_4+0x29&gt;</span><br><span class="line"> 40102e:  83 7c 24 08 0e         cmpl   $0xe,0x8(%rsp)</span><br><span class="line"> 401033:  76 05                  jbe    40103a &lt;phase_4+0x2e&gt;</span><br><span class="line"> 401035:  e8 00 04 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line"> 40103a:  ba 0e 00 00 00         mov    $0xe,%edx</span><br><span class="line"> 40103f:  be 00 00 00 00         mov    $0x0,%esi</span><br><span class="line"> 401044:  8b 7c 24 08            mov    0x8(%rsp),%edi</span><br><span class="line"> 401048:  e8 81 ff ff ff         callq  400fce &lt;func4&gt;</span><br><span class="line"> 40104d:  85 c0                  test   %eax,%eax</span><br><span class="line"> 40104f:  75 07                  jne    401058 &lt;phase_4+0x4c&gt;</span><br><span class="line"> 401051:  83 7c 24 0c 00         cmpl   $0x0,0xc(%rsp)</span><br><span class="line"> 401056:  74 05                  je     40105d &lt;phase_4+0x51&gt;</span><br><span class="line"> 401058:  e8 dd 03 00 00         callq  40143a &lt;explode_bomb&gt;</span><br><span class="line"> 40105d:  48 83 c4 18            add    $0x18,%rsp</span><br><span class="line"> 401061:  c3                     retq</span><br></pre></td></tr></table></figure>
<p>得到：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">%rdx &#x3D; %rsp + 8</span><br><span class="line">%rcx &#x3D; %rsp + 12</span><br></pre></td></tr></table></figure>
<p>由上一关的分析，本关密码同样应当是输入 2 个整数（之间有且仅有一个空格），这 2 个整数将被保存在之前 2 个参数所提供的 2 个地址中。</p>
<p>因此读取完毕后，栈内保存的信息为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x8(%rsp) &#x3D; nums[0]</span><br><span class="line">0xc(%rsp) &#x3D; nums[1]</span><br></pre></td></tr></table></figure>
<p>其中，<code>nums[0]</code> 和 <code>nums[1]</code> 表示输入的字符串中解析得到的（前）2 个整数。</p>
<p>401029: <code>cmp $0x2,%eax</code> 和 40102c: <code>jne 401035</code> 判断函数 <code>sscanf</code> 的返回值是否等于 <code>2</code>，是则继续执行之后的语句，否则直接跳到 401035: <code>callq 40143a</code> 引爆炸弹。同上一关的说明，即检查是否成功读入且仅读入了 2 个整数，如果不是则直接引爆炸弹。</p>
<p>40102e: <code>cmpl $0xe,0x8(%rsp)</code> 和 401033: <code>jbe 40103a</code> 判断 <code>0x8(%rsp)</code> 的值（即 <code>nums[0]</code>，也就是输入的第 1 个整数）是否不超过 <code>14</code>，是则直接跳到 40103a: <code>mov $0xe,%edx</code>，否则执行 401035: <code>callq 40143a</code> 引爆炸弹。</p>
<p>因此，输入的第 1 个整数应当不超过 <code>14</code>（无符号数），即其取值范围为 [0, 14]。</p>
<p>40103a: <code>mov $0xe,%edx</code>、40103f: <code>mov $0x0,%esi</code> 和 401044: <code>mov 0x8(%rsp),%edi</code> 将 %edx、%esi、%edi 寄存器分别赋值为 <code>0xe</code>、<code>0x0</code>、<code>0x8(%rsp)</code>。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">%edi &#x3D; 0x8(%rsp) &#x3D; nums[0]</span><br><span class="line">%esi &#x3D; 0</span><br><span class="line">%edx &#x3D; 14</span><br></pre></td></tr></table></figure>
<p>401048: <code>callq 400fce</code> 调用函数 <code>func4</code>，也就是本关的主体部分。</p>
<h5 id="422-观察函数-func4"><a class="markdownIt-Anchor" href="#422-观察函数-func4"></a> 4.2.2 观察函数 func4</h5>
<p>在 bomb.asm 中找到函数 <code>func4</code> 对应的汇编语句：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;func4&gt;:  400fce:   48 83 ec 08</span><br><span class="line">sub    $0x8,%rsp  400fd2:   89 d0                  </span><br><span class="line">mov    %edx,%eax  400fd4:   29 f0                   </span><br><span class="line">sub    %esi,%eax  400fd6:   89 c1                 </span><br><span class="line">mov    %eax,%ecx  400fd8:   c1 e9 1f             </span><br><span class="line">shr    $0x1f,%ecx  400fdb:   01 c8                   </span><br><span class="line">add    %ecx,%eax  400fdd:   d1 f8                 </span><br><span class="line">sar    %eax  400fdf:   8d 0c 30               </span><br><span class="line">lea    (%rax,%rsi,1),%ecx  400fe2:   39 f9               </span><br><span class="line">cmp    %edi,%ecx  400fe4:   7e 0c                 </span><br><span class="line">jle    400ff2 &lt;func4+0x24&gt;  400fe6:   8d 51 ff          </span><br><span class="line">lea    -0x1(%rcx),%edx  400fe9:   e8 e0 ff ff ff         </span><br><span class="line">callq  400fce &lt;func4&gt;  400fee:   01 c0                 </span><br><span class="line">add    %eax,%eax  400ff0:   eb 15                   </span><br><span class="line">jmp    401007 &lt;func4+0x39&gt;  400ff2:   b8 00 00 00 00       </span><br><span class="line">mov    $0x0,%eax  400ff7:   39 f9                   </span><br><span class="line">cmp    %edi,%ecx  400ff9:   7d 0c                   </span><br><span class="line">jge    401007 &lt;func4+0x39&gt;  400ffb:   8d 71 01             </span><br><span class="line">lea    0x1(%rcx),%esi  400ffe:   e8 cb ff ff ff        </span><br><span class="line">callq  400fce &lt;func4&gt;  401003:   8d 44 00 01           </span><br><span class="line">lea    0x1(%rax,%rax,1),%eax  401007:   48 83 c4 08        </span><br><span class="line">add    $0x8,%rsp  40100b:   c3                     </span><br><span class="line">retq</span><br></pre></td></tr></table></figure>
<p>400fe9 和 400ffe: <code>callq 400fce</code> 都调用了函数 <code>func4</code> 自身，可见这是一个递归函数。</p>
<p>试译成 C 语言代码（经整理及部分改写，类似 2.2.3 节的处理流程）：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">*<span class="comment">// key in %edi, low in %esi, high in %edx* </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func4</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;   </span><br><span class="line">	<span class="keyword">int</span>      length   = high - low;             *<span class="comment">// length in %eax*   </span></span><br><span class="line">	<span class="keyword">unsigned</span> sign     = length &gt;&gt; <span class="number">31</span>;           *<span class="comment">// sign in %ecx*    </span></span><br><span class="line">	<span class="keyword">int</span>      half_len = (length + sign) &gt;&gt; <span class="number">1</span>;   *<span class="comment">// half_len in %eax*                                                *// half_len = length /= 2*    </span></span><br><span class="line">	<span class="keyword">int</span> mid = half_len + low;                   *<span class="comment">// mid in %ecx*    </span></span><br><span class="line">	<span class="keyword">int</span> result;                                 *<span class="comment">// result in %eax*    </span></span><br><span class="line">	<span class="keyword">if</span> (mid &gt; key) &#123;       </span><br><span class="line">	high   = mid - <span class="number">1</span>;        </span><br><span class="line">	result = func4(key, low, high) * <span class="number">2</span>;    </span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (mid &gt;= key) &#123;                    *<span class="comment">// </span></span><br><span class="line">	mid == key*        result = <span class="number">0</span>;    &#125; </span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">	&#123;                                    *<span class="comment">// mid &lt; key*        </span></span><br><span class="line">		low    = mid + <span class="number">1</span>;        </span><br><span class="line">		result = func4(key, low, high) * <span class="number">2</span> + <span class="number">1</span>;    </span><br><span class="line">	&#125;    </span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="423-回到函数-phase_4"><a class="markdownIt-Anchor" href="#423-回到函数-phase_4"></a> 4.2.3 回到函数 phase_4</h5>
<blockquote>
<p>%eax = func4(nums[0], 0, 14)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1234567  40104d:   85 c0                   test   %eax,%eax</span><br><span class="line">  40104f:   75 07                   jne    401058 &lt;phase_4+0x4c&gt;</span><br><span class="line">  401051:   83 7c 24 0c 00          cmpl   $0x0,0xc(%rsp)</span><br><span class="line">  401056:   74 05                   je     40105d &lt;phase_4+0x51&gt;</span><br><span class="line">  401058:   e8 dd 03 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  40105d:   48 83 c4 18             add    $0x18,%rsp</span><br><span class="line">  401061:   c3                      retq</span><br></pre></td></tr></table></figure>
<p>40104d: <code>test %eax,%eax</code> 和 40104f: <code>jne 401058</code> 判断函数 <code>func4</code> 的返回值是否为 <code>0</code>，是则继续执行之后的语句，否则直接跳到 401058: <code>callq 40143a</code> 引爆炸弹。</p>
<p>因此，输入的第 1 个整数 <code>nums[0]</code> 需要使函数 <code>func4(nums[0], 0, 14)</code> 的返回值为 <code>0</code>，其中 <code>nums[0]</code> 的取值范围为 [0, 14]。</p>
<p>401051: <code>cmpl $0x0,0xc(%rsp)</code> 和 401056: <code>je 40105d</code> 判断 <code>0xc(%rsp)</code> 的值（即 <code>nums[1]</code>，也就是输入的第 2 个整数）是否为 <code>0</code>，是则直接跳到 40105d: <code>add $0x18,%rsp</code> 弹栈返回，否则执行 401058: <code>callq 40143a</code> 引爆炸弹。</p>
<p>因此，输入的第 2 个整数应当为 <code>0</code>。</p>
<h5 id="424-确定输入的第-1-个整数"><a class="markdownIt-Anchor" href="#424-确定输入的第-1-个整数"></a> 4.2.4 确定输入的第 1 个整数</h5>
<p>事实上，由于 <code>nums[0]</code> 的取值范围有限，直接遍历然后测试返回值是否为 <code>0</code> 即可。测试代码如下：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Solution</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> kBegin = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> kEnd   = <span class="number">14</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"The solutions are:"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = kBegin; i &lt;= kEnd; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (func4(i, kBegin, kEnd) == <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" %d"</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The solutions are: 0 1 3 7</span><br></pre></td></tr></table></figure>
<p>即为第 1 个整数可能的值。</p>
<p>综上，本关密码即为 <code>0 0</code>, <code>1 0</code>, <code>3 0</code>, <code>7 0</code>。</p>
<h5 id="425-测试"><a class="markdownIt-Anchor" href="#425-测试"></a> 4.2.5 测试</h5>
<p>这里以 <code>7 0</code> 为例，在 gdb 中输入 Phase 4 的密码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">7 0</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">So you got that one.  Try this one.</span><br></pre></td></tr></table></figure>
<h3 id="5-phase-5-pointers"><a class="markdownIt-Anchor" href="#5-phase-5-pointers"></a> 5. Phase 5: pointers</h3>
<h4 id="51-本关密码"><a class="markdownIt-Anchor" href="#51-本关密码"></a> 5.1 本关密码</h4>
<p><code>9ON567</code>（不唯一）</p>
<h4 id="52-解题过程"><a class="markdownIt-Anchor" href="#52-解题过程"></a> 5.2 解题过程</h4>
<blockquote>
<p>%rdi = input</p>
</blockquote>
<h5 id="521-观察函数-phase_5"><a class="markdownIt-Anchor" href="#521-观察函数-phase_5"></a> 5.2.1 观察函数 phase_5</h5>
<p>在 bomb.asm 中找到函数 <code>phase_5</code> 对应的汇编语句：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;phase_5&gt;:</span><br><span class="line"> 401062:   53                      push   %rbx</span><br><span class="line"> 401063:   48 83 ec 20             sub    $0x20,%rsp</span><br><span class="line"> 401067:   48 89 fb                mov    %rdi,%rbx</span><br><span class="line"> 40106a:   64 48 8b 04 25 28 00    mov    %fs:0x28,%rax</span><br><span class="line"> 401071:   00 00</span><br><span class="line"> 401073:   48 89 44 24 18          mov    %rax,0x18(%rsp)</span><br><span class="line"> 401078:   31 c0                   xor    %eax,%eax</span><br><span class="line"> 40107a:   e8 9c 02 00 00          callq  40131b &lt;string_length&gt;</span><br><span class="line"> 40107f:   83 f8 06                cmp    $0x6,%eax</span><br><span class="line"> 401082:   74 4e                   je     4010d2 &lt;phase_5+0x70&gt;</span><br><span class="line"> 401084:   e8 b1 03 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line"> 401089:   eb 47                   jmp    4010d2 &lt;phase_5+0x70&gt;</span><br><span class="line"> 40108b:   0f b6 0c 03             movzbl (%rbx,%rax,1),%ecx</span><br><span class="line"> 40108f:   88 0c 24                mov    %cl,(%rsp)</span><br><span class="line"> 401092:   48 8b 14 24             mov    (%rsp),%rdx</span><br><span class="line"> 401096:   83 e2 0f                and    $0xf,%edx</span><br><span class="line"> 401099:   0f b6 92 b0 24 40 00    movzbl 0x4024b0(%rdx),%edx</span><br><span class="line"> 4010a0:   88 54 04 10             mov    %dl,0x10(%rsp,%rax,1)</span><br><span class="line"> 4010a4:   48 83 c0 01             add    $0x1,%rax</span><br><span class="line"> 4010a8:   48 83 f8 06             cmp    $0x6,%rax</span><br><span class="line"> 4010ac:   75 dd                   jne    40108b &lt;phase_5+0x29&gt;</span><br><span class="line"> 4010ae:   c6 44 24 16 00          movb   $0x0,0x16(%rsp)</span><br><span class="line"> 4010b3:   be 5e 24 40 00          mov    $0x40245e,%esi</span><br><span class="line"> 4010b8:   48 8d 7c 24 10          lea    0x10(%rsp),%rdi</span><br><span class="line"> 4010bd:   e8 76 02 00 00          callq  401338 &lt;strings_not_equal&gt;</span><br><span class="line"> 4010c2:   85 c0                   test   %eax,%eax</span><br><span class="line"> 4010c4:   74 13                   je     4010d9 &lt;phase_5+0x77&gt;</span><br><span class="line"> 4010c6:   e8 6f 03 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line"> 4010cb:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)</span><br><span class="line"> 4010d0:   eb 07                   jmp    4010d9 &lt;phase_5+0x77&gt;</span><br><span class="line"> 4010d2:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line"> 4010d7:   eb b2                   jmp    40108b &lt;phase_5+0x29&gt;</span><br><span class="line"> 4010d9:   48 8b 44 24 18          mov    0x18(%rsp),%rax</span><br><span class="line"> 4010de:   64 48 33 04 25 28 00    xor    %fs:0x28,%rax</span><br><span class="line"> 4010e5:   00 00</span><br><span class="line"> 4010e7:   74 05                   je     4010ee &lt;phase_5+0x8c&gt;</span><br><span class="line"> 4010e9:   e8 42 fa ff ff          callq  400b30 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 4010ee:   48 83 c4 20             add    $0x20,%rsp</span><br><span class="line"> 4010f2:   5b                      pop    %rbx</span><br><span class="line"> 4010f3:   c3                      retq</span><br></pre></td></tr></table></figure>
<p>401067: <code>mov %rdi,%rbx</code> 将 %rdi 寄存器上保存的地址传给了 %rbx 寄存器。</p>
<blockquote>
<p>%rbx = %rdi = input</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">401063:   48 83 ec 20             sub    $0x20,%rsp</span><br><span class="line"> ...</span><br><span class="line"> 40106a:   64 48 8b 04 25 28 00    mov    %fs:0x28,%rax</span><br><span class="line"> 401071:   00 00</span><br><span class="line"> 401073:   48 89 44 24 18          mov    %rax,0x18(%rsp)</span><br><span class="line"> ...</span><br><span class="line"> 4010d9:   48 8b 44 24 18          mov    0x18(%rsp),%rax</span><br><span class="line"> 4010de:   64 48 33 04 25 28 00    xor    %fs:0x28,%rax</span><br><span class="line"> 4010e5:   00 00</span><br><span class="line"> 4010e7:   74 05                   je     4010ee &lt;phase_5+0x8c&gt;</span><br><span class="line"> 4010e9:   e8 42 fa ff ff          callq  400b30 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 4010ee:   48 83 c4 20             add    $0x20,%rsp</span><br><span class="line"> 4010f2:   5b                      pop    %rbx</span><br><span class="line"> 4010f3:   c3                      retq</span><br></pre></td></tr></table></figure>
<p>这里的 <code>%fs:0x28</code> 是 FS 段寄存器（segment register）上偏移地址 <code>0x28</code> 上的数据。这是一个随机量，在这里起到 stack canary 的作用 。这部分代码即利用这个 stack canary 来确保 <code>0x18(%rsp)</code> 的数值（即栈底的 8 bytes）在函数前后没有发生改动，如果发生改动则执行 4010e9: <code>callq 400b30 &lt;__stack_chk_fail@plt&gt;</code> 调用系统函数 <code>__stack_chk_fail</code> 跳出，从而防止栈溢出（stack overflow）的问题。事实上，这段代码与本关的关系不大，这里就不做更多阐述了。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12345  401078:   31 c0                   xor    %eax,%eax</span><br><span class="line">40107a:   e8 9c 02 00 00          callq  40131b &lt;string_length&gt;</span><br><span class="line">40107f:   83 f8 06                cmp    $0x6,%eax</span><br><span class="line">401082:   74 4e                   je     4010d2 &lt;phase_5+0x70&gt;</span><br><span class="line">401084:   e8 b1 03 00 00          callq  40143a &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>401078: <code>xor %eax,%eax</code> 将 %eax 寄存器设置为 <code>0</code>。</p>
<blockquote>
<p>%eax = 0</p>
</blockquote>
<p>40107a: <code>callq 40131b</code> 调用函数 <code>string_length</code>。由 1.2.4 节的分析，函数 <code>string_length</code> 的返回值就是字符串 <code>input</code> 的长度。</p>
<p>40107f: <code>cmp $0x6,%eax</code> 和 401082: <code>je 4010d2</code> 判断返回值是否为 <code>6</code>，是则直接跳到 4010d2: <code>mov $0x0,%eax</code>，否则执行 401084: <code>callq 40143a</code> 引爆炸弹。</p>
<p>可见，输入的字符串的长度应当为 <code>6</code>。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">401089:   eb 47                   jmp    4010d2 &lt;phase_5+0x70&gt;</span><br><span class="line">40108b:   0f b6 0c 03             movzbl (%rbx,%rax,1),%ecx</span><br><span class="line">40108f:   88 0c 24                mov    %cl,(%rsp)</span><br><span class="line">401092:   48 8b 14 24             mov    (%rsp),%rdx</span><br><span class="line">401096:   83 e2 0f                and    $0xf,%edx</span><br><span class="line">401099:   0f b6 92 b0 24 40 00    movzbl 0x4024b0(%rdx),%edx</span><br><span class="line">4010a0:   88 54 04 10             mov    %dl,0x10(%rsp,%rax,1)</span><br><span class="line">4010a4:   48 83 c0 01             add    $0x1,%rax</span><br><span class="line">4010a8:   48 83 f8 06             cmp    $0x6,%rax</span><br><span class="line">4010ac:   75 dd                   jne    40108b &lt;phase_5+0x29&gt;</span><br><span class="line">4010ae:   c6 44 24 16 00          movb   $0x0,0x16(%rsp)</span><br><span class="line">4010b3:   be 5e 24 40 00          mov    $0x40245e,%esi</span><br><span class="line">4010b8:   48 8d 7c 24 10          lea    0x10(%rsp),%rdi</span><br><span class="line">4010bd:   e8 76 02 00 00          callq  401338 &lt;strings_not_equal&gt;</span><br><span class="line">4010c2:   85 c0                   test   %eax,%eax</span><br><span class="line">4010c4:   74 13                   je     4010d9 &lt;phase_5+0x77&gt;</span><br><span class="line">4010c6:   e8 6f 03 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">4010cb:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)</span><br><span class="line">4010d0:   eb 07                   jmp    4010d9 &lt;phase_5+0x77&gt;</span><br><span class="line">4010d2:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">4010d7:   eb b2                   jmp    40108b &lt;phase_5+0x29&gt;</span><br><span class="line">4010d9:   48 8b 44 24 18          mov    0x18(%rsp),%rax</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>剩下的内容也就是本关的主体部分。直观起见，试译成 C 语言代码（经整理及部分改写）：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">cur_char = <span class="number">0</span>;                                   <span class="comment">// cur_char in %rcx</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i != <span class="number">6</span>; ++i) &#123;                      <span class="comment">// i in %rax</span></span><br><span class="line">    cur_char = input[i];                        <span class="comment">// input in %rbx</span></span><br><span class="line">    index    = cur_char;                        <span class="comment">// index in %rsp, later copied to %edx</span></span><br><span class="line">    index &amp;= <span class="number">0xf</span>;</span><br><span class="line">    target_char = target[index];                <span class="comment">// target_char in %edx, target in 0x4024b0</span></span><br><span class="line">    <span class="keyword">word</span>[i]     = target_char;                  <span class="comment">// word in %rsp + 0x10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">word</span>[<span class="number">6</span>] = <span class="string">'\0'</span>;</span><br><span class="line">result  = strings_not_equal(<span class="keyword">word</span>, <span class="number">0x40245e</span>);    <span class="comment">// result in %eax</span></span><br><span class="line"><span class="keyword">if</span> (result != <span class="number">0</span>)</span><br><span class="line">    explode_bomb();</span><br><span class="line"><span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>
<p>其中，由 1.2.5 节的分析，函数 <code>strings_not_equal</code> 的作用为检查两个字符串是否相等，是则返回 <code>0</code>，否则返回 <code>1</code>。同时也可以知道 <code>0x40245e</code> 这个地址指向的是一个字符串。</p>
<p>可见，这段代码的作用为：</p>
<ol>
<li>构造一个 6 位的新字符串 <code>word</code>，遍历输入的字符串 <code>input</code> 的 6 个字符，以字符 <code>input[i]</code> 的最低 4 位二进制数为索引 <code>index</code>，依次将 <code>word[i]</code> 设置为字符 <code>target[index]</code>（可以推测出 <code>0x4024b0</code> 这个地址指向的也是一个字符串，这里设为 <code>target</code>），最后将 <code>word[6]</code> 设置为 <code>'\0'</code> 作为字符串结束符；</li>
<li>检查字符串 <code>word</code> 和 <code>0x40245e</code> 指向的字符串是否相等，是则直接返回，否则引爆炸弹。</li>
</ol>
<p>因此，由 <code>0x40245e</code> 指向的字符串倒推得对应的 6 个索引 <code>index</code>，再根据这些 <code>index</code> 得到输入的字符串 <code>input</code> 的 6 个字符，就可以得到本关的密码。</p>
<h5 id="522-确定目标字符串-word-的值"><a class="markdownIt-Anchor" href="#522-确定目标字符串-word-的值"></a> 5.2.2 确定目标字符串 word 的值</h5>
<p>使用 gdb 查看地址 <code>0x40245e</code> 存放的内容：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">(gdb) x/s <span class="number">0x40245e</span></span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x40245e:       &quot;flyers&quot;</span><br></pre></td></tr></table></figure>
<p>这就是我们需要构造的目标字符串 <code>word</code> 的值。</p>
<h5 id="523-确定-6-个索引-index-的值"><a class="markdownIt-Anchor" href="#523-确定-6-个索引-index-的值"></a> 5.2.3 确定 6 个索引 index 的值</h5>
<p>使用 gdb 查看地址 <code>0x4024b0</code> 存放的内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) x&#x2F;s 0x4024b0</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">0x4024b0 &lt;array.3449&gt;:  &quot;maduiersnfotvbylSo you think you can stop the bomb with ctrl-c, do you?&quot;</span><br></pre></td></tr></table></figure>
<p>这就是字符串 <code>target</code> 的值，我们需要将 <code>word[i]</code> 分别设置为字符 <code>target[index]</code>。于是得到对应的 6 个 <code>index</code> 的值为：<code>0x9</code>, <code>0xf</code>, <code>0xe</code>, <code>0x5</code>, <code>0x6</code>, <code>0x7</code>（<code>index</code> 是 4 位二进制数，因此其取值范围为 [0x0, 0xf]）。</p>
<h5 id="524-确定输入的-6-个字符"><a class="markdownIt-Anchor" href="#524-确定输入的-6-个字符"></a> 5.2.4 确定输入的 6 个字符</h5>
<p>由于索引 <code>index</code> 是字符 <code>input[i]</code> 的最后 4 位（二进制），通过 ASCII 码表 [^6] 找到最后 4 位为 <code>index</code> 的字符即可。于是得到对应的 6 个字符为：<code>9</code>, <code>O</code>, <code>N</code>, <code>5</code>, <code>6</code>, <code>7</code>（答案不唯一，这里就不一一列举了）。</p>
<p>因此，本关密码即为 <code>9ON567</code>。</p>
<h5 id="525-测试"><a class="markdownIt-Anchor" href="#525-测试"></a> 5.2.5 测试</h5>
<p>在 gdb 中输入 Phase 5 的密码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">9ON567</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Good work!  On to the next...</span><br></pre></td></tr></table></figure>
<h3 id="6-phase-6-linked-lists-pointers-structs"><a class="markdownIt-Anchor" href="#6-phase-6-linked-lists-pointers-structs"></a> 6. Phase 6: linked lists / pointers / structs</h3>
<h4 id="61-本关密码"><a class="markdownIt-Anchor" href="#61-本关密码"></a> 6.1 本关密码</h4>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4 3 2 1 6 5</span><br></pre></td></tr></table></figure>
<h4 id="62-解题过程"><a class="markdownIt-Anchor" href="#62-解题过程"></a> 6.2 解题过程</h4>
<blockquote>
<p>%rdi = input</p>
</blockquote>
<h5 id="620-观察函数-phase_6"><a class="markdownIt-Anchor" href="#620-观察函数-phase_6"></a> 6.2.0 观察函数 phase_6</h5>
<p>在 bomb.asm 中找到函数 <code>phase_6</code> 对应的汇编语句：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;phase_6&gt;:</span><br><span class="line"> 4010f4:   41 56                   push   %r14</span><br><span class="line"> 4010f6:   41 55                   push   %r13</span><br><span class="line"> 4010f8:   41 54                   push   %r12</span><br><span class="line"> 4010fa:   55                      push   %rbp</span><br><span class="line"> 4010fb:   53                      push   %rbx</span><br><span class="line"> 4010fc:   48 83 ec 50             sub    $0x50,%rsp</span><br><span class="line"> 401100:   49 89 e5                mov    %rsp,%r13</span><br><span class="line"> 401103:   48 89 e6                mov    %rsp,%rsi</span><br><span class="line"> 401106:   e8 51 03 00 00          callq  40145c &lt;read_six_numbers&gt;</span><br><span class="line"> 40110b:   49 89 e6                mov    %rsp,%r14</span><br><span class="line"> 40110e:   41 bc 00 00 00 00       mov    $0x0,%r12d</span><br><span class="line"> 401114:   4c 89 ed                mov    %r13,%rbp</span><br><span class="line"> 401117:   41 8b 45 00             mov    0x0(%r13),%eax</span><br><span class="line"> 40111b:   83 e8 01                sub    $0x1,%eax</span><br><span class="line"> 40111e:   83 f8 05                cmp    $0x5,%eax</span><br><span class="line"> 401121:   76 05                   jbe    401128 &lt;phase_6+0x34&gt;</span><br><span class="line"> 401123:   e8 12 03 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line"> 401128:   41 83 c4 01             add    $0x1,%r12d</span><br><span class="line"> 40112c:   41 83 fc 06             cmp    $0x6,%r12d</span><br><span class="line"> 401130:   74 21                   je     401153 &lt;phase_6+0x5f&gt;</span><br><span class="line"> 401132:   44 89 e3                mov    %r12d,%ebx</span><br><span class="line"> 401135:   48 63 c3                movslq %ebx,%rax</span><br><span class="line"> 401138:   8b 04 84                mov    (%rsp,%rax,4),%eax</span><br><span class="line"> 40113b:   39 45 00                cmp    %eax,0x0(%rbp)</span><br><span class="line"> 40113e:   75 05                   jne    401145 &lt;phase_6+0x51&gt;</span><br><span class="line"> 401140:   e8 f5 02 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line"> 401145:   83 c3 01                add    $0x1,%ebx</span><br><span class="line"> 401148:   83 fb 05                cmp    $0x5,%ebx</span><br><span class="line"> 40114b:   7e e8                   jle    401135 &lt;phase_6+0x41&gt;</span><br><span class="line"> 40114d:   49 83 c5 04             add    $0x4,%r13</span><br><span class="line"> 401151:   eb c1                   jmp    401114 &lt;phase_6+0x20&gt;</span><br><span class="line"> 401153:   48 8d 74 24 18          lea    0x18(%rsp),%rsi</span><br><span class="line"> 401158:   4c 89 f0                mov    %r14,%rax</span><br><span class="line"> 40115b:   b9 07 00 00 00          mov    $0x7,%ecx</span><br><span class="line"> 401160:   89 ca                   mov    %ecx,%edx</span><br><span class="line"> 401162:   2b 10                   sub    (%rax),%edx</span><br><span class="line"> 401164:   89 10                   mov    %edx,(%rax)</span><br><span class="line"> 401166:   48 83 c0 04             add    $0x4,%rax</span><br><span class="line"> 40116a:   48 39 f0                cmp    %rsi,%rax</span><br><span class="line"> 40116d:   75 f1                   jne    401160 &lt;phase_6+0x6c&gt;</span><br><span class="line"> 40116f:   be 00 00 00 00          mov    $0x0,%esi</span><br><span class="line"> 401174:   eb 21                   jmp    401197 &lt;phase_6+0xa3&gt;</span><br><span class="line"> 401176:   48 8b 52 08             mov    0x8(%rdx),%rdx</span><br><span class="line"> 40117a:   83 c0 01                add    $0x1,%eax</span><br><span class="line"> 40117d:   39 c8                   cmp    %ecx,%eax</span><br><span class="line"> 40117f:   75 f5                   jne    401176 &lt;phase_6+0x82&gt;</span><br><span class="line"> 401181:   eb 05                   jmp    401188 &lt;phase_6+0x94&gt;</span><br><span class="line"> 401183:   ba d0 32 60 00          mov    $0x6032d0,%edx</span><br><span class="line"> 401188:   48 89 54 74 20          mov    %rdx,0x20(%rsp,%rsi,2)</span><br><span class="line"> 40118d:   48 83 c6 04             add    $0x4,%rsi</span><br><span class="line"> 401191:   48 83 fe 18             cmp    $0x18,%rsi</span><br><span class="line"> 401195:   74 14                   je     4011ab &lt;phase_6+0xb7&gt;</span><br><span class="line"> 401197:   8b 0c 34                mov    (%rsp,%rsi,1),%ecx</span><br><span class="line"> 40119a:   83 f9 01                cmp    $0x1,%ecx</span><br><span class="line"> 40119d:   7e e4                   jle    401183 &lt;phase_6+0x8f&gt;</span><br><span class="line"> 40119f:   b8 01 00 00 00          mov    $0x1,%eax</span><br><span class="line"> 4011a4:   ba d0 32 60 00          mov    $0x6032d0,%edx</span><br><span class="line"> 4011a9:   eb cb                   jmp    401176 &lt;phase_6+0x82&gt;</span><br><span class="line"> 4011ab:   48 8b 5c 24 20          mov    0x20(%rsp),%rbx</span><br><span class="line"> 4011b0:   48 8d 44 24 28          lea    0x28(%rsp),%rax</span><br><span class="line"> 4011b5:   48 8d 74 24 50          lea    0x50(%rsp),%rsi</span><br><span class="line"> 4011ba:   48 89 d9                mov    %rbx,%rcx</span><br><span class="line"> 4011bd:   48 8b 10                mov    (%rax),%rdx</span><br><span class="line"> 4011c0:   48 89 51 08             mov    %rdx,0x8(%rcx)</span><br><span class="line"> 4011c4:   48 83 c0 08             add    $0x8,%rax</span><br><span class="line"> 4011c8:   48 39 f0                cmp    %rsi,%rax</span><br><span class="line"> 4011cb:   74 05                   je     4011d2 &lt;phase_6+0xde&gt;</span><br><span class="line"> 4011cd:   48 89 d1                mov    %rdx,%rcx</span><br><span class="line"> 4011d0:   eb eb                   jmp    4011bd &lt;phase_6+0xc9&gt;</span><br><span class="line"> 4011d2:   48 c7 42 08 00 00 00    movq   $0x0,0x8(%rdx)</span><br><span class="line"> 4011d9:   00</span><br><span class="line"> 4011da:   bd 05 00 00 00          mov    $0x5,%ebp</span><br><span class="line"> 4011df:   48 8b 43 08             mov    0x8(%rbx),%rax</span><br><span class="line"> 4011e3:   8b 00                   mov    (%rax),%eax</span><br><span class="line"> 4011e5:   39 03                   cmp    %eax,(%rbx)</span><br><span class="line"> 4011e7:   7d 05                   jge    4011ee &lt;phase_6+0xfa&gt;</span><br><span class="line"> 4011e9:   e8 4c 02 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line"> 4011ee:   48 8b 5b 08             mov    0x8(%rbx),%rbx</span><br><span class="line"> 4011f2:   83 ed 01                sub    $0x1,%ebp</span><br><span class="line"> 4011f5:   75 e8                   jne    4011df &lt;phase_6+0xeb&gt;</span><br><span class="line"> 4011f7:   48 83 c4 50             add    $0x50,%rsp</span><br><span class="line"> 4011fb:   5b                      pop    %rbx</span><br><span class="line"> 4011fc:   5d                      pop    %rbp</span><br><span class="line"> 4011fd:   41 5c                   pop    %r12</span><br><span class="line"> 4011ff:   41 5d                   pop    %r13</span><br><span class="line"> 401201:   41 5e                   pop    %r14</span><br><span class="line"> 401203:   c3                      retq</span><br></pre></td></tr></table></figure>
<p>发现这段代码相当长，所以这里就不逐句分析了，直接逆向工程。</p>
<h5 id="621-第一部分4010f4-~-40110b"><a class="markdownIt-Anchor" href="#621-第一部分4010f4-~-40110b"></a> 6.2.1 第一部分（4010f4 ~ 40110b）</h5>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4010f4:   41 56                   push   %r14</span><br><span class="line">4010f6:   41 55                   push   %r13</span><br><span class="line">4010f8:   41 54                   push   %r12</span><br><span class="line">4010fa:   55                      push   %rbp</span><br><span class="line">4010fb:   53                      push   %rbx</span><br><span class="line">4010fc:   48 83 ec 50             sub    $0x50,%rsp</span><br><span class="line">401100:   49 89 e5                mov    %rsp,%r13</span><br><span class="line">401103:   48 89 e6                mov    %rsp,%rsi</span><br><span class="line">401106:   e8 51 03 00 00          callq  40145c &lt;read_six_numbers&gt;</span><br><span class="line">40110b:   49 89 e6                mov    %rsp,%r14</span><br></pre></td></tr></table></figure>
<p>首先读入 6 个整数（详见 2.2.2 节），保存到栈中。</p>
<blockquote>
<p>%rsi = %r13 = %r14 = %rsp<br>
0x00(%rsp) = nums[0]<br>
0x04(%rsp) = nums[1]<br>
0x08(%rsp) = nums[2]<br>
0x0c(%rsp) = nums[3]<br>
0x10(%rsp) = nums[4]<br>
0x14(%rsp) = nums[5]</p>
</blockquote>
<p>其中，<code>nums[0]</code> ~ <code>nums[5]</code> 表示输入的字符串中解析得到的（前）6 个整数。</p>
<h5 id="622-第二部分40110e-~-401151"><a class="markdownIt-Anchor" href="#622-第二部分40110e-~-401151"></a> 6.2.2 第二部分（40110e ~ 401151）</h5>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">40110e:   41 bc 00 00 00 00       mov    $0x0,%r12d</span><br><span class="line">401114:   4c 89 ed                mov    %r13,%rbp</span><br><span class="line">401117:   41 8b 45 00             mov    0x0(%r13),%eax</span><br><span class="line">40111b:   83 e8 01                sub    $0x1,%eax</span><br><span class="line">40111e:   83 f8 05                cmp    $0x5,%eax</span><br><span class="line">401121:   76 05                   jbe    401128 &lt;phase_6+0x34&gt;</span><br><span class="line">401123:   e8 12 03 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">401128:   41 83 c4 01             add    $0x1,%r12d</span><br><span class="line">40112c:   41 83 fc 06             cmp    $0x6,%r12d</span><br><span class="line">401130:   74 21                   je     401153 &lt;phase_6+0x5f&gt;</span><br><span class="line">401132:   44 89 e3                mov    %r12d,%ebx</span><br><span class="line">401135:   48 63 c3                movslq %ebx,%rax</span><br><span class="line">401138:   8b 04 84                mov    (%rsp,%rax,4),%eax</span><br><span class="line">40113b:   39 45 00                cmp    %eax,0x0(%rbp)</span><br><span class="line">40113e:   75 05                   jne    401145 &lt;phase_6+0x51&gt;</span><br><span class="line">401140:   e8 f5 02 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">401145:   83 c3 01                add    $0x1,%ebx</span><br><span class="line">401148:   83 fb 05                cmp    $0x5,%ebx</span><br><span class="line">40114b:   7e e8                   jle    401135 &lt;phase_6+0x41&gt;</span><br><span class="line">40114d:   49 83 c5 04             add    $0x4,%r13</span><br><span class="line">401151:   eb c1                   jmp    401114 &lt;phase_6+0x20&gt;</span><br><span class="line">401153:   48 8d 74 24 18          lea    0x18(%rsp),%rsi</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>试译成 C 语言代码（经整理及部分改写）：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// cur_pos = nums;                              // cur_pos in %r13, nums in %rsp</span></span><br><span class="line">next_index = <span class="number">0</span>;                                 <span class="comment">// next_index in %r12d</span></span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    cur_num = *cur_pos;                         <span class="comment">// cur_pos in %r13, later copied to %rbp</span></span><br><span class="line">    <span class="keyword">if</span> (--cur_num &gt; <span class="number">5</span>)                          <span class="comment">// cur_num in %eax</span></span><br><span class="line">        explode_bomb();</span><br><span class="line">    ++next_index;</span><br><span class="line">    <span class="keyword">if</span> (next_index == <span class="number">6</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = next_index; i &lt;= <span class="number">5</span>; ++i) &#123;         <span class="comment">// i in %ebx, later copied to %rax</span></span><br><span class="line">        next_num = nums[i];                     <span class="comment">// next_num in %eax</span></span><br><span class="line">        <span class="keyword">if</span> (next_num == *cur_pos)</span><br><span class="line">            explode_bomb();</span><br><span class="line">    &#125;</span><br><span class="line">    ++cur_pos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过这段代码，可以得知输入的 6 个整数需要满足以下条件：</p>
<ol>
<li>减 1 后不能超过 <code>5</code>（无符号数），即其取值范围为 [1, 6]；</li>
<li>必须互不相同。</li>
</ol>
<p>因此，这 6 个整数是 1 ~ 6 的一个全排列。</p>
<h5 id="623-第三部分401153-~-40116d"><a class="markdownIt-Anchor" href="#623-第三部分401153-~-40116d"></a> 6.2.3 第三部分（401153 ~ 40116d）</h5>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">401153:   48 8d 74 24 18          lea    0x18(%rsp),%rsi</span><br><span class="line">401158:   4c 89 f0                mov    %r14,%rax</span><br><span class="line">40115b:   b9 07 00 00 00          mov    $0x7,%ecx</span><br><span class="line">401160:   89 ca                   mov    %ecx,%edx</span><br><span class="line">401162:   2b 10                   sub    (%rax),%edx</span><br><span class="line">401164:   89 10                   mov    %edx,(%rax)</span><br><span class="line">401166:   48 83 c0 04             add    $0x4,%rax</span><br><span class="line">40116a:   48 39 f0                cmp    %rsi,%rax</span><br><span class="line">40116d:   75 f1                   jne    401160 &lt;phase_6+0x6c&gt;</span><br></pre></td></tr></table></figure>
<p>试译成 C 语言代码（经整理及部分改写）：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">begin_pos &#x3D; rsp;                             &#x2F;&#x2F; begin_pos in %r14</span><br><span class="line">end_pos &#x3D; rsp + 6;                              &#x2F;&#x2F; end_pos in %rsi</span><br><span class="line">minuend &#x3D; 7;                                    &#x2F;&#x2F; minuend in %ecx</span><br><span class="line">for (i &#x3D; begin_pos; i !&#x3D; end_pos; ++i) &#123;        &#x2F;&#x2F; i in %rax</span><br><span class="line">    new_num &#x3D; minuend - *i;                     &#x2F;&#x2F; new_num in %edx</span><br><span class="line">    *i      &#x3D; new_num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可见，保存在栈中的这 6 个整数 <code>nums[i]</code> 被依次修改成了 <code>7 - nums[i]</code>。</p>
<h5 id="624-第四部分40116f-~-4011a9"><a class="markdownIt-Anchor" href="#624-第四部分40116f-~-4011a9"></a> 6.2.4 第四部分（40116f ~ 4011a9）</h5>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">40116f:   be 00 00 00 00          mov    $0x0,%esi</span><br><span class="line"> 401174:   eb 21                   jmp    401197 &lt;phase_6+0xa3&gt;</span><br><span class="line"> 401176:   48 8b 52 08             mov    0x8(%rdx),%rdx</span><br><span class="line"> 40117a:   83 c0 01                add    $0x1,%eax</span><br><span class="line"> 40117d:   39 c8                   cmp    %ecx,%eax</span><br><span class="line"> 40117f:   75 f5                   jne    401176 &lt;phase_6+0x82&gt;</span><br><span class="line"> 401181:   eb 05                   jmp    401188 &lt;phase_6+0x94&gt;</span><br><span class="line"> 401183:   ba d0 32 60 00          mov    $0x6032d0,%edx</span><br><span class="line"> 401188:   48 89 54 74 20          mov    %rdx,0x20(%rsp,%rsi,2)</span><br><span class="line"> 40118d:   48 83 c6 04             add    $0x4,%rsi</span><br><span class="line"> 401191:   48 83 fe 18             cmp    $0x18,%rsi</span><br><span class="line"> 401195:   74 14                   je     4011ab &lt;phase_6+0xb7&gt;</span><br><span class="line"> 401197:   8b 0c 34                mov    (%rsp,%rsi,1),%ecx</span><br><span class="line"> 40119a:   83 f9 01                cmp    $0x1,%ecx</span><br><span class="line"> 40119d:   7e e4                   jle    401183 &lt;phase_6+0x8f&gt;</span><br><span class="line"> 40119f:   b8 01 00 00 00          mov    $0x1,%eax</span><br><span class="line"> 4011a4:   ba d0 32 60 00          mov    $0x6032d0,%edx</span><br><span class="line"> 4011a9:   eb cb                   jmp    401176 &lt;phase_6+0x82&gt;</span><br><span class="line"> 4011ab:   48 8b 5c 24 20          mov    0x20(%rsp),%rbx</span><br><span class="line"> ...</span><br></pre></td></tr></table></figure>
<p>这是本关的主体部分。试译成 C 语言代码（经整理及大量不影响原意的改写）：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i != <span class="number">6</span>; ++i) &#123;          <span class="comment">// i in %rsi</span></span><br><span class="line">    cur_num = nums[i];              <span class="comment">// cur_num in %ecx, nums in %rsp</span></span><br><span class="line">    p_node  = <span class="number">0x6032d0</span>;             <span class="comment">// p_node in %edx</span></span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; cur_num; ++j)   <span class="comment">// j in %eax</span></span><br><span class="line">        p_node = *(++p_node);       <span class="comment">// assure that p_node is always a pointer</span></span><br><span class="line">    ptrs[i] = p_node;               <span class="comment">// ptrs in %rsp + 0x20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可见，根据被修改后的这 6 个整数 <code>nums[i]</code>，这段代码在 <code>ptrs[i]</code>（即 <code>*(%rsp + 0x20 + i * 0x8)</code>）中存放经过 <code>nums[i] - 1</code> 次 <code>p_node = *(++p_node);</code> 操作的地址 <code>p_node</code>，其中 <code>p_node</code> 的初始值为 <code>0x6032d0</code>。</p>
<p>可以看出这实际就是将链表的 6 个结点以 <code>nums[i]</code> 为索引顺序存到栈中。每次操作就是将 <code>p_node</code> 指向下一个结点，因此经过 <code>nums[i] - 1</code> 次操作得到的 <code>p_node</code> 就是 <code>nums[i]</code> 号结点的地址 <code>p_node(nums[i])</code>。</p>
<blockquote>
<p>ptrs[i] = p_node(nums[i])</p>
</blockquote>
<p>由之前的分析，<code>nums[i]</code> 是 1 ~ 6 的一个全排列，由此可以得到这 6 个结点的地址。</p>
<p>以进行 1 次操作为例，使用 gdb 查看此时 <code>p_node</code> 的值（原 <code>p_node</code> + <code>0x8</code> 所指向的内容）：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) x&#x2F;xw 0x6032d8</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x6032d8 &lt;node1+8&gt;:     0x006032e0</span><br></pre></td></tr></table></figure>
<p>这就是 2 号结点的地址 <code>p_node2</code>。</p>
<p>用同样的方式得到 6 个结点的地址：</p>
<blockquote>
<p>p_node1 = 0x6032d0<br>
p_node2 = 0x6032e0<br>
p_node3 = 0x6032f0<br>
p_node4 = 0x603300<br>
p_node5 = 0x603310<br>
p_node6 = 0x603220</p>
</blockquote>
<h5 id="625-第五部分4011ab-~-4011d0"><a class="markdownIt-Anchor" href="#625-第五部分4011ab-~-4011d0"></a> 6.2.5 第五部分（4011ab ~ 4011d0）</h5>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4011ab:   48 8b 5c 24 20          mov    0x20(%rsp),%rbx</span><br><span class="line"> 4011b0:   48 8d 44 24 28          lea    0x28(%rsp),%rax</span><br><span class="line"> 4011b5:   48 8d 74 24 50          lea    0x50(%rsp),%rsi</span><br><span class="line"> 4011ba:   48 89 d9                mov    %rbx,%rcx</span><br><span class="line"> 4011bd:   48 8b 10                mov    (%rax),%rdx</span><br><span class="line"> 4011c0:   48 89 51 08             mov    %rdx,0x8(%rcx)</span><br><span class="line"> 4011c4:   48 83 c0 08             add    $0x8,%rax</span><br><span class="line"> 4011c8:   48 39 f0                cmp    %rsi,%rax</span><br><span class="line"> 4011cb:   74 05                   je     4011d2 &lt;phase_6+0xde&gt;</span><br><span class="line"> 4011cd:   48 89 d1                mov    %rdx,%rcx</span><br><span class="line"> 4011d0:   eb eb                   jmp    4011bd &lt;phase_6+0xc9&gt;</span><br><span class="line"> 4011d2:   48 c7 42 08 00 00 00    movq   $0x0,0x8(%rdx)</span><br><span class="line"> 4011d9:   00</span><br><span class="line"> ...</span><br></pre></td></tr></table></figure>
<p>试译成 C 语言代码（经整理及部分改写）：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">123456789b</span>egin_node = *ptrs;                 <span class="comment">// begin_node in %rbx, ptrs in %rsp + 0x20</span></span><br><span class="line">next_pos   = ptrs + <span class="number">1</span>;              <span class="comment">// next_pos in %rax</span></span><br><span class="line">end_pos    = ptrs + <span class="number">6</span>;              <span class="comment">// end_pos in %rsi</span></span><br><span class="line"><span class="keyword">for</span> (cur_node = begin_node; next_pos != end_pos;</span><br><span class="line">     cur_node = next_node) &#123;        <span class="comment">// cur_node in %rcx</span></span><br><span class="line">    next_node       = *next_pos;    <span class="comment">// next_node in %rdx</span></span><br><span class="line">    *(cur_node + <span class="number">1</span>) = next_node;</span><br><span class="line">    ++next_pos;</span><br><span class="line">&#125;c</span><br></pre></td></tr></table></figure>
<p>可见，这段代码的作用为按<strong>在栈中地址由低到高顺序</strong>遍历链表的 6 个结点，将它们串联起来。</p>
<p>这里的 <code>*(cur_node + 1)</code> 实质上就是 <code>cur_node-&gt;next</code>（即 <code>(*cur_node).next</code>），因为链表中的结点其实是一个结构体（struct），结点所在的地址指向的是数据 <code>val</code>，加上 <code>0x8</code> 后指向的也就是指针 <code>next</code>。此处将该指针 <code>next</code> 指向了下一个结点。</p>
<h5 id="626-第六部分4011da-~-401203"><a class="markdownIt-Anchor" href="#626-第六部分4011da-~-401203"></a> 6.2.6 第六部分（4011da ~ 401203）</h5>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4011da:   bd 05 00 00 00          mov    $0x5,%ebp</span><br><span class="line">4011df:   48 8b 43 08             mov    0x8(%rbx),%rax</span><br><span class="line">4011e3:   8b 00                   mov    (%rax),%eax</span><br><span class="line">4011e5:   39 03                   cmp    %eax,(%rbx)</span><br><span class="line">4011e7:   7d 05                   jge    4011ee &lt;phase_6+0xfa&gt;</span><br><span class="line">4011e9:   e8 4c 02 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">4011ee:   48 8b 5b 08             mov    0x8(%rbx),%rbx</span><br><span class="line">4011f2:   83 ed 01                sub    $0x1,%ebp</span><br><span class="line">4011f5:   75 e8                   jne    4011df &lt;phase_6+0xeb&gt;</span><br><span class="line">4011f7:   48 83 c4 50             add    $0x50,%rsp</span><br><span class="line">4011fb:   5b                      pop    %rbx</span><br><span class="line">4011fc:   5d                      pop    %rbp</span><br><span class="line">4011fd:   41 5c                   pop    %r12</span><br><span class="line">4011ff:   41 5d                   pop    %r13</span><br><span class="line">401201:   41 5e                   pop    %r14</span><br><span class="line">401203:   c3                      retq</span><br></pre></td></tr></table></figure>
<p>试译成 C 语言代码（经整理及部分改写）：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"> <span class="number">12345678f</span><span class="keyword">or</span> (i = <span class="number">5</span>; i != <span class="number">0</span>; --i) &#123;          <span class="comment">// i in %ebp</span></span><br><span class="line">    next_node = *(cur_node + <span class="number">1</span>);    <span class="comment">// next_node in %rax, cur_node in %rbx</span></span><br><span class="line">    next_num  = *next_node;         <span class="comment">// next_num in %eax</span></span><br><span class="line">    <span class="keyword">if</span> (*cur_node &lt; next_num)</span><br><span class="line">        explode_bomb();</span><br><span class="line">    cur_node = *(cur_node + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> next_node;</span><br></pre></td></tr></table></figure>
<p>由上一节的分析，<code>*cur_node</code> 即 <code>cur_node-&gt;val</code>，<code>*(cur_node + 1)</code> 即 <code>cur_node-&gt;next</code>。通过这段代码，可以发现链表各个结点的数据 <code>val</code> 需要是顺序递减的。</p>
<p>以 1 号结点 <code>node1</code> 为例，使用 gdb 查看其数据 <code>val</code>：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) x&#x2F;d 0x6032d0</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x6032d0 &lt;node1&gt;:       332</span><br></pre></td></tr></table></figure>
<p>用同样的方式得到链表 6 个结点的数据：</p>
<blockquote>
<p>p_node1-&gt;val = 332<br>
p_node2-&gt;val = 168<br>
p_node3-&gt;val = 924<br>
p_node4-&gt;val = 691<br>
p_node5-&gt;val = 477<br>
p_node6-&gt;val = 443</p>
</blockquote>
<p>按递减顺序排列后，可见在栈中地址由低到高应当分别为 <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>1</code>, <code>2</code> 号结点。</p>
<h5 id="627-确定输入的-6-个整数"><a class="markdownIt-Anchor" href="#627-确定输入的-6-个整数"></a> 6.2.7 确定输入的 6 个整数</h5>
<p>由之前的分析，<code>nums[i]</code> 在第三部分的代码中被依次修改成了 <code>7 - nums[i]</code>，而修改后的值分别对应栈中结点的标号 <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>1</code>, <code>2</code>。</p>
<p>因此，最开始输入的 6 个整数也就是 <code>4</code>, <code>3</code>, <code>2</code>, <code>1</code>, <code>6</code>, <code>5</code>，本关密码即为 <code>4 3 2 1 6 5</code>。</p>
<h5 id="628-测试"><a class="markdownIt-Anchor" href="#628-测试"></a> 6.2.8 测试</h5>
<p>在 gdb 中输入 Phase 6 的密码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4 3 2 1 6 5</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Congratulations! You&#39;ve defused the bomb!</span><br></pre></td></tr></table></figure>
<h3 id="7-结束了吗"><a class="markdownIt-Anchor" href="#7-结束了吗"></a> 7. 结束了吗</h3>
<p>在 bomb.c 文件的最后，留下了这样一句耐人寻味的话：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* Wow, they got it!  But isn&#39;t something... missing?  Perhaps</span><br><span class="line"> * something they overlooked?  Mua ha ha ha ha! *&#x2F;</span><br></pre></td></tr></table></figure>
<p>这是因为，本 Lab 还有一个隐藏关！</p>
<h3 id="8-secret-phase"><a class="markdownIt-Anchor" href="#8-secret-phase"></a> 8. Secret phase</h3>
<h4 id="81-本关密码"><a class="markdownIt-Anchor" href="#81-本关密码"></a> 8.1 本关密码</h4>
<h5 id="811-开启隐藏关的方法"><a class="markdownIt-Anchor" href="#811-开启隐藏关的方法"></a> 8.1.1 开启隐藏关的方法</h5>
<p>在 Phase 4 输入的 2 个整数后再额外输入 1 个字符串 <code>DrEvil</code>，比如将输入的字符串修改为 <code>7 0 DrEvil</code>，其余环节不变。</p>
<h5 id="812-隐藏关的密码"><a class="markdownIt-Anchor" href="#812-隐藏关的密码"></a> 8.1.2 隐藏关的密码</h5>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">22, 20</span><br></pre></td></tr></table></figure>
<h4 id="82-解题过程"><a class="markdownIt-Anchor" href="#82-解题过程"></a> 8.2 解题过程</h4>
<h5 id="820-找到隐藏函数"><a class="markdownIt-Anchor" href="#820-找到隐藏函数"></a> 8.2.0 找到隐藏函数</h5>
<p>好吧，实际上在 bomb.asm 中稍微往下翻翻就能找到一个名为 <code>secret_phase</code> 的函数。顾名思义，这应该就是隐藏关所对应的函数。</p>
<h5 id="821-找到开启隐藏关的方法"><a class="markdownIt-Anchor" href="#821-找到开启隐藏关的方法"></a> 8.2.1 找到开启隐藏关的方法</h5>
<p>事实上，前 6 关通过后，程序就自动终止了。那么应该如何进入这个隐藏关呢？</p>
<p>在 bomb.asm 搜索关键词 <code>secret_phase</code>，可以发现在函数 <code>phase_defused</code> 中出现了调用函数 <code>secret_phase</code> 的语句 401630: <code>callq 401242</code>。其中函数 <code>phase_defused</code> 就是每关通过后都会调用的函数。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">004015c4 &lt;phase_defused&gt;:</span><br><span class="line">  4015c4:   48 83 ec 78             sub    $0x78,%rsp</span><br><span class="line">  4015c8:   64 48 8b 04 25 28 00    mov    %fs:0x28,%rax</span><br><span class="line">  4015cf:   00 00</span><br><span class="line">  4015d1:   48 89 44 24 68          mov    %rax,0x68(%rsp)</span><br><span class="line">  4015d6:   31 c0                   xor    %eax,%eax</span><br><span class="line">  4015d8:   83 3d 81 21 20 00 06    cmpl   $0x6,0x202181(%rip)        # 603760 &lt;num_input_strings&gt;</span><br><span class="line">  4015df:   75 5e                   jne    40163f &lt;phase_defused+0x7b&gt;</span><br><span class="line">  4015e1:   4c 8d 44 24 10          lea    0x10(%rsp),%r8</span><br><span class="line">  4015e6:   48 8d 4c 24 0c          lea    0xc(%rsp),%rcx</span><br><span class="line">  4015eb:   48 8d 54 24 08          lea    0x8(%rsp),%rdx</span><br><span class="line">  4015f0:   be 19 26 40 00          mov    $0x402619,%esi</span><br><span class="line">  4015f5:   bf 70 38 60 00          mov    $0x603870,%edi</span><br><span class="line">  4015fa:   e8 f1 f5 ff ff          callq  400bf0 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">  4015ff:   83 f8 03                cmp    $0x3,%eax</span><br><span class="line">  401602:   75 31                   jne    401635 &lt;phase_defused+0x71&gt;</span><br><span class="line">  401604:   be 22 26 40 00          mov    $0x402622,%esi</span><br><span class="line">  401609:   48 8d 7c 24 10          lea    0x10(%rsp),%rdi</span><br><span class="line">  40160e:   e8 25 fd ff ff          callq  401338 &lt;strings_not_equal&gt;</span><br><span class="line">  401613:   85 c0                   test   %eax,%eax</span><br><span class="line">  401615:   75 1e                   jne    401635 &lt;phase_defused+0x71&gt;</span><br><span class="line">  401617:   bf f8 24 40 00          mov    $0x4024f8,%edi</span><br><span class="line">  40161c:   e8 ef f4 ff ff          callq  400b10 &lt;puts@plt&gt;</span><br><span class="line">  401621:   bf 20 25 40 00          mov    $0x402520,%edi</span><br><span class="line">  401626:   e8 e5 f4 ff ff          callq  400b10 &lt;puts@plt&gt;</span><br><span class="line">  40162b:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">  401630:   e8 0d fc ff ff          callq  401242 &lt;secret_phase&gt;</span><br><span class="line">  401635:   bf 58 25 40 00          mov    $0x402558,%edi</span><br><span class="line">  40163a:   e8 d1 f4 ff ff          callq  400b10 &lt;puts@plt&gt;</span><br><span class="line">  40163f:   48 8b 44 24 68          mov    0x68(%rsp),%rax</span><br><span class="line">  401644:   64 48 33 04 25 28 00    xor    %fs:0x28,%rax</span><br><span class="line">  40164b:   00 00</span><br><span class="line">  40164d:   74 05                   je     401654 &lt;phase_defused+0x90&gt;</span><br><span class="line">  40164f:   e8 dc f4 ff ff          callq  400b30 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">  401654:   48 83 c4 78             add    $0x78,%rsp</span><br><span class="line">  401658:   c3                      retq</span><br><span class="line">  401659:   90                      nop</span><br><span class="line">  40165a:   90                      nop</span><br><span class="line">  40165b:   90                      nop</span><br><span class="line">  40165c:   90                      nop</span><br><span class="line">  40165d:   90                      nop</span><br><span class="line">  40165e:   90                      nop</span><br><span class="line">  40165f:   90                      nop</span><br></pre></td></tr></table></figure>
<p>注意到以下片段：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4015d6:   31 c0                   xor    %eax,%eax</span><br><span class="line">4015d8:   83 3d 81 21 20 00 06    cmpl   $0x6,0x202181(%rip)        # 603760 &lt;num_input_strings&gt;</span><br><span class="line">4015df:   75 5e                   jne    40163f &lt;phase_defused+0x7b&gt;</span><br><span class="line">...</span><br><span class="line">40163f:   48 8b 44 24 68          mov    0x68(%rsp),%rax</span><br><span class="line">401644:   64 48 33 04 25 28 00    xor    %fs:0x28,%rax</span><br><span class="line">40164b:   00 00</span><br><span class="line">40164d:   74 05                   je     401654 &lt;phase_defused+0x90&gt;</span><br><span class="line">40164f:   e8 dc f4 ff ff          callq  400b30 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">401654:   48 83 c4 78             add    $0x78,%rsp</span><br><span class="line">401658:   c3                      retq</span><br><span class="line">401659:   90                      nop</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>4015d6: <code>xor %eax,%eax</code> 将 %eax 寄存器设置为 <code>0</code>。</p>
<p>4015d8: <code>cmpl $0x6,0x202181(%rip)</code> 和 4015df: <code>jne 40163f</code> 判断 <code>0x202181(%rip)</code> 的值是否为 <code>6</code>，是则继续执行之后的语句，否则直接跳到 40163f: <code>mov 0x68(%rsp),%rax</code> 返回（这一段详见 5.2.1 节关于 stack canary 的阐述）。</p>
<p><code>0x202181(%rip)</code> 也就是 <code>(0x603760)</code> 存放的是什么？通过 gdb 发现，这个值的初始值为 <code>0</code>，而每通过一关后，这个值便加 <code>1</code>。结合注释（即变量名）<code># 603760</code>，推测它表示输入过的字符串数量，实际上也就是通过的关卡数量。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) x&#x2F;d 0x603760</span><br><span class="line">0x603760 &lt;num_input_strings&gt;:   0</span><br><span class="line">(gdb) b phase_1</span><br><span class="line">Breakpoint 2 at 0x400ee0</span><br><span class="line">(gdb) b phase_2</span><br><span class="line">Breakpoint 3 at 0x400efc</span><br><span class="line">(gdb) r</span><br><span class="line">Starting program: &#x2F;root&#x2F;Hakula&#x2F;csapp&#x2F;lab2&#x2F;bomb</span><br><span class="line">Welcome to my fiendish little bomb. You have 6 phases with</span><br><span class="line">which to blow yourself up. Have a nice day!</span><br><span class="line">Border relations with Canada have never been better.</span><br><span class="line"></span><br><span class="line">Breakpoint 2, 0x0000000000400ee0 in phase_1 ()</span><br><span class="line">(gdb) x&#x2F;d 0x603760</span><br><span class="line">0x603760 &lt;num_input_strings&gt;:   1</span><br><span class="line">(gdb) c</span><br><span class="line">Continuing.</span><br><span class="line">Phase 1 defused. How about the next one?</span><br><span class="line">1 2 4 8 16 32</span><br><span class="line"></span><br><span class="line">Breakpoint 3, 0x0000000000400efc in phase_2 ()</span><br><span class="line">(gdb) x&#x2F;d 0x603760</span><br><span class="line">0x603760 &lt;num_input_strings&gt;:   2</span><br><span class="line">(gdb)</span><br></pre></td></tr></table></figure>
<p>判断这个值是否为 <code>6</code>，也就是判断是否通过了全部 6 个关卡。因此这个隐藏关只有在 6 个关卡都顺利通过后才会开启。</p>
<p>剩下的片段也就是本函数与隐藏关相关的主体部分。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4015e1:   4c 8d 44 24 10          lea    0x10(%rsp),%r8</span><br><span class="line">4015e6:   48 8d 4c 24 0c          lea    0xc(%rsp),%rcx</span><br><span class="line">4015eb:   48 8d 54 24 08          lea    0x8(%rsp),%rdx</span><br><span class="line">4015f0:   be 19 26 40 00          mov    $0x402619,%esi</span><br><span class="line">4015f5:   bf 70 38 60 00          mov    $0x603870,%edi</span><br><span class="line">4015fa:   e8 f1 f5 ff ff          callq  400bf0 &lt;__isoc99_sscanf@plt&gt;</span><br></pre></td></tr></table></figure>
<p>这段代码我们已经十分熟悉。<code>0x402619</code> 指向的应该是一个格式化字符串。使用 gdb 查看地址 <code>0x402619</code> 存放的内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) x&#x2F;s 0x402619</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x402619:       &quot;%d %d %s&quot;</span><br></pre></td></tr></table></figure>
<p>因此，在某处我们需要按这个格式输入 2 个整数和 1 个字符串。这 2 个整数将被保存在 <code>0x8(%rsp)</code> 和 <code>0xc(%rsp)</code> 中，字符串将被保存在 <code>0x10(%rsp)</code> 中。需要注意的是这里还额外传入了一个地址 <code>0x603870</code>，根据我对系统函数 <code>sscanf</code> 的理解，这应当指的是那个被用来解析的字符串的地址。</p>
<p>读取完毕后，栈内保存的信息为：</p>
<blockquote>
<p>0x8(%rsp) = nums[0]<br>
0xc(%rsp) = nums[1]<br>
0x10(%rsp) = password</p>
</blockquote>
<p>其中，<code>nums[0]</code> 和 <code>nums[1]</code> 表示 <code>0x603870</code> 指向的字符串中解析得到的（前）2 个整数，<code>password</code> 表示之后解析得到的（前）1 个字符串。</p>
<p>在函数 <code>phase_defused</code> 的入口处设置一个断点。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) b phase_defused</span><br></pre></td></tr></table></figure>
<p>每通过一个关卡后，使用 gdb 查看地址 <code>0x603870</code> 存放的内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) x&#x2F;s 0x603870</span><br></pre></td></tr></table></figure>
<p>发现在通过 Phase 4 后，输出信息产生了变化：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x603870 &lt;input_strings+240&gt;:   &quot;7 0&quot;</span><br></pre></td></tr></table></figure>
<p>可见，<code>0x603870</code> 指向的是 Phase 4 中输入的字符串 <code>7 0</code>。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4015ff:   83 f8 03                cmp    $0x3,%eax</span><br><span class="line">401602:   75 31                   jne    401635 &lt;phase_defused+0x71&gt;</span><br><span class="line">...</span><br><span class="line">401630:   e8 0d fc ff ff          callq  401242 &lt;secret_phase&gt;</span><br><span class="line">401635:   bf 58 25 40 00          mov    $0x402558,%edi</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>4015ff: <code>cmp $0x3,%eax</code> 和 401602: <code>jne 401635</code> 判断函数 <code>sscanf</code> 的返回值是否为 <code>3</code>，是则继续执行之后的语句，否则直接跳到 401635: <code>mov $0x402558,%edi</code>，也就是跳过了隐藏关。</p>
<p>于是我们知道，在 Phase 4 中除了需要输入作为密码的 2 个整数外，还需要再额外输入 1 个字符串。这是开启隐藏关的前提条件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">401604:   be 22 26 40 00          mov    $0x402622,%esi</span><br><span class="line">401609:   48 8d 7c 24 10          lea    0x10(%rsp),%rdi</span><br><span class="line">40160e:   e8 25 fd ff ff          callq  401338 &lt;strings_not_equal&gt;</span><br><span class="line">401613:   85 c0                   test   %eax,%eax</span><br><span class="line">401615:   75 1e                   jne    401635 &lt;phase_defused+0x71&gt;</span><br><span class="line">...</span><br><span class="line">401630:   e8 0d fc ff ff          callq  401242 &lt;secret_phase&gt;</span><br><span class="line">401635:   bf 58 25 40 00          mov    $0x402558,%edi</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<blockquote>
<p>%rdi = 0x10(%rsp) = password<br>
%esi = 0x402622</p>
</blockquote>
<p>这段代码我们也已经十分熟悉。<code>0x402622</code> 指向的应该是一个字符串。使用 gdb 查看地址 <code>0x402622</code> 存放的内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(gdb) x&#x2F;s 0x402622</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x402622:       &quot;DrEvil&quot;</span><br></pre></td></tr></table></figure>
<p>此后，函数 <code>strings_not_equal</code> 检查 %rdi 和 %rsi 寄存器指向的字符串是否相等，即 <code>password</code> 是否等于 <code>DrEvil</code>，是则返回 <code>0</code>，否则返回 <code>1</code>。</p>
<p>401613: <code>test %eax,%eax</code> 和 401615: <code>jne 401635</code> 判断函数 <code>strings_not_equal</code> 的返回值是否为 <code>0</code>，是则继续执行之后的语句，否则直接跳到 401635: <code>mov $0x402558,%edi</code>，也就是跳过了隐藏关。</p>
<p>因此，在 Phase 4 中需要额外输入的 1 个字符串就是 <code>DrEvil</code>。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">401617:   bf f8 24 40 00          mov    $0x4024f8,%edi</span><br><span class="line">  40161c:   e8 ef f4 ff ff          callq  400b10 &lt;puts@plt&gt;</span><br><span class="line">  401621:   bf 20 25 40 00          mov    $0x402520,%edi</span><br><span class="line">  401626:   e8 e5 f4 ff ff          callq  400b10 &lt;puts@plt&gt;</span><br><span class="line">  40162b:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">  401630:   e8 0d fc ff ff          callq  401242 &lt;secret_phase&gt;</span><br><span class="line">  401635:   bf 58 25 40 00          mov    $0x402558,%edi</span><br><span class="line">  40163a:   e8 d1 f4 ff ff          callq  400b10 &lt;puts@plt&gt;</span><br></pre></td></tr></table></figure>
<p>这段就是输出几行提示文本，待会儿我们可以直接看到。以及，调用函数 <code>secret_phase</code> 开启隐藏关。</p>
<h5 id="822-开启隐藏关"><a class="markdownIt-Anchor" href="#822-开启隐藏关"></a> 8.2.2 开启隐藏关</h5>
<p>运行到 Phase 4 时，在 gdb 中输入修改后的字符串：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">7 0 DrEvil</span><br></pre></td></tr></table></figure>
<p>继续跑完全部 6 个关卡，输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12Curses, you&#39;ve found the secret phase!</span><br><span class="line">But finding it and solving it are quite different...</span><br></pre></td></tr></table></figure>
<h5 id="823-观察函数-secret_phase"><a class="markdownIt-Anchor" href="#823-观察函数-secret_phase"></a> 8.2.3 观察函数 secret_phase</h5>
<p>在 bomb.asm 中找到函数 <code>secret_phase</code> 对应的汇编语句：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;secret_phase&gt;:</span><br><span class="line">  401242:   53                      push   %rbx</span><br><span class="line">  401243:   e8 56 02 00 00          callq  40149e &lt;read_line&gt;</span><br><span class="line">  401248:   ba 0a 00 00 00          mov    $0xa,%edx</span><br><span class="line">  40124d:   be 00 00 00 00          mov    $0x0,%esi</span><br><span class="line">  401252:   48 89 c7                mov    %rax,%rdi</span><br><span class="line">  401255:   e8 76 f9 ff ff          callq  400bd0 &lt;strtol@plt&gt;</span><br><span class="line">  40125a:   48 89 c3                mov    %rax,%rbx</span><br><span class="line">  40125d:   8d 40 ff                lea    -0x1(%rax),%eax</span><br><span class="line">  401260:   3d e8 03 00 00          cmp    $0x3e8,%eax</span><br><span class="line">  401265:   76 05                   jbe    40126c &lt;secret_phase+0x2a&gt;</span><br><span class="line">  401267:   e8 ce 01 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  40126c:   89 de                   mov    %ebx,%esi</span><br><span class="line">  40126e:   bf f0 30 60 00          mov    $0x6030f0,%edi</span><br><span class="line">  401273:   e8 8c ff ff ff          callq  401204 &lt;fun7&gt;</span><br><span class="line">  401278:   83 f8 02                cmp    $0x2,%eax</span><br><span class="line">  40127b:   74 05                   je     401282 &lt;secret_phase+0x40&gt;</span><br><span class="line">  40127d:   e8 b8 01 00 00          callq  40143a &lt;explode_bomb&gt;</span><br><span class="line">  401282:   bf 38 24 40 00          mov    $0x402438,%edi</span><br><span class="line">  401287:   e8 84 f8 ff ff          callq  400b10 &lt;puts@plt&gt;</span><br><span class="line">  40128c:   e8 33 03 00 00          callq  4015c4 &lt;phase_defused&gt;</span><br><span class="line">  401291:   5b                      pop    %rbx</span><br><span class="line">  401292:   c3                      retq</span><br><span class="line">  401293:   90                      nop</span><br><span class="line">  401294:   90                      nop</span><br><span class="line">  401295:   90                      nop</span><br><span class="line">  401296:   90                      nop</span><br><span class="line">  401297:   90                      nop</span><br><span class="line">  401298:   90                      nop</span><br><span class="line">  401299:   90                      nop</span><br><span class="line">  40129a:   90                      nop</span><br><span class="line">  40129b:   90                      nop</span><br><span class="line">  40129c:   90                      nop</span><br><span class="line">  40129d:   90                      nop</span><br><span class="line">  40129e:   90                      nop</span><br><span class="line">  40129f:   90                      nop</span><br></pre></td></tr></table></figure>
<p>401243: <code>callq 40149e</code> 调用函数 <code>read_line</code>，其返回值（即输入的一行字符串 <code>str</code>）保存在 %rax 寄存器。</p>
<blockquote>
<p>%rax = str</p>
</blockquote>
<p>401248: <code>mov $0xa,%edx</code> 和 40124d: <code>mov $0x0,%esi</code> 将 %edx 和 %esi 寄存器分别设置为 <code>10</code> 和 <code>0</code>。</p>
<blockquote>
<p>%esi = 0<br>
%edx = 10</p>
</blockquote>
<p>400e37: <code>mov %rax,%rdi</code> 将 %rax 寄存器保存的地址传给了 %rdi 寄存器。</p>
<blockquote>
<p>%rdi = %rax = str</p>
</blockquote>
<p>401255: <code>callq 400bd0</code> 调用系统函数 <code>strtol</code>。可以推测出这个函数的作用是将字符串转化为整数，但我对它的参数用法不是很了解。查阅资料得，传入的第 1 个参数 %rdi 是被用来解析的字符串的地址 <code>str</code>，第 2 个参数 %esi 是字符串中需要解析部分的结束地址（这里我们传入的是 <code>NULL</code>，表示不使用这个参数），第 3 个参数 %edx 是这个整数的底数（这里我们传入的是 <code>10</code>，表示十进制）[^7]。最后函数返回值保存在 %rax 寄存器中。</p>
<p>总之，这部分的作用就是读入一个多位的整数。</p>
<blockquote>
<p>%rax = num</p>
</blockquote>
<p>其中，<code>num</code> 表示输入的字符串解析得到的多位整数。</p>
<p>400e37: <code>mov %rax,%rbx</code> 和 40125d: <code>lea -0x1(%rax),%eax</code> 将 %rax 的值传给了 %rbx 寄存器，然后 %rax 的值减 1。</p>
<blockquote>
<p>%rbx = %rax = num<br>
%eax = %rax - 1 = num - 1</p>
</blockquote>
<p>401260: <code>cmp $0x3e8,%eax</code> 和 401265: <code>jbe 40126c</code> 判断 %eax 的值是否不超过 <code>0x3e8</code>，是则直接跳到 40126c: <code>mov %ebx,%esi</code>，否则执行 40143a: <code>callq 40143a</code> 引爆炸弹。</p>
<p>因此，输入的整数应当不超过 <code>1001</code>（无符号数）。</p>
<p>40126c: <code>mov %ebx,%esi</code> 和 40126e: <code>mov $0x6030f0,%edi</code> 将 %ebx 的值传给了 %esi 寄存器，将地址 <code>0x6030f0</code> 传给了 %edi 寄存器。</p>
<blockquote>
<p>%edi = 0x6030f0<br>
%esi = %ebx = num</p>
</blockquote>
<p>401273: <code>callq 401204</code> 调用函数 <code>fun7</code>，也就是本关的主体部分。</p>
<p>401278: <code>cmp $0x2,%eax</code> 和 40127b: <code>je 401282</code> 判断函数 <code>fun7</code> 的返回值是否为 <code>2</code>，是则直接跳到 401282: <code>mov $0x402438,%edi</code>，否则执行 40143a: <code>callq 40143a</code> 引爆炸弹。</p>
<p>因此，函数 <code>fun7</code> 的返回值应当为 <code>2</code>。</p>
<p>之后就是输出一行提示文本，以及一些收尾工作。</p>
<h5 id="824-观察函数-fun7"><a class="markdownIt-Anchor" href="#824-观察函数-fun7"></a> 8.2.4 观察函数 fun7</h5>
<p>在 bomb.asm 中找到函数 <code>fun7</code> 对应的汇编语句：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;fun7&gt;:</span><br><span class="line">  401204:   48 83 ec 08             sub    $0x8,%rsp</span><br><span class="line">  401208:   48 85 ff                test   %rdi,%rdi</span><br><span class="line">  40120b:   74 2b                   je     401238 &lt;fun7+0x34&gt;</span><br><span class="line">  40120d:   8b 17                   mov    (%rdi),%edx</span><br><span class="line">  40120f:   39 f2                   cmp    %esi,%edx</span><br><span class="line">  401211:   7e 0d                   jle    401220 &lt;fun7+0x1c&gt;</span><br><span class="line">  401213:   48 8b 7f 08             mov    0x8(%rdi),%rdi</span><br><span class="line">  401217:   e8 e8 ff ff ff          callq  401204 &lt;fun7&gt;</span><br><span class="line">  40121c:   01 c0                   add    %eax,%eax</span><br><span class="line">  40121e:   eb 1d                   jmp    40123d &lt;fun7+0x39&gt;</span><br><span class="line">  401220:   b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">  401225:   39 f2                   cmp    %esi,%edx</span><br><span class="line">  401227:   74 14                   je     40123d &lt;fun7+0x39&gt;</span><br><span class="line">  401229:   48 8b 7f 10             mov    0x10(%rdi),%rdi</span><br><span class="line">  40122d:   e8 d2 ff ff ff          callq  401204 &lt;fun7&gt;</span><br><span class="line">  401232:   8d 44 00 01             lea    0x1(%rax,%rax,1),%eax</span><br><span class="line">  401236:   eb 05                   jmp    40123d &lt;fun7+0x39&gt;</span><br><span class="line">  401238:   b8 ff ff ff ff          mov    $0xffffffff,%eax</span><br><span class="line">  40123d:   48 83 c4 08             add    $0x8,%rsp</span><br><span class="line">  401241:   c3                      retq</span><br></pre></td></tr></table></figure>
<p>401217 和 40122d: <code>callq 401204</code> 都调用了函数 <code>fun7</code> 自身，可见这是一个递归函数。</p>
<p>试译成 C 语言代码：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// p_node in %rdi, target in %esi</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fun7</span><span class="params">(<span class="keyword">int</span>* p_node, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p_node == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0xffffffff</span>;</span><br><span class="line">    cur_num = *p_node;                          <span class="comment">// cur_num in %edx</span></span><br><span class="line">    <span class="keyword">if</span> (cur_num &gt; target) &#123;</span><br><span class="line">        p_node = *(p_node + <span class="number">1</span>);</span><br><span class="line">        result = fun7(p_node, target);          <span class="comment">// result in %eax</span></span><br><span class="line">        <span class="keyword">return</span> result * <span class="number">2</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur_num == target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;                                    <span class="comment">// cur_num &lt; target</span></span><br><span class="line">        result = <span class="number">0</span>;</span><br><span class="line">        p_node = *(p_node + <span class="number">2</span>);</span><br><span class="line">        result = fun7(p_node, target);</span><br><span class="line">        <span class="keyword">return</span> result * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如此这个递归函数的作用就很清晰了。</p>
<h5 id="825-确定输入的整数"><a class="markdownIt-Anchor" href="#825-确定输入的整数"></a> 8.2.5 确定输入的整数</h5>
<p>接下来，使用 gdb 查看作为参数传入的地址 <code>0x6030f0</code> 开始的连续内存中的值（经试验可知第 60 个 8 bytes 之后的地址中存放的都是无关数据，因此这里只需显示前 60 个地址）：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x&#x2F;60xg 0x6030f0</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0x6030f0 &lt;n1&gt;:   0x0000000000000024      0x0000000000603110</span><br><span class="line">0x603100 &lt;n1+16&gt;:        0x0000000000603130       0x0000000000000000</span><br><span class="line">0x603110 &lt;n21&gt;:  0x0000000000000008      0x0000000000603190</span><br><span class="line">0x603120 &lt;n21+16&gt;:       0x0000000000603150       0x0000000000000000</span><br><span class="line">0x603130 &lt;n22&gt;:  0x0000000000000032      0x0000000000603170</span><br><span class="line">0x603140 &lt;n22+16&gt;:       0x00000000006031b0       0x0000000000000000</span><br><span class="line">0x603150 &lt;n32&gt;:  0x0000000000000016      0x0000000000603270</span><br><span class="line">0x603160 &lt;n32+16&gt;:       0x0000000000603230       0x0000000000000000</span><br><span class="line">0x603170 &lt;n33&gt;:  0x000000000000002d      0x00000000006031d0</span><br><span class="line">0x603180 &lt;n33+16&gt;:       0x0000000000603290       0x0000000000000000</span><br><span class="line">0x603190 &lt;n31&gt;:  0x0000000000000006      0x00000000006031f0</span><br><span class="line">0x6031a0 &lt;n31+16&gt;:       0x0000000000603250       0x0000000000000000</span><br><span class="line">0x6031b0 &lt;n34&gt;:  0x000000000000006b      0x0000000000603210</span><br><span class="line">0x6031c0 &lt;n34+16&gt;:       0x00000000006032b0       0x0000000000000000</span><br><span class="line">0x6031d0 &lt;n45&gt;:  0x0000000000000028      0x0000000000000000</span><br><span class="line">0x6031e0 &lt;n45+16&gt;:       0x0000000000000000       0x0000000000000000</span><br><span class="line">0x6031f0 &lt;n41&gt;:  0x0000000000000001      0x0000000000000000</span><br><span class="line">0x603200 &lt;n41+16&gt;:       0x0000000000000000       0x0000000000000000</span><br><span class="line">0x603210 &lt;n47&gt;:  0x0000000000000063      0x0000000000000000</span><br><span class="line">0x603220 &lt;n47+16&gt;:       0x0000000000000000       0x0000000000000000</span><br><span class="line">0x603230 &lt;n44&gt;:  0x0000000000000023      0x0000000000000000</span><br><span class="line">0x603240 &lt;n44+16&gt;:       0x0000000000000000       0x0000000000000000</span><br><span class="line">0x603250 &lt;n42&gt;:  0x0000000000000007      0x0000000000000000</span><br><span class="line">0x603260 &lt;n42+16&gt;:       0x0000000000000000       0x0000000000000000</span><br><span class="line">0x603270 &lt;n43&gt;:  0x0000000000000014      0x0000000000000000</span><br><span class="line">0x603280 &lt;n43+16&gt;:       0x0000000000000000       0x0000000000000000</span><br><span class="line">0x603290 &lt;n46&gt;:  0x000000000000002f      0x0000000000000000</span><br><span class="line">0x6032a0 &lt;n46+16&gt;:       0x0000000000000000       0x0000000000000000</span><br><span class="line">0x6032b0 &lt;n48&gt;:  0x00000000000003e9      0x0000000000000000</span><br><span class="line">0x6032c0 &lt;n48+16&gt;:       0x0000000000000000       0x0000000000000000</span><br></pre></td></tr></table></figure>
<p>结合 8.2.4 节译出的函数 <code>fun7</code> 代码，可以发现这是一个二叉树。二叉树中每个结点是一个结构体，结点所在的地址指向的是数据 <code>val</code>，加上 <code>0x8</code> 后指向的是指针 <code>left</code>，加上 <code>0x10</code> 后指向的是指针 <code>right</code>。</p>
<p>因此，<code>fun7</code> 函数中的 <code>*p_node</code> 即 <code>p_node-&gt;val</code>，<code>*(p_node + 1)</code> 即 <code>p_node-&gt;left</code>，<code>*(p_node + 2)</code> 即 <code>p_node-&gt;right</code>。</p>
<p>根据之前 gdb 的输出信息绘制二叉树（数据已转化为十进制）：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">            36</span><br><span class="line">         ／        ＼</span><br><span class="line">      8               50</span><br><span class="line">   ／   ＼          ／   ＼</span><br><span class="line">  6      22       45      107</span><br><span class="line"> &#x2F; \    &#x2F;  \     &#x2F;  \    &#x2F;   \</span><br><span class="line">1   7  20  35   40  47  99  1001</span><br></pre></td></tr></table></figure>
<p>可以发现这其实是一个 BST（Binary Search Tree，二叉查找树），而函数 <code>fun7</code> 的作用为：</p>
<ol>
<li>如果当前结点为 <code>NULL</code>，则返回 <code>0xffffffff</code>（直接爆了）；</li>
<li>如果找到了 <code>target</code>，则返回 <code>0</code>；</li>
<li>如果当前结点的值大于 <code>target</code>，则继续搜索左子树，返回时将左子树的返回值 <code>* 2</code>；</li>
<li>如果当前结点的值小于 <code>target</code>，则继续搜索右子树，返回时将右子树的返回值 <code>* 2 + 1</code>。</li>
</ol>
<p>起始时从根结点 <code>36</code> 开始查找，现在问题转化为：求 <code>target</code> 为何值时，最终的返回值为 <code>2</code>。</p>
<p>由之前的分析，返回值为 <code>2</code> 的条件为：</p>
<ol>
<li>最终找到 <code>target</code> 的值（<code>return 0</code>），此后可以沿右路返回任意次（<code>return 0</code>）；</li>
<li>然后沿左路返回（<code>return 1</code>）；</li>
<li>最后沿右路返回（<code>return 2</code>）。</li>
</ol>
<p>满足条件的结点的值有 2 个：<code>22</code>, <code>20</code>，即为所求。</p>
<p>于是得到本关的 2 个解：<code>22</code>, <code>20</code>。</p>
<h5 id="826-测试"><a class="markdownIt-Anchor" href="#826-测试"></a> 8.2.6 测试</h5>
<p>这里以 <code>22</code> 为例，在 gdb 中输入 Secret phase 的密码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">22</span><br></pre></td></tr></table></figure>
<p>输出信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">12Wow! You&#39;ve defused the secret stage!</span><br><span class="line">Congratulations! You&#39;ve defused the bomb!</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>汇编</tag>
        <tag>CSAPP</tag>
      </tags>
  </entry>
  <entry>
    <title>Attack Lab实验报告</title>
    <url>/2020/04/02/1/</url>
    <content><![CDATA[<p><img src="/2020/04/02/1/csapp.jpg" alt></p>
<a id="more"></a>
<h1 id="csapp-attack-lab-解题报告"><a class="markdownIt-Anchor" href="#csapp-attack-lab-解题报告"></a> CSAPP Attack Lab 解题报告</h1>
<h2 id="level1"><a class="markdownIt-Anchor" href="#level1"></a> Level1:</h2>
<h3 id="目标执行touch1函数"><a class="markdownIt-Anchor" href="#目标执行touch1函数"></a> 目标：执行touch1函数：</h3>
<p>在本题的讲义中给出了<code>getbuf</code>、<code>test</code>和<code>touch1</code>三个函数的C语言描述：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="title">getbuf</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> buf[BUFFER_SIZE];</span><br><span class="line">    Gets(buf);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    val = getbuf();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"No exploit. Getbuf returned 0x%x\n"</span>, val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">touch1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vlevel = <span class="number">1</span>; <span class="comment">/* Part of validation protocol */</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Touch1!: You called touch1()\n"</span>);</span><br><span class="line">    validate(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该题的意图是我们应当利用<code>getbuf</code>中的缓冲区溢出漏洞使得执行<code>getbuf</code>之后重定向至<code>touch1</code>即可。因此我们需要确定<code>BUFFER_SIZE</code>的大小以及<code>touch1</code>函数所在的地址。</p>
<h4 id="首先反编译ctarget"><a class="markdownIt-Anchor" href="#首先反编译ctarget"></a> 首先反编译ctarget</h4>
<p>在Linux上使用命令：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">objdump -d ctarget &gt; ctarget.asm</span><br></pre></td></tr></table></figure>
<p>将<code>ctarget</code>反汇编成<code>ctarget.asm</code></p>
<h4 id="在ctarget上搜索touch1函数以及getbuf函数可以使用编辑器代码搜索功能"><a class="markdownIt-Anchor" href="#在ctarget上搜索touch1函数以及getbuf函数可以使用编辑器代码搜索功能"></a> 在ctarget上搜索touch1函数以及getbuf函数（可以使用编辑器代码搜索功能）</h4>
<p>可以发现getbuf的汇编代码如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">00000000004017a8 &lt;getbuf&gt;:</span><br><span class="line">  4017a8:  48 83 ec 28            sub    $0x28,%rsp</span><br><span class="line">  4017ac:  48 89 e7               mov    %rsp,%rdi</span><br><span class="line">  4017af:  e8 ac 03 00 00         callq  401b60 &lt;Gets&gt;</span><br><span class="line">  4017b4:  b8 01 00 00 00         mov    $0x1,%eax</span><br><span class="line">  4017b9:  48 83 c4 28            add    $0x28,%rsp</span><br><span class="line">  4017bd:  c3                     retq   </span><br><span class="line">  4017be:  90                     nop</span><br><span class="line">  4017bf:  90                     nop</span><br></pre></td></tr></table></figure>
<p>从这里我们可以观察到<code>getbuf</code>函数首先执行了将rsp寄存器减去0x28这个操作，即将栈顶指针向下移40个比特位，因此我们可以推断出<code>BUFFER_SIZE</code>的大小为40。</p>
<p>之后我们可以同样使用这种方法搜索touch1函数：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">00000000004017c0 &lt;touch1&gt;:</span><br><span class="line">  4017c0:  48 83 ec 08            sub    $0x8,%rsp</span><br><span class="line">  4017c4:  c7 05 0e 3d 20 00 01   movl   $0x1,0x203d0e(%rip)        # 6054dc &lt;vlevel&gt;</span><br><span class="line">  4017cb:  00 00 00 </span><br><span class="line">  4017ce:  bf e5 31 40 00         mov    $0x4031e5,%edi</span><br><span class="line">  4017d3:  e8 e8 f4 ff ff         callq  400cc0 &lt;puts@plt&gt;</span><br><span class="line">  4017d8:  bf 01 00 00 00         mov    $0x1,%edi</span><br><span class="line">  4017dd:  e8 cb 05 00 00         callq  401dad &lt;validate&gt;</span><br><span class="line">  4017e2:  bf 00 00 00 00         mov    $0x0,%edi</span><br><span class="line">  4017e7:  e8 54 f6 ff ff         callq  400e40 &lt;exit@plt&gt;</span><br></pre></td></tr></table></figure>
<p>在该段汇编代码中，我们同样可以看出touch1函数的地址为0x4017c0。</p>
<p>因此编写输入数据就简单了。</p>
<p>首先打开一个文件写入数据：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim touch1.txt</span><br></pre></td></tr></table></figure>
<p>编辑文件如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">c0 17 40 00</span><br></pre></td></tr></table></figure>
<p>前40位可以任意填充，在40位后即为缓存区溢出位，这里压入的是函数返回地址，因此将<code>touch1</code>函数的地址写入即可在<code>ret</code>之后返回至<code>touch1</code>函数并执行。</p>
<p>最终我们使用hex2raw工具执行代码：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat touch1.txt | ./hex2raw | ./ctarget -q</span><br></pre></td></tr></table></figure>
<p>最终运行结果如下：</p>
<p><img src="/2020/04/02/1/level1.png" alt></p>
<h2 id="level2"><a class="markdownIt-Anchor" href="#level2"></a> Level2:</h2>
<h3 id="目标执行函数touch2并传入cookie的值作为参数val"><a class="markdownIt-Anchor" href="#目标执行函数touch2并传入cookie的值作为参数val"></a> 目标：执行函数touch2,并传入cookie的值作为参数val</h3>
<p>同样，在本题中也给出了<code>touch2</code>的函数实现</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">touch2</span><span class="params">(<span class="keyword">unsigned</span> val)</span></span>&#123;</span><br><span class="line">    vlevel = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (val == cookie)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Touch2!: You called touch2(0x%.8x)\n"</span>, val);</span><br><span class="line">        validate(<span class="number">2</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Misfire: You called touch2(0x%.8x)\n"</span>, val);</span><br><span class="line">        fail(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过在反汇编中寻找<code>touch2</code>代码，我们发现<code>touch2</code>的汇编语言如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">00000000004017ec &lt;touch2&gt;:</span><br><span class="line">  4017ec:  48 83 ec 08            sub    $0x8,%rsp</span><br><span class="line">  4017f0:  89 fa                  mov    %edi,%edx</span><br><span class="line">  4017f2:  c7 05 e0 3c 20 00 02   movl   $0x2,0x203ce0(%rip)        # 6054dc &lt;vlevel&gt;</span><br><span class="line">  4017f9:  00 00 00 </span><br><span class="line">  4017fc:  3b 3d e2 3c 20 00      cmp    0x203ce2(%rip),%edi        # 6054e4 &lt;cookie&gt;</span><br><span class="line">  401802:  75 20                  jne    401824 &lt;touch2+0x38&gt;</span><br><span class="line">  401804:  be 08 32 40 00         mov    $0x403208,%esi</span><br><span class="line">  401809:  bf 01 00 00 00         mov    $0x1,%edi</span><br><span class="line">  40180e:  b8 00 00 00 00         mov    $0x0,%eax</span><br><span class="line">  401813:  e8 d8 f5 ff ff         callq  400df0 &lt;__printf_chk@plt&gt;</span><br><span class="line">  401818:  bf 02 00 00 00         mov    $0x2,%edi</span><br><span class="line">  40181d:  e8 8b 05 00 00         callq  401dad &lt;validate&gt;</span><br><span class="line">  401822:  eb 1e                  jmp    401842 &lt;touch2+0x56&gt;</span><br><span class="line">  401824:  be 30 32 40 00         mov    $0x403230,%esi</span><br><span class="line">  401829:  bf 01 00 00 00         mov    $0x1,%edi</span><br><span class="line">  40182e:  b8 00 00 00 00         mov    $0x0,%eax</span><br><span class="line">  401833:  e8 b8 f5 ff ff         callq  400df0 &lt;__printf_chk@plt&gt;</span><br><span class="line">  401838:  bf 02 00 00 00         mov    $0x2,%edi</span><br><span class="line">  40183d:  e8 2d 06 00 00         callq  401e6f &lt;fail&gt;</span><br><span class="line">  401842:  bf 00 00 00 00         mov    $0x0,%edi</span><br><span class="line">  401847:  e8 f4 f5 ff ff         callq  400e40 &lt;exit@plt&gt;</span><br></pre></td></tr></table></figure>
<p>同样，我们找到了<code>touch2</code>函数的地址为<code>0x4017</code>。</p>
<p>由于本题需要在<code>touch2</code>中传入<code>cookie</code>参数才能执行成功，因此我们需要在输入文件中注入代码，并且将函数返回地址修改为代码注入的地址以实现代码注入攻击，因此我们需要知道<code>getbuf</code>函数栈顶地址（因为在此处我们需要注入代码）。</p>
<p>使用GDB调试一下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gdb ctarget</span><br><span class="line"></span><br><span class="line">(gdb) set args -q</span><br><span class="line"></span><br><span class="line">(gdb) b getbuf</span><br><span class="line"></span><br><span class="line">(gdb) r </span><br><span class="line"></span><br><span class="line">(gdb) ni </span><br><span class="line"></span><br><span class="line">(gdb) p/x $rsp</span><br></pre></td></tr></table></figure>
<p>在命令行中我们调试ctarget程序并且在getbuf函数上打断点，在<code>getbuf</code>执行一步过后，即<code>sub $0x28 ,%rsp</code>之后我们查看<code>$rsp</code>寄存器的值，输出：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">1 = 0x5561dc78</span></span><br></pre></td></tr></table></figure>
<p>接下来我们使用vim编辑注入汇编代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mov    $0x59b997fa,%rdi</span><br><span class="line">push   $0x4017ec</span><br><span class="line">ret</span><br></pre></td></tr></table></figure>
<p>然后将汇编代码后编译后再进行反编译以获取机器代码：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gcc -c touch2.s</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">objdump -d touch2.o</span><br></pre></td></tr></table></figure>
<p>然后可以获取<code>touch2</code>的机器级代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">48 c7 c7 fa 97 b9 59 </span><br><span class="line"></span><br><span class="line">68 ec 17 40 00</span><br><span class="line"></span><br><span class="line">c3</span><br></pre></td></tr></table></figure>
<p>基于以上的信息我们就可以编辑输入文件了！</p>
<p>输入文件如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">48 c7 c7 fa 97 b9 59 68</span><br><span class="line">ec 17 40 00 c3 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">78 dc 61 55 00 00 00 00</span><br></pre></td></tr></table></figure>
<p>在栈顶进行代码注入，同时在溢出去返回栈顶地址。</p>
<p>使用<code>hex2raw</code>进行输入。</p>
<p>结果如下：</p>
<p><img src="/2020/04/02/1/level2.png" alt></p>
<h2 id="level3"><a class="markdownIt-Anchor" href="#level3"></a> level3:</h2>
<h3 id="目标执行函数touch3并传入cookie的值的字符串作为参数sval"><a class="markdownIt-Anchor" href="#目标执行函数touch3并传入cookie的值的字符串作为参数sval"></a> 目标：执行函数touch3，并传入cookie的值的字符串作为参数sval</h3>
<p>与level2类似，区别在于我们这次需要构造一个字符串，而不是直接传一个整数，需要注意字符串保存位置。</p>
<p>讲义给出了<code>hexmatch</code>和<code>touch3</code>的代码：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hexmatch</span><span class="params">(<span class="keyword">unsigned</span> val, <span class="keyword">char</span> *sval)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> cbuf[<span class="number">110</span>];</span><br><span class="line">    <span class="keyword">char</span> *s = cbuf + <span class="built_in">random</span>() % <span class="number">100</span>;</span><br><span class="line">    <span class="built_in">sprintf</span>(s, <span class="string">"%.8x"</span>, val);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strncmp</span>(sval, s, <span class="number">9</span>) == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">touch3</span><span class="params">(<span class="keyword">char</span> *sval)</span></span>&#123;</span><br><span class="line">    vlevel = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">if</span> (hexmatch(cookie, sval))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Touch3!: You called touch3(\"%s\")\n"</span>, sval);</span><br><span class="line">        validate(<span class="number">3</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Misfire: You called touch3(\"%s\")\n"</span>, sval);</span><br><span class="line">        fail(<span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可见需要传入表示 <code>cookie</code> 的值的字符串作为参数 <code>sval</code>。同时函数 <code>hexmatch</code> 的设计使得直接获取用于检验的字符串较为困难，因此我们需要自行构造这个字符串。</p>
<p>因此我们需要查看touch3的地址：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">00000000004018fa &lt;touch3&gt;:</span><br><span class="line">  4018fa:  53                     push   %rbx</span><br><span class="line">  4018fb:  48 89 fb               mov    %rdi,%rbx</span><br><span class="line">  4018fe:  c7 05 d4 3b 20 00 03   movl   $0x3,0x203bd4(%rip)        # 6054dc &lt;vlevel&gt;</span><br><span class="line">  401905:  00 00 00 </span><br><span class="line">  401908:  48 89 fe               mov    %rdi,%rsi</span><br><span class="line">  40190b:  8b 3d d3 3b 20 00      mov    0x203bd3(%rip),%edi        # 6054e4 &lt;cookie&gt;</span><br><span class="line">  401911:  e8 36 ff ff ff         callq  40184c &lt;hexmatch&gt;</span><br><span class="line">  401916:  85 c0                  test   %eax,%eax</span><br><span class="line">  401918:  74 23                  je     40193d &lt;touch3+0x43&gt;</span><br><span class="line">  40191a:  48 89 da               mov    %rbx,%rdx</span><br><span class="line">  40191d:  be 58 32 40 00         mov    $0x403258,%esi</span><br><span class="line">  401922:  bf 01 00 00 00         mov    $0x1,%edi</span><br><span class="line">  401927:  b8 00 00 00 00         mov    $0x0,%eax</span><br><span class="line">  40192c:  e8 bf f4 ff ff         callq  400df0 &lt;__printf_chk@plt&gt;</span><br><span class="line">  401931:  bf 03 00 00 00         mov    $0x3,%edi</span><br><span class="line">  401936:  e8 72 04 00 00         callq  401dad &lt;validate&gt;</span><br><span class="line">  40193b:  eb 21                  jmp    40195e &lt;touch3+0x64&gt;</span><br><span class="line">  40193d:  48 89 da               mov    %rbx,%rdx</span><br><span class="line">  401940:  be 80 32 40 00         mov    $0x403280,%esi</span><br><span class="line">  401945:  bf 01 00 00 00         mov    $0x1,%edi</span><br><span class="line">  40194a:  b8 00 00 00 00         mov    $0x0,%eax</span><br><span class="line">  40194f:  e8 9c f4 ff ff         callq  400df0 &lt;__printf_chk@plt&gt;</span><br><span class="line">  401954:  bf 03 00 00 00         mov    $0x3,%edi</span><br><span class="line">  401959:  e8 11 05 00 00         callq  401e6f &lt;fail&gt;</span><br><span class="line">  40195e:  bf 00 00 00 00         mov    $0x0,%edi</span><br><span class="line">  401963:  e8 d8 f4 ff ff         callq  400e40 &lt;exit@plt&gt;</span><br></pre></td></tr></table></figure>
<p>touch3的汇编代码如上所示，了解到<code>touch3</code>的地址为<code>0x4018fa</code>，因此我们可以基于此地址构造注入代码。在写注入代码前我们还需要了解到<code>cookie</code>数值的字符串表示，以及该字符串在栈中存放位置。</p>
<p>其中cookie的字符串表示可以通过查询ASCII码表或者使用高级语言输出来获得。</p>
<p>关于字符串在栈中的存放位置，我们可以试想一下，如果将cookie字符串的编码放在返回地址下面的时候，当我们<code>return</code>至<code>touch3</code>所在函数时会进行数据的入栈，因此当从栈中地址取出字符串参数时，该字符串已经被破坏掉了，因此我们需要将cookie字符串放在return地址的上面，为了安全起见，我们将<code>cookie</code>的值设置为<code>%rsp+48</code>的位置。</p>
<p>接下来编辑汇编代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mov $0x5561dca8,%rdi</span><br><span class="line">push $0x4018fa</span><br><span class="line">ret</span><br></pre></td></tr></table></figure>
<p>其中<code>0x5561dca8</code>这个地址是将栈顶指针加上48得到的。</p>
<p>之后，同level2一样，我们对注入代码进行汇编、反汇编获取机器码，这里不再赘述。</p>
<p>获取到的机器码为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">48 c7 c7 a8 dc 61 55</span><br><span class="line"></span><br><span class="line">68 fa 18 40 00</span><br><span class="line"></span><br><span class="line">c3</span><br></pre></td></tr></table></figure>
<p>在之后我们就可以编写输入文件了。</p>
<p>输入文件如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">48 c7 c7 a8</span><br><span class="line">dc 61 55 68</span><br><span class="line">fa 18 40 00</span><br><span class="line">c3 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">00 00 00 00</span><br><span class="line">78 dc 61 55</span><br><span class="line">00 00 00 00</span><br><span class="line">35 39 62 39</span><br><span class="line">39 37 66 61</span><br></pre></td></tr></table></figure>
<p>然后继续使用<code>hex2raw</code>工具进行输入。</p>
<p>输入结果如下：</p>
<p><img src="/2020/04/02/1/level3.png" alt></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>汇编</tag>
        <tag>CSAPP</tag>
      </tags>
  </entry>
  <entry>
    <title>伴随岁月流逝的“严谨”</title>
    <url>/2020/03/27/1/</url>
    <content><![CDATA[<p>两周以前我看了《大赢家》这部电影，想写些东西，奈何太忙而被搁置了，现在我的感受已经只剩那么零零星星的一点了，但我依然想把它们记录下来。说实话，其实《大赢家》这部电影并不能算是好的电影，但是主人公的形象是十分特别的，因为他总能让我想起我年轻的时候（大概是我上小学的时候）。</p>
<a id="more"></a>
<p>那时的我简直和故事的主人公一模一样，倒不是说做事严谨，就是对每件事情都很认真对待。举几个我到现在还记忆清晰的例子来说明一下。当时我上小学三年级，老师在前面写板书，让我们安静看书，可是不一会儿全班的同学就开始交头接耳，然后就喧嚷起来。于是我就忍不了了，当时我把老师的话看做圣旨，觉得那些不听老师话的都是坏孩子。然后我大喊了一声“别吵了！”，我的嗓门很大，我喊完以后全班就没一个人说话了，因为他们惊呆了，没有人会想到我敢干出这种事。可是结果怎么样呢？我被老师教训了，我不是班长，不是纪律委员，却越俎代庖地干了他们该干的事，结果我被训了，我认为我的出发点是好的，但是因为我这一行为遭到了几乎所有人的“不理解”与“偏见”，所以之后我就再也不干这种事了。</p>
<p>还有一件事是，在一次语文默写课文的时候，我发现我旁边的两位同学正在“作弊”，于是我就又忍不了了，我就告诉她们我要去老师那里告发她们，她们很慌张，于是拿出“火腿肠”来贿赂我，但是我没有接受（其实我是回族，接受了也不能吃），但是我忘记了为什么我最终也没有告发她们，也许当时我已经发现这种对待事情特别“较真”的态度其实不管放到哪个圈子里都是行不通的，因为他们其实并不把这叫做“认真”，而是叫做“情商低”、“爱较真”。</p>
<p>于是我也沦落到现在这样了，我也经常“作弊”，并且不再把这些看做什么了不得的事，因为我身边的人都是这么做的。但其实我内心是真的厌恶某些人、某些事情，但我不会这么勇敢地表达出来了。因为我害怕被那些人情世故所撕碎，被那些圈子所排斥。其实我更多地发现，我们每个人外面都披着一层“皇帝的新衣”，我们有一肚子的实话想对一些人讲出来，但我们不会讲。</p>
<p>因为恐惧…</p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
      <tags>
        <tag>人生</tag>
      </tags>
  </entry>
  <entry>
    <title>Data Lab实验报告</title>
    <url>/2020/03/10/1/</url>
    <content><![CDATA[<p><img src="/2020/03/10/1/csapp.jpg" alt></p>
<a id="more"></a>
<h1 id="csapp-data-lab实验报告"><a class="markdownIt-Anchor" href="#csapp-data-lab实验报告"></a> CSAPP Data Lab实验报告</h1>
<h5 id="1isasciidightint-x"><a class="markdownIt-Anchor" href="#1isasciidightint-x"></a> 1.<code>isAsciiDight(int x)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int isAsciiDigit(int x) &#123;</span><br><span class="line">    return(!((x+~48+1)&gt;&gt;31))&amp;!!((x+~58+1)&gt;&gt;31);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思想：</strong></p>
<p>题目要求当参数x大于等于48小于等于57的时候返回1，否则返回0。</p>
<p>于是我们将x减去48并将其右移31位保留其符号位，此时若x减去48大于等于0则符号位为0因此要将其进行取反；同样，将x减去58并将其右移31位，此时真好同上面那种情况相反，因此要对符号位取两次反，最后再取与运算获得结果。</p>
<h5 id="2-int-anyevenbitint-x"><a class="markdownIt-Anchor" href="#2-int-anyevenbitint-x"></a> 2. <code>int anyEvenBit(int x)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int anyEvenBit(int x) &#123;</span><br><span class="line">    int t&#x3D;0x55 | (0x55&lt;&lt;8);</span><br><span class="line">    int mask&#x3D;t | (t&lt;&lt;16);</span><br><span class="line">    return !!(x&amp;mask);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思想：</strong></p>
<p>题目要求当参数x有任何偶数位设置为1时返回1，否则返回0。</p>
<p>因此我们构造一个掩码，令该掩码的偶数位全为1，奇数位全为0，再令输入的参数x和该掩码进行与运算，若x中有偶数位被设置为1的话则与之后必不为0，因此两次取反返回。</p>
<h5 id="3-int-copylsbint-x"><a class="markdownIt-Anchor" href="#3-int-copylsbint-x"></a> 3. <code>int copyLSB(int x)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int copyLSB(int x) &#123;</span><br><span class="line">    return ((x&lt;&lt;31)&gt;&gt;31);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思想：</strong></p>
<p>本题要求设置所有位为参数x的最低位，所以先左移31位再右移31位进行符号位扩展。</p>
<h5 id="4-int-leastbitposint-x"><a class="markdownIt-Anchor" href="#4-int-leastbitposint-x"></a> 4. <code>int leastBitPos(int x)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int leastBitPos(int x) &#123;</span><br><span class="line">    return x&amp;(~x+1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思想：</strong></p>
<p>本题要求返回参数x最低设置为1的数。</p>
<p>我们先将x按位取反，取反后的数与原数据正好每一位都相反，我们再将该数加1，则此数会向前进一位，此时当且仅当原数的最低取取1位和取反后数据该位都为1，因此进行与运算后得到结果。</p>
<h5 id="int-divpwr2int-x-int-n"><a class="markdownIt-Anchor" href="#int-divpwr2int-x-int-n"></a> <code>int divpwr2(int x, int n)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int divpwr2(int x, int n) &#123;</span><br><span class="line">    int sign &#x3D;(x&gt;&gt;31)&amp;1;</span><br><span class="line">    int bias &#x3D; (sign&lt;&lt;n)+~sign +1;</span><br><span class="line">    return (x+bias)&gt;&gt;n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>实验要求返回所给参数x/2^n的结果。</p>
<p>首先判断所给参数x的标志位，将x右移31位再和1进行与运算，若是正数则为0，负数则为1。</p>
<p>然后就是设置正数和负数的取整问题。当x为正数的时候，右移后向下取整，和题目要求相同，但是当x为负数时，也是向下取整，但此时题目要求要向上取整，因此要给负数加上一个偏置值再进行右移操作。因此负数要加上2^n-1来保证取整。</p>
<h5 id="6int-bitcountint-x"><a class="markdownIt-Anchor" href="#6int-bitcountint-x"></a> 6.<code>int bitCount(int x)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int bitCount(int x) &#123;</span><br><span class="line">    int t &#x3D; 0x55 + (0x55&lt;&lt;8);</span><br><span class="line">    int mask &#x3D; t + (t&lt;&lt;16);</span><br><span class="line">    x &#x3D; (x&amp;mask) + ((x&gt;&gt;1)&amp;mask);</span><br><span class="line"></span><br><span class="line">    t &#x3D; 0x33 + (0x33&lt;&lt;8);</span><br><span class="line">    mask &#x3D; t + (t&lt;&lt;16);</span><br><span class="line">    x &#x3D; (x&amp;mask) + ((x&gt;&gt;2)&amp;mask);</span><br><span class="line"></span><br><span class="line">    t &#x3D; 0xf + (0xf&lt;&lt;8);</span><br><span class="line">    mask &#x3D; t + (t&lt;&lt;16);</span><br><span class="line">    x &#x3D; (x&amp;mask) + ((x&gt;&gt;4)&amp;mask);</span><br><span class="line"></span><br><span class="line">    mask &#x3D; 0xff + (0xff&lt;&lt;16);</span><br><span class="line">    x &#x3D; (x&amp;mask) + ((x&gt;&gt;8)&amp;mask);</span><br><span class="line"></span><br><span class="line">    mask &#x3D; 0xff + (0xff&lt;&lt;8);</span><br><span class="line">    x &#x3D; (x&amp;mask) + ((x&gt;&gt;16)&amp;mask);</span><br><span class="line"></span><br><span class="line">    return x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>问题要求返回参数x的位为1的个数。</p>
<p>所以我们需要一个个检查参数的每一位是否为1，并且将之累加起来。</p>
<p>从两位比特位入手，计算两位比特数中1的个数，就是高位与低位之和。</p>
<p>00: 0+0=(00)<sub>2</sub></p>
<p>01: 0+1=(01)<sub>2</sub></p>
<p>10: 1+0=(01)<sub>2</sub></p>
<p>11: 1+1=(10)<sub>2</sub></p>
<p>令一个二进制数B为b<sub>32</sub>b<sub>31</sub>…b<sub>1</sub></p>
<p>则L(l,r)表示一个二进制数在l和r区间之间的1的个数。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">L(l,r)&#x3D; L(l,x)+ L(x+1,r) (l&lt;&#x3D;x&lt;r)</span><br><span class="line">L(l,r)&#x3D; bl (l&#x3D;r)</span><br></pre></td></tr></table></figure>
<p>对于一个32位的整数来说，可以用动态规划的思想自底向上计算。先计算L(1,1)+L(2,2)。</p>
<p>先构造一个只有低位L(1,1)的数<code>a=x&amp;x=0x01</code>和高位L(2,2)的数<code>b=(x&gt;&gt;1)&amp;0x01</code>,但我们发现可以同时计算L(3,3)和L(4,4)等数。只需将构造改为：</p>
<p><code>a=x&amp;0x55555555</code>,<code>b=(x&gt;&gt;1)&amp;0x55555555</code>, <code>x=a+b</code></p>
<p>计算L(1,2)和L(3,4)以此类推：</p>
<p><code>a=x&amp;0x33333333</code>, <code>b=(x&gt;&gt;1)&amp;0x33333333</code>, `x=a+b</p>
<h5 id="7-int-conditionalint-x-int-y-int-z"><a class="markdownIt-Anchor" href="#7-int-conditionalint-x-int-y-int-z"></a> 7. <code>int conditional(int x, int y, int z)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int conditional(int x, int y, int z) &#123;</span><br><span class="line">  x &#x3D; (!!x)&lt;&lt;31&gt;&gt;31;</span><br><span class="line">  return (y&amp;x)|(z&amp;~x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>题目要求该函数实现三元运算符，若x为真，则返回y,否则返回z。</p>
<p>若<code>x</code>的取值为<code>0x00000000</code>或<code>0xFFFFFFFF</code>。则答案为<code>(x&amp;y)|(~x&amp;z)</code>。</p>
<p>若<code>x！=0</code>时，将<code>x=0xFFFFFFFF</code>。<code>x = (!!x)&lt;&lt;31&gt;&gt;31</code>。</p>
<h5 id="8-int-isnonnegativeint-x"><a class="markdownIt-Anchor" href="#8-int-isnonnegativeint-x"></a> 8. <code>int isNonNegative(int x)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int isNonNegative(int x) &#123;</span><br><span class="line">    return !(x&gt;&gt;31);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>判断最高位。</p>
<h5 id="9int-isgreaterint-x-int-y"><a class="markdownIt-Anchor" href="#9int-isgreaterint-x-int-y"></a> 9.<code>int isGreater(int x, int y)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int isGreater(int x, int y) &#123;</span><br><span class="line">    int sign_x&#x3D;x&gt;&gt;31;</span><br><span class="line">    int sign_y&#x3D;y&gt;&gt;31;</span><br><span class="line">    int equal&#x3D;!(sign_x^sign_y)&amp;((~y+x)&gt;&gt;31);</span><br><span class="line">    int notequal&#x3D;sign_x&amp;!sign_y;</span><br><span class="line">    return !(equal|notequal);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>题目要求如果x&gt;y返回1否则返回0。</p>
<p>以下情况会返回<code>1</code>：</p>
<p>当<code>x&gt;0,y&lt;0</code>，或者当<code>x</code>和<code>y</code>符号相同时<code>mark_ = ~((x^y)&gt;&gt;31)</code>，满足<code>x+~y+1&gt;0</code>，<code>x!=y</code>时，<code>equl_ = !!(x^y)=1</code>，<code>x+~y+1&gt;=0</code>时，<code>(~(x+~y+1))&gt;&gt;31 = 0xffffffff</code></p>
<h5 id="10int-absvalint-x"><a class="markdownIt-Anchor" href="#10int-absvalint-x"></a> 10.<code>int absVal(int x)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int absVal(int x) &#123;</span><br><span class="line">  int sign&#x3D;x&gt;&gt;31;</span><br><span class="line">  return (x^sign)+(sign&amp;1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>返回x的绝对值。</p>
<p>首先判断x的符号位，即右移31位。</p>
<p>倘若为正数，则返回值不变；则先用x与sign异或再加上sign与1与运算。</p>
<p>倘若为负数则异或后（即按位取反减1）后要再加上。</p>
<h5 id="11-int-ispower2int-x"><a class="markdownIt-Anchor" href="#11-int-ispower2int-x"></a> 11. <code>int isPower2(int x)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int isPower2(int x) &#123;</span><br><span class="line">    int sign1&#x3D;!(x&gt;&gt;31);</span><br><span class="line">    int sign2&#x3D;!!x;</span><br><span class="line">    int sign3&#x3D;!(x&amp;(x+~0));</span><br><span class="line">    return (sign1&amp;sign2&amp;sign3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>题目要求如果参数x是2的权重返回1，否则返回0（负数都返回0）。</p>
<p>首先<code>sign1</code>判断x是正数还是负数，<code>sign2</code>判断x是否为0。若x为2的倍数，则x的位中则只有一位为1，因此当x为2的倍数时x和（x-1）按位与的结果必然为0，否则为1，因此将<code>!(x&amp;(x+~0))</code>作为<code>sign3</code>最后取与运算则得到结果。</p>
<h5 id="12unsigned-float_negunsigned-uf"><a class="markdownIt-Anchor" href="#12unsigned-float_negunsigned-uf"></a> 12.<code>unsigned float_neg(unsigned uf)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">unsigned float_neg(unsigned uf) &#123;</span><br><span class="line">    if((uf&amp;0x7fffffff)&gt;0x7f800000)return uf;</span><br><span class="line">    return uf^0x80000000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>直接使用<code>&gt;</code>判断即可，但需要注意<code>+0/-0</code>还有<code>NaN</code>这两种特殊情况。</p>
<p>判断<code>NaN</code>时，指数段为<code>0xff</code>，小数段不全为<code>0</code>，<code>(uf&amp;0x7fffffff) &gt; 0x7f800000</code>。</p>
<h5 id="13unsigned-float_i2fint-x"><a class="markdownIt-Anchor" href="#13unsigned-float_i2fint-x"></a> 13.<code>unsigned float_i2f(int x)</code></h5>
<p><strong>实现代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">unsigned float_i2f(int x) &#123;</span><br><span class="line">  int s_ &#x3D; x&amp;0x80000000;</span><br><span class="line">  int n_ &#x3D; 30;</span><br><span class="line">  if(!x) return 0;</span><br><span class="line">  if(x&#x3D;&#x3D;0x80000000) return 0xcf000000;</span><br><span class="line">  if(s_) x &#x3D; ~x+1;</span><br><span class="line">  while(!(x&amp;(1&lt;&lt;n_))) n_--;</span><br><span class="line">  if(n_&lt;&#x3D;23) x&lt;&lt;&#x3D;(23-n_);</span><br><span class="line">  else&#123;</span><br><span class="line">    x+&#x3D;(1&lt;&lt;(n_-24));</span><br><span class="line">    if(x&lt;&lt;(55-n_)) ;else x&amp;&#x3D;(0xffffffff&lt;&lt;(n_-22));</span><br><span class="line">    if(x&amp;(1&lt;&lt;n_))  ;else n_++;</span><br><span class="line">    x &gt;&gt;&#x3D; (n_-23);</span><br><span class="line">  &#125;</span><br><span class="line">  x&#x3D;x&amp;0x007fffff;</span><br><span class="line">  n_&#x3D;(n_+127)&lt;&lt;23;</span><br><span class="line">  return x|n_|s_;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>实现思路：</strong></p>
<p>分三部分处理，获取符号位<code>s_ = x&amp;0x80000000</code>，若为负数<code>-x</code>，变为正数，则<code>0x80000000</code>为特殊情况分开处理，考虑特殊情况，<code>0x0</code>和<code>0x80000000</code>，这两种情况直接返回<code>0</code>和<code>0xcf000000</code>。</p>
<p>获取最高位的<code>1</code>所在位置，<code>while(!(x&amp;(1&lt;&lt;n_))) n_--;</code>。</p>
<p>若<code>n_ &lt;= 23</code>这个数需要向左移动到小数部分起始位置（将<code>1</code>放在第<code>23</code>位上），<code>if(n_&lt;=23) x&lt;&lt;=(23-n_);</code>。</p>
<p>若<code>n_ &gt; 23</code>这个数需要向右移动到小数部分起始位置（将<code>1</code>放在第<code>23</code>位上），这时候需要考虑移出部分的舍入问题，若移出部分大于<code>0.5</code>则向上舍入，若小于<code>0.5</code>则向下舍去，若等于<code>0.5</code>则向偶数舍入。</p>
<p>先将<code>&gt;=0.5</code>情况等同考虑，向上舍入<code>x+=(1&lt;&lt;(n_-24))</code>。若<code>==0.5</code>时，舍入情况若为奇数，我们需要<code>-1</code>操作变为偶数，即将最低位的<code>1</code>变为<code>0</code>，<code>x&amp;=(0xffffffff&lt;&lt;(n_-22))</code>，若向上舍入时最高位产生了进位，还需要加上进位<code>if(x&amp;(1&lt;&lt;n_)) ;else n_++;</code>。之后拼接浮点数即可。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>CSAPP</tag>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title>从Laravel框架浅谈MVC架构</title>
    <url>/2020/03/07/1/</url>
    <content><![CDATA[<p>最近应工作室要求学习PHP框架Laravel，接触到了MVC软件架构模式,即Model-View-Controller，这里我将使用Laravel框架介绍MVC架构模式，并且阐述自己对MVC软件架构浅薄的理解。</p>
<p><img src="/2020/03/07/1/MVC.jpg" alt></p>
<a id="more"></a>
<h2 id="mvc架构简述"><a class="markdownIt-Anchor" href="#mvc架构简述"></a> MVC架构简述：</h2>
<h4 id="由图所示简单地理解mvc架构模式可以认为"><a class="markdownIt-Anchor" href="#由图所示简单地理解mvc架构模式可以认为"></a> 由图所示，简单地理解MVC架构模式可以认为：</h4>
<p>1.View（视图）：是用户直接接触的界面，一般由前端处理，主要用来展示模型中的内容和用来输入表单数据。</p>
<p>2.Controller（控制器）：主要用于处理视图和模型之间的逻辑关系，例如从视图中post的数据，到底如何进入模型并存入数据库中，我们是否应该对于用户的数据进行过滤以防止SQL注入等问题，又或者从数据库中取出的数据哪些应该展示在视图上，有什么判断标准，都需要控制器进行判断。</p>
<p>3.Model（模型）：即底层同应用程序的接口，我们可以从Model中获取数据并进行处理。</p>
<p>以上是我对于MVC的一些理解，因为刚刚接触这种软件架构模式，所以理解不深，如果有兴趣者可以自行去深入了解。</p>
<h4 id="以下给出mvc的一些友情链接"><a class="markdownIt-Anchor" href="#以下给出mvc的一些友情链接"></a> 以下给出MVC的一些友情链接：</h4>
<p><a href="%22%5Bhttps://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller%5D">维基百科</a></p>
<p><a href="%22https://draveness.me/mvx%22">浅谈MVC、MVP和MVVM架构模式</a></p>
<h2 id="laravel实例"><a class="markdownIt-Anchor" href="#laravel实例"></a> Laravel实例：</h2>
<h4 id="接下来我将使用laravel对于这一架构模式进行说明laravel只是媒介这里不涉及laravel语法细节"><a class="markdownIt-Anchor" href="#接下来我将使用laravel对于这一架构模式进行说明laravel只是媒介这里不涉及laravel语法细节"></a> 接下来我将使用Laravel对于这一架构模式进行说明（Laravel只是媒介，这里不涉及Laravel语法细节）：</h4>
<p>假如说我们需要写一个登录界面那么我们使用MVC如何处理呢？</p>
<p>首先，我们需要一个登陆界面，这个登录界面是需要让用户看到的，并且在这个界面中，我们还需要让用户在登录界面中输入数据并且可以让控制器接收到，因此我们可以写html，php或者Laravel支持的blade模板，总之，不管使用哪种形式，最重要的是让用户有可视化界面并且实现登陆功能。</p>
<p>我用blade模板进行举例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@extends(&quot;common.layout&quot;)</span><br><span class="line">@section(&quot;title&quot;)</span><br><span class="line">    Login</span><br><span class="line">@stop</span><br><span class="line"></span><br><span class="line">@section(&quot;content&quot;)</span><br><span class="line"></span><br><span class="line">    &lt;div class&#x3D;&quot;xiao-container&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;xiao-register-box&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;xiao-title-box&quot;&gt;</span><br><span class="line">                &lt;span&gt;登录&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;form action&#x3D;&quot;&#123;&#123;url(&#39;at&#x2F;save&#39;)&#125;&#125;&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">                &#123;&#123;csrf_field()&#125;&#125;</span><br><span class="line">                &lt;div class&#x3D;&quot;xiao-username-box&quot;&gt;</span><br><span class="line">                    &lt;span class&#x3D;&quot;xiao-require&quot;&gt;*&lt;&#x2F;span&gt;</span><br><span class="line">                    &lt;label for&#x3D;&quot;account&quot;&gt;账户&lt;&#x2F;label&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;xiao-username-input&quot;&gt;</span><br><span class="line">                        &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;account&quot; name&#x3D;&quot;account&quot; placeholder&#x3D;&quot;账户：&quot;&#x2F;&gt;</span><br><span class="line">                    &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;br&#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">                &lt;div class&#x3D;&quot;xiao-userPassword-box&quot;&gt;</span><br><span class="line">                    &lt;span class&#x3D;&quot;xiao-require&quot;&gt;*&lt;&#x2F;span&gt;</span><br><span class="line">                    &lt;label for&#x3D;&quot;password&quot;&gt;密码&lt;&#x2F;label&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;xiao-userPassword-input&quot;&gt;</span><br><span class="line">                        &lt;input type&#x3D;&quot;password&quot; id&#x3D;&quot;password&quot; name&#x3D;&quot;password&quot; placeholder&#x3D;&quot;密码：&quot; &#x2F;&gt;</span><br><span class="line">                    &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;xiao-submit-box&quot;&gt;</span><br><span class="line">                    &lt;input id &#x3D; &quot;xiao-submit-button&quot; type&#x3D;&quot;submit&quot; value&#x3D;&quot;登录&quot;&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;&#x2F;form&gt;</span><br><span class="line">            @if ($errors-&gt;any())</span><br><span class="line">                &lt;div class&#x3D;&quot;alert alert-danger&quot;&gt;</span><br><span class="line">                    &lt;ul&gt;</span><br><span class="line">                        @foreach ($errors-&gt;all() as $error)</span><br><span class="line">                            &lt;li&gt;&#123;&#123; $error &#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">                        @endforeach</span><br><span class="line">                    &lt;&#x2F;ul&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">            @endif</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">@stop</span><br></pre></td></tr></table></figure>
<p>我们无需管语法细节，只需要注意，我们在这里设计了一个表单，并且将方法设置为post，因此可以使控制器接收到数据，那么相应地，我们也需要设置相应的路由与控制器方法（路由是用户访问url所必需的）</p>
<h4 id="路由"><a class="markdownIt-Anchor" href="#路由"></a> 路由：</h4>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">Route::any(<span class="string">'at/login'</span>,[<span class="string">'uses'</span> =&gt; <span class="string">'StudentController@login'</span>]);</span><br><span class="line">Route::any(<span class="string">'at/save'</span>,[<span class="string">"uses"</span> =&gt; <span class="string">"StudentController@save"</span>]);</span><br></pre></td></tr></table></figure>
<h4 id="控制器"><a class="markdownIt-Anchor" href="#控制器"></a> 控制器：</h4>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> view(<span class="string">'student.login'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">save</span><span class="params">(Request $request)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $validate= $request-&gt;validate(</span><br><span class="line">            [</span><br><span class="line">                <span class="string">"account"</span> =&gt; <span class="string">"required|string|max:20"</span>,</span><br><span class="line">                <span class="string">"password"</span> =&gt; <span class="string">"required|string|max:20"</span></span><br><span class="line">            ]</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">if</span>($validate)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;judge($request-&gt;input(<span class="string">"account"</span>),$request-&gt;input(<span class="string">"password"</span>)))</span><br><span class="line">            &#123;<span class="keyword">return</span> <span class="keyword">true</span>;&#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"账号不存在或密码不正确"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">judge</span><span class="params">($account,$password)</span></span></span><br><span class="line"><span class="function">    </span>&#123;<span class="keyword">return</span> Student::where(<span class="string">"account"</span>,$account)-&gt;value(<span class="string">'password'</span>)==$password;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样我们就可以了解到从登录界面post的数据，被控制器中的save的$request变量捕获了，并且将其进行了表单验证，我们需要进行两次验证，第一次验证用户输入是否合法，如果不合法，该方法将会重定向到登录页面要求你重新输入，否则的话，进行第二次验证，从Model里（我们在Model封装了数据库，这里不再展示）取出数据进行比对，如果账号密码都符合条件，就成功验证，否则会告诉你账号或密码输入不正确。</p>
<p>现在，我们就完成了最简单的MVC与User之间的交互模式。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>后端开发</tag>
        <tag>Laravel</tag>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title>我不适合写作文</title>
    <url>/2020/03/05/1/</url>
    <content><![CDATA[<p>从小学到高中，我的作文成绩从来没有高过，因为当我拿到特定的作文题目时，并且被要求在特定规限的时间写完，我总是感到头脑一片空白和不知所措，只能依靠一些特定的写法和烂俗的套路完成；或许有时候我遇到一些灵光乍现的想法，但这些想法也通常不被认可。</p>
<a id="more"></a>
<p>但是，当我看完其他人的”优秀作文“以后，我却觉得他们写的一点也不比我好，同样是特定的写法和烂俗的套路，唯一比我具有优势的是他们的字写的比我好。而且我发现，他们仿佛除了作文以外，是不大会写其他东西的，这使我想到，“写作文”和“写文章”根本不是一码事，作文写得好无非是套路掌握得好或者更加迎合试卷命题与阅卷老师的心理罢了。而文章，则是天马行空，无所不至，你想写就写，不想写就不写，不必受到题目的限制，只需要有感情的召唤就足够了。</p>
<p>我觉得写文章是自己的事，是不能被其他人的其他标准所评判的。</p>
]]></content>
      <categories>
        <category>杂文</category>
      </categories>
      <tags>
        <tag>吐槽</tag>
      </tags>
  </entry>
  <entry>
    <title>See You Never</title>
    <url>/2020/03/04/1/</url>
    <content><![CDATA[<p>刚刚看完了《后会无期》，觉得还是一个不错的片子，虽然被很多人诟病为没有主线剧情，结构松散。但是，我想表达的是，不是所有的影片都需要完整的主线剧情，只要影片所表达的东西，可以告诉观众一些东西，或者震撼观众的心灵，就是好的影片。</p>
<p>这部影片虽然没有主要的剧情，但一对对的分支的剧情，也确实围绕着“后会无期”的主题展开，从头到尾主人公一行遇到的人或事，在最终都是“后会无期”，注意，这里的后会无期并非是以后再也不会见到了，而是“有可能遇到，也有可能遇不到了”，也就是处于一种“未卜”的状态，其中使我震撼的一段是马浩汉将被雨淋湿的钱和江河把苏米的“包小姐”联系牌放在车窗上晒，然后等一觉醒来以后，却发现连车窗都没了，这段确实十分的荒诞，但倘若联系到实际的话，不得不承认它具备一定的合理性，连死物件都可能后会无期，何况人呢？</p>
<a id="more"></a>
<p><img src="/2020/03/04/1/1.jpg" alt></p>
<p>从马浩汉用火烧了房子却忘了把煤气罐搬出房子开始，就注定这是一场有去无回的旅行，虽然马浩汉开始的表现十分的一往无前和具有极大的勇气，但随着时间的消磨，而实际上最具有勇气的是江河这个未经社会打磨，具备理想主义和有些神经质的地理教师。虽然马浩汉鼓吹自己“行路多，社会阅历广，朋友多”，但不得不承认像江河这种习惯孤独的人才不容易被恶劣的环境打败。</p>
<p>最后说一说关于苏米同江河之间有些“朦胧”的感情，虽然苏米直言“自己很厌恶男人”，并且在首先同江河交流的时候，时不时露出揶揄的表情，但是苏米在听到江河“无脑”的同声传译却在不经意间攻破了苏米的防线。儿时对未来的幻想，有哪个是没有的呢？又有多少人，能够在自己长大的时候，回望当初的期许，而不生出一点遗憾的呢？“我会变漂亮吗？”好像是。“我会变富有吗？”好像不是。“世事难料”的确如此。“顺其自然。”我还可以做到吗？于是苏米望过来的眼神就开始变化了。注意到苏米两次让江河“说点什么以缓解尴尬”，第一次说的时候，她面无表情；但是在第二次说的时候，她面带微笑，无比轻松惬意。</p>
<p>最后来到了三叔一行赶到了主角一行所在的加油站，当苏米看到三叔一行来到的时候，她感到“惊讶与错愕”，连刚买的东西都掉落了。当她同她失语的哥哥用手语交流，并“直言不讳”地说出“我好像喜欢上他了”，她本期盼得到哥哥诸如鼓励的话，但得到的确是“你忘了那个王八蛋了吗？”。</p>
<p>江河一只看起来呆头呆脑，在感情中处于被动状态，但从他那孱弱的身躯但却一脚踹开旅馆那个岌岌可危的大门的时候，就已经证明这个男人实在蕴含着无尽的能量，他对于苏米表达喜欢的方式就是不断劝她从良，具体来说，我感觉这就像是现实生活中我们某些直男的做法（逃。</p>
<p>而实际上，苏米也并无像她表现的那样对于社会的美好一切看破，也就如同马浩汉看起来那么乐观一样，而真正所谓“看破尘世美好的”，大概是像她三叔那样，虽然嘴里说着“只有家人替你好”，可实际上却又逼着你犯罪。最终，苏米被带走，后会无期。</p>
<p>最终结尾是苏米靠在了江河的肩上，虽然我不知道这是不是幻想，但我相信它是现实。</p>
<p>最后的最后，我希望同有的人永远后会无期，有的人…我期盼再次相遇。</p>
<hr>
<p>最近看了几篇影评，想再来补充几句，有的人说其实马浩汉从刘莺莺那里出发之后就遭遇车祸死去了，后来的全是江河在自己的小说《旅行者》的臆想，从那个神秘人物阿吕开始就是江河小说中的想象了，直至最会江河和浩汉的分别更是暗示了浩汉的死亡。而且电影开始也以胡生的口吻暗示了这是江河的小说《旅行者》的故事。而后江河与浩汉的故事则是江河本人的分裂了，至于最后看起来美好的结局也有着诡异之处，比如在东极岛上暴雨下柴伯公巨像的火炬仍然燃烧，还有幽灵导游的声音。这是浪漫主义的处理手法，我相信是如此的。现实太残酷了，总是要有浪漫的。</p>
<p><img src="/2020/03/04/1/2.jpg" alt></p>
]]></content>
      <categories>
        <category>电影</category>
      </categories>
      <tags>
        <tag>文学</tag>
        <tag>人生</tag>
      </tags>
  </entry>
  <entry>
    <title>Reserve Linked List</title>
    <url>/2020/03/02/1/</url>
    <content><![CDATA[<p>Last week I learned data structure about Linked List , in which include an algorithm for reversing a linked list . And in this chapter I will introduce this algorithm.</p>
<a id="more"></a>
<p>First considering a simple example . You is given a linked list of integers , and the question asks you to invert this linked list.</p>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL</span><br><span class="line"></span><br><span class="line">5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</span><br></pre></td></tr></table></figure>
<p>For iterating through this linked list and inverting it , you can declare three pointers (prev , curr, next), which represent the previous , current , next pointers. And in this way can you search this linked list and invert it iteratively.</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"> <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">​    ListNode* prev=<span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">​    ListNode* curr=head;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">while</span>(curr!=<span class="literal">NULL</span>)</span><br><span class="line"></span><br><span class="line">​    &#123;</span><br><span class="line"></span><br><span class="line">​      ListNode* next=curr-&gt;next;</span><br><span class="line"></span><br><span class="line">​      curr-&gt;next=prev;</span><br><span class="line"></span><br><span class="line">​      prev=curr;</span><br><span class="line"></span><br><span class="line">​      curr=next;</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">return</span> prev;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
        <tag>Leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>关于意大利</title>
    <url>/2020/02/29/1/</url>
    <content><![CDATA[<h3 id="蛋堡"><a class="markdownIt-Anchor" href="#蛋堡"></a> 蛋堡</h3>
<p><img src="/2020/02/29/1/Italy1.jpg" alt="蛋堡" title="蛋堡"></p>
<h3 id="那不勒斯"><a class="markdownIt-Anchor" href="#那不勒斯"></a> 那不勒斯</h3>
<p><img src="/2020/02/29/1/Italy2.jpg" alt="那不勒斯" title="那不勒斯"></p>
<h3 id="卡布里岛"><a class="markdownIt-Anchor" href="#卡布里岛"></a> 卡布里岛</h3>
<p><img src="/2020/02/29/1/Italy3.jpg" alt="卡布里岛" title="卡布里岛"><a id="more"></a></p>
<h3 id="卡布里岛上的购物街"><a class="markdownIt-Anchor" href="#卡布里岛上的购物街"></a> 卡布里岛上的购物街</h3>
<p><img src="/2020/02/29/1/Italy4.jpg" alt="卡布里岛上的购物街" title="卡布里岛上的购物街"></p>
<h3 id="傍晚的苏莲托"><a class="markdownIt-Anchor" href="#傍晚的苏莲托"></a> 傍晚的苏莲托</h3>
<p><img src="/2020/02/29/1/Italy5.jpg" alt="傍晚的苏莲托" title="傍晚的苏莲托"></p>
<h3 id="酒店在举办音乐会"><a class="markdownIt-Anchor" href="#酒店在举办音乐会"></a> 酒店在举办音乐会</h3>
<h3 id="酒店在举办音乐会-2"><a class="markdownIt-Anchor" href="#酒店在举办音乐会-2"></a> <img src="/2020/02/29/1/Italy6.jpg" alt="酒店在举办音乐会" title="酒店在举办音乐会"></h3>
<h3 id="凯旋门"><a class="markdownIt-Anchor" href="#凯旋门"></a> 凯旋门</h3>
<p><img src="/2020/02/29/1/Italy7.jpg" alt="凯旋门" title="凯旋门"></p>
<h3 id="罗马斗兽场外部"><a class="markdownIt-Anchor" href="#罗马斗兽场外部"></a> 罗马斗兽场外部</h3>
<p><img src="/2020/02/29/1/Italy8.jpg" alt="罗马斗兽场外部" title="罗马斗兽场外部"></p>
<h3 id="罗马斗兽场内部"><a class="markdownIt-Anchor" href="#罗马斗兽场内部"></a> 罗马斗兽场内部</h3>
<p><img src="/2020/02/29/1/Italy9.jpg" alt="罗马斗兽场内部" title="罗马斗兽场内部"></p>
<h3 id="凯旋门正面"><a class="markdownIt-Anchor" href="#凯旋门正面"></a> 凯旋门正面</h3>
<p><img src="/2020/02/29/1/Italy10.jpg" alt="凯旋门" title="凯旋门"></p>
<h3 id="西班牙广场"><a class="markdownIt-Anchor" href="#西班牙广场"></a> 西班牙广场</h3>
<p><img src="/2020/02/29/1/Italy11.jpg" alt="西班牙广场" title="西班牙广场"></p>
<h3 id><a class="markdownIt-Anchor" href="#"></a> </h3>
<p><img src="/2020/02/29/1/Italy12.jpg" alt="西班牙广场" title="西班牙广场"></p>
<p><img src="/2020/02/29/1/Italy13.jpg" alt="西班牙广场" title="西班牙广场"></p>
<h3 id="梵蒂冈"><a class="markdownIt-Anchor" href="#梵蒂冈"></a> 梵蒂冈</h3>
<p><img src="/2020/02/29/1/Italy14.jpg" alt="梵蒂冈" title="梵蒂冈"></p>
<h3 id="瑞士雇佣兵"><a class="markdownIt-Anchor" href="#瑞士雇佣兵"></a> 瑞士雇佣兵</h3>
<p><img src="/2020/02/29/1/Italy15.jpg" alt="瑞士雇佣兵" title="瑞士雇佣兵"></p>
<p><img src="/2020/02/29/1/Italy16.jpg" alt></p>
<p><img src="/2020/02/29/1/Italy17.jpg" alt></p>
<h3 id="巨大的花园"><a class="markdownIt-Anchor" href="#巨大的花园"></a> 巨大的花园</h3>
<p><img src="/2020/02/29/1/Italy18.jpg" alt></p>
<p><img src="/2020/02/29/1/Italy19.jpg" alt></p>
<p><img src="/2020/02/29/1/Italy20.jpg" alt></p>
<h3 id="佛罗伦萨"><a class="markdownIt-Anchor" href="#佛罗伦萨"></a> 佛罗伦萨</h3>
<p><img src="/2020/02/29/1/Italy21.jpg" alt></p>
<p><img src="/2020/02/29/1/Italy22.jpg" alt></p>
<h3 id="威尼斯"><a class="markdownIt-Anchor" href="#威尼斯"></a> 威尼斯</h3>
<p><img src="/2020/02/29/1/Italy23.jpg" alt="威尼斯" title="威尼斯"></p>
<p><img src="/2020/02/29/1/Italy24.jpg" alt="威尼斯" title="威尼斯"></p>
<p><img src="/2020/02/29/1/Italy25.jpg" alt></p>
<p><img src="/2020/02/29/1/Italy26.jpg" alt></p>
<p><img src="/2020/02/29/1/Italy27.jpg" alt></p>
<h3 id="传说中罗密欧与朱丽叶相遇的地方"><a class="markdownIt-Anchor" href="#传说中罗密欧与朱丽叶相遇的地方"></a> 传说中罗密欧与朱丽叶相遇的地方</h3>
<p><img src="/2020/02/29/1/Italy28.jpg" alt="传说中罗密欧与朱丽叶相遇的地方" title="传说中罗密欧与朱丽叶相遇的地方"></p>
]]></content>
      <categories>
        <category>旅行</category>
      </categories>
      <tags>
        <tag>旅行</tag>
      </tags>
  </entry>
  <entry>
    <title>庄颜、神仙姐姐与爱情幻想</title>
    <url>/2020/02/28/1/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">Hey, password is required here.</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="19b06687cd633e9a29245b93a31ceabb917a909017b7e11b0a5f921dc9a55d94">974a10538692d123775750fa4cd57060c51ca00670dff0798dcebf9171161591d27e6e9ffde021ff9e7f762d001aa4c27698281cb13fe572aa3aba24792fe2e1ac28f6bc84f9e6a559096062249f63067bf1a08f600e6bbf366793e263514fb653c919a4852a3b6ad88924bec16a1a3c8890d700437a414c80e9ead39d13934708be39fc605e6b8999688cecdc7b5e20b9ba2cf524e7851e382991355692dca0f13cc4d3402f44e3e09a9a3725ea499a614ff270d970f6662eb2e69f1ca53a06b73786a7517e74b5e926fd2f3403eb030aee5edfc98c534a7657f5decca6e517bc9ecbd33d5f30f319f92b1f16af4ba9d65d0be3edf2b007d3ca6da25ba8a8c3babe67daf7bc319d0e86ca2102332944ef8750b35e9cb3093bc9b056c16d6a69</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>杂文</category>
      </categories>
      <tags>
        <tag>爱情</tag>
        <tag>人生</tag>
        <tag>杂论</tag>
      </tags>
  </entry>
  <entry>
    <title>家居学习语</title>
    <url>/2020/02/27/moan/</url>
    <content><![CDATA[<p>因为疫情的原因，我们国家的各个中学校、高等学府都开始了线上授课，即以直播或者以网课为途径进行授课。在我没开学的时候，我天真地以为，这次疫情的发展，也许会促进 教育在网络上的发展，使得我们今后的课程可以通过网络进行，由此可以扩展教育的普及度以及减少学生的教育负担。尤其是对于我这种只喜欢舒舒服服待在家里，受不了宿舍嘈杂环境的人， 简直是福音。可是当我灰溜溜地上完一周的线上课后，我才真心感觉到我那时的想法还是多么的天真。我们国家的网络教育事业，仍然是处于非常低水平，教育内容也是非常刻板与愚蠢的。</p>
<a id="more"></a>
<p>首先说我们的网课，我自己认为网课的内容简直是惨不忍睹，一套课程下来，只有一个老师在那里逐字地去念ppt，声调完全没有变化，就好像刻板的机器一样，知道的以为他在讲课，不知道的还以为 他在基督教堂里做弥撒。从他呆板的语调中我听不出这节课的任何重点。于是，在忍受了几天的课程终于受不了，就去自己看书自学，或者去其他的网站自己找课程学习。我当然并不反对每个学校录课， 为教育公开贡献一份自己的力量，不过有一句话叫做“陈力就列，不能则止”。</p>
<p>事实上，我认为一所名校，是完全有可能做好线上教育的行当的，不过我们的国情是学校都不大把教学放在心上，但偏偏又爱事事争先，看到哪个学校又推出了什么项目，我们便也想去模仿一下。 或者某个名校又有某个天才学生的加盟啦，美女教师评职称啦，学校就又会大力宣传一番，吸引看客的眼球，让一群不懂装懂的人评头论足。这些事情的发生，并非是我信口胡诌，你多少都能发现些 蛛丝马迹。</p>
<p>我是学计算机专业的，当我在网络上挑选书籍的时候，我总会挑选国外的计算机专业书籍。国内没有计算机专业书籍吗？不是！国内的计算机书籍稂莠不齐，虽然也有一些精品书籍，但大都是少数， 很多都是名词的罗列与概念的堆砌，更像是大学生毕业时写论文东抄抄西抄抄的感觉。我们的专业教材为什么如此不堪呢？是真的没有人可以写吗？并不是！我们有水平且有资格写教材的人大都是各个“名校” 的教授专家们，教育部把编写某个教材的人物分配给某个高校，学校又分配给学校内该领域的教授，但是教授呢，他可没那么多功夫写，他还要做科研呢！于是就把任务分配给自己课题下的研究生、博士生们， 研究生、博士生怎么办呢，人家还要毕业呢？可是水平不够怎么办呢？那就抄吧！那好抄抄哪，但为了避免查重，一个专题还得换着书抄，如此作为，书的质量能好得了吗？</p>
<p>我认为之所以我们国家出不了经典的教材，出不了适合国人的教育课程，根本原因就是教育体系的评判方式有问题，中国的教师只能靠科研或者搞学术获得晋升，而不能通过教课来评职称。 为什么我们中小学教育在全世界属于领先水平，但是高等教育却被诟病呢？其实质就是中小学教育教师是全职教课的，而在高等学府教师的晋升之道就只有搞学术一条，这样教师又怎能有大把精力来考虑 教学问题呢？</p>
<p>还记得14年的时候四川大学历史讲师周鼎发的那篇<a href="solo.html">《自白书》</a>吗？若非如此，教授们又怎会将自己“著作等身”的东西弃如敝履呢？</p>
]]></content>
      <categories>
        <category>杂文</category>
      </categories>
      <tags>
        <tag>吐槽</tag>
      </tags>
  </entry>
  <entry>
    <title>理想的知识阶级</title>
    <url>/2020/02/27/ideal-political/</url>
    <content><![CDATA[<p>我一直认为自己是一个理想主义者，我喜欢读历史，读文学，喜欢听音乐，我喜欢同别人交谈却很少可以找到知心的人，我把这件事归于我的理想化， 我对于我的理想充满了向往，却又不断地做出妥协，虽然如今我认为“妥协”是人在社会上生存的本能,却又不甘心去做一个永远“妥协”的人。</p>
<a id="more"></a>
<p>我在这个寒假看了很多电影，尤其是韩国电影，像李沧东的《燃烧》、《薄荷糖》，奉俊昊的《杀人回忆》、《寄生虫》,还有像《辩护人》等， 这些电影无论是从艺术处理还是从深度上自然都是极好的，尤其是对于韩国民主化进程的反思以及对于那代人所带来的灾难性发展。可我认为， 仅仅有道德上的批判是不够的，缓慢地变革是不彻底的，光荣革命、辛亥革命都是阉割了的革命。</p>
<p>前今天和朋友聊人生的时候，我就说：“等我以后赚够了钱，就隐居山林，开个咖啡馆或者书店，做自己喜欢做的事情，如果还有余力的话，就去 旅游，见识世界的山水人情。”然后，我又自嘲地说，我是不是太过理想了，在一个社会中，什么人可以自由自在地过完自己的一生呢？每个人都要受社会、 家庭、欲望等等因素的羁绊，自古皆然。也许当我有幸可以达到我现在所需要的条件的时候，我就又往更远的地方看了呢。</p>
<p>近些日子来，中国爆发了数十年来从未见过的“瘟疫”，我看到了许许多多丑恶与善良的事情，也听到了消极或积极的声音。我不对于这些事情予以置评， 因为我从未亲身经历过这些事情，而没有经历过同样事情的人是没有资格对一件事情发出评论的；我也不是批评家，我没有那么好的文笔和蛊惑性，我只是想把 我看到的，思考过的，读过的，说过的记录下来，呈现给大家，或许你会认为这篇文章杂乱无章，一点没有可读性。我认为这本身是对的，因为事情就是这么乱， 我只是把我想到的全部写出来。当我看历史的时候，我会感到痛心，因为我看到了在历史舞台上叱咤风云的人物竟然也会如此平庸，我们也一样，如此平庸。</p>
<p>前些日子读到鲁迅先生的一篇杂文<a href="https://www.marxists.org/chinese/reference-books/luxun/24/045.htm" target="_blank" rel="noopener">《关于知识阶级》</a> ，说实话，我真的觉得这是我本年度读的，甚至可以说是有生以来读的最优秀的杂文，在这里他提出了一个“真的知识阶级”，并且做了两点界定，“他与平民接近，或 自身就是平民”，“因此他确能为平民抱不平，把平民的苦痛告诉大众”；“他们对社会永不会满意的，所感受的永远是痛苦，所看到的永远是缺点”，它所强调的是，真正 的知识阶级，是要永远站到平民阶级这边的，所谓平民阶级，不是某一个人，也不是某一个团体，因为某一个人或者某一个团体，都有可能在历史的进程中实现阶级的转换， 而真正的知识阶级，则是要坚持拥护在易受到倾轧的团体的这边，否则，就会变成“革命奸商”，“革命小贩”，“革命工头”与“奴隶总管”。鲁迅对被压迫的民众的反抗的合理性， 是从不怀疑的，他有句名言，“人被压迫了，为什么不斗争？”，正是怀着这种对于底层阶级深刻的同情，他后来对当时中国唯一反抗国民党一党专政的共产党领导的工农革命运动， 采取同情与支持的态度，并且与共产党人合作，共同发起左翼文艺运动，都是一种自觉的选择。当他目睹年轻的革命文学者为了自己的争取民众解放的信仰不惜流血牺牲，更是用 少有的热情由衷地赞叹“无产阶级革命文学和革命的劳苦大众是在受一样的压迫，一样的残杀，做一样的战斗，有一样的运命”，这与前述站在普通民众这一边，做永远的革命者的“ 真的知识阶级”的定位，是完全一致的。或者可以说，一个真的知识阶级几乎是必然要做这样的选择的。</p>
<p>然而值得一提的是关于“党的左翼”与“鲁迅左翼”，到了三十年代中后期，面对日本侵略，中国共产党改变策略，主张建立民族统一战线，在文学上，提出“国防文学”的口号。 鲁迅对“国防文学”口号并不反对，但是有点担心，如果过分地强调国家利益至上，会不会掩盖或者美化国民党一党专政的统治？会不会因此损害工农民众的基本利益？他有这样的担心，就提出 另外一个口号“民族革命时代的大众文学”，强调战争的革命性，要维护大众的利益，就要坚持他的左翼立场。</p>
<p>另一件事是许广平在1927年国共合作时，曾经有过加入国民党的想法，她征求鲁迅的意见，鲁迅就对她说，一个政党是要靠组织力量来实现它的理想、信念的，所以政党是要强调纪律性的， 要求党员绝对服从政党的决议，有的时候就要牺牲个人意志。因此要求你入党，就必须想清楚，你是否愿意在一定条件下牺牲个人意志，如果愿意就加入，如果不愿意，要保持个人意志和独立性， 就别加入。这是鲁迅的个体精神，这也是鲁迅左翼与党的左翼的根本性分歧。</p>
<p>所以我们现在回头来看看，什么是真正的理想主义？像我从前所想那样，只顾着自己的自由与快活，大概是算不上真正的理想主义的，因为如此的“理想”，是无法去实现的。真正的理想主义， 更是应当去立足于实际，对于一切具有批判性思维与探索欲，这是“理想的知识阶级”。再理想的东西，也应当有其实际意义与实际用处，而非一味的空穴来风。</p>
<p>我读《北洋军阀史》的时候，就发现孙文这个真正的理想主义者，却被整个大环境给搞偏了，以至于在袁世凯在北京就任大总统后，孙文因为太过理想而被孤立，整个同盟会也土崩瓦解，形成了 国民党、民主党、共和党等等，尤其自从唐绍仪内阁瓦解后，原来的政党内阁成为了内阁政党，从而变成了袁世凯攫取权力的工具。这是因为辛亥革命从一开始便是不彻底的，当革命军达到一定规模时， 同盟会成员想的不是如何从内部推举首领，反而邀请封建名流及政治家如黎元洪等担任首领，这便是没有真正地深入到国民中去。</p>
]]></content>
      <categories>
        <category>杂文</category>
      </categories>
      <tags>
        <tag>杂论</tag>
      </tags>
  </entry>
</search>

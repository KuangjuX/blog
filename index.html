<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>KuangjuX(狂且) - 风声雨声读书声 声声入耳 家事国事天下事 事事关心</title><meta name="author" content="KuangjuX"><meta name="copyright" content="KuangjuX"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="狂且的人文及技术博客">
<!-- hexo-inject:begin --><!-- hexo-inject:end --><meta property="og:type" content="website">
<meta property="og:title" content="KuangjuX(狂且)">
<meta property="og:url" content="http://blog.kuangjux.top/">
<meta property="og:site_name" content="KuangjuX(狂且)">
<meta property="og:description" content="狂且的人文及技术博客">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://blog.kuangjux.top/img/KuangjuX.png">
<meta property="article:author" content="KuangjuX">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.kuangjux.top/img/KuangjuX.png"><link rel="shortcut icon" href="/img/KuangjuX.png"><link rel="canonical" href="http://blog.kuangjux.top/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-02-15 15:42:07'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.2.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/KuangjuX.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">39</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">30</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/img/background.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">KuangjuX(狂且)</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">KuangjuX(狂且)</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/15/%E9%98%B3%E5%85%89%E6%99%AE%E7%85%A7/" title="阳光普照">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/%E9%98%B3%E5%85%89%E6%99%AE%E7%85%A7.jpg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="阳光普照"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/15/%E9%98%B3%E5%85%89%E6%99%AE%E7%85%A7/" title="阳光普照">阳光普照</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack article-meta__icon sticky"></i><span class="sticky">Sticky</span><span class="article-meta__separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-02-15T02:16:18.000Z" title="Created 2021-02-15 10:16:18">2021-02-15</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%94%B5%E5%BD%B1/">电影</a></span></div><div class="content"> <!-- hexo-inject:begin --><!-- hexo-inject:end -->充满阳光一定快乐吗？

这个世界，最公平的是太阳。不论纬度高低，每个地方一整年中，白天与黑暗的时间都各占一半。前几天，我们去了动物园，那天太阳很大，晒得所有动物都受不了，它们都设法找一个阴影躲起来，我有一种说不清楚模糊的感觉，我也好希望跟这些动物一样，有一些阴影可以躲起来，但是我环顾四周，不只是这些动物有阴影可以躲，包括你，我弟，甚至是司马光，都可以找到一个有阴影的角落。
可是我没有，我没有水缸，没有暗处，我只有阳光。
二十四小时从不间断，明亮温暖，阳光普照。

阿豪品学兼优、待人和善，父亲将全部的期望寄予在他身上，并且每年都送给他上面写有“把握时间 掌握方向”的笔记本。他因为高考时没有考上第一志愿的医学院而选择复读。当他的家庭因为弟弟阿和入狱而险些分崩离析的时候，他选择充当父亲和母亲之间的桥梁，替父亲处理他不愿意处理的事情，带阿和的女朋友小玉去产检并主动带她去少年辅育所去看阿和却不欢而散。
就这样一位优秀的青年，父母眼中的好孩子，老师眼中的好学生，却选择在一个平静的深夜，整理好房间的衣物，将手机里的短讯全部删除后毫无征兆地坠楼身亡。从前有多光芒万丈，在坠楼时就有多寂寞冷清。
尽管阿 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/07/29/%E9%AD%8F%E6%99%8B%E4%B9%8B%E9%99%85%E7%9A%84%E6%94%BF%E6%B2%BB%E6%A0%BC%E5%B1%80%E7%AE%80%E8%AE%BA/" title="魏晋之际的政治格局简论">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/weijin.jpg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="魏晋之际的政治格局简论"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/29/%E9%AD%8F%E6%99%8B%E4%B9%8B%E9%99%85%E7%9A%84%E6%94%BF%E6%B2%BB%E6%A0%BC%E5%B1%80%E7%AE%80%E8%AE%BA/" title="魏晋之际的政治格局简论">魏晋之际的政治格局简论</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack article-meta__icon sticky"></i><span class="sticky">Sticky</span><span class="article-meta__separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2020-07-29T12:18:33.000Z" title="Created 2020-07-29 20:18:33">2020-07-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%8E%86%E5%8F%B2/">历史</a></span></div><div class="content">关于东晋之际的门阀政治体系，被视为变态、畸形发展的政治体系，但其出现并非空穴来风。
其一，东汉末年，士人清议之风盛起，出现了匹夫抗愤，处士横议的局面，士人之间互相品题、共相标榜成为一时风气，普通士人一旦为名士所赞赏、品题，便如登龙门，身价倍增，千里求名之举亦不鲜见。尽管汉末党锢之祸对于士人清议进行了严酷镇压，但却加强了士人群体身份的认同，构成汉晋时代“士的觉醒”的重要面向。后来随着一系列事件，此时进入三国鼎立时代。其时曹魏举荐人才的主要方式之一便是名士品评、提携同郡士人，例如当时司马懿曾被同郡河内杨俊、清河崔琰所举荐。通过互相的举荐和品评，可以加强同乡同郡之间的家族关系，并且品评人和被品评人也可以在朝廷中为自己增加政治资源。例如，《三国志.杨俊传》中写道：

黄初三年，车驾至宛，以市不丰乐，发怒收（杨）俊。尚书仆射司马宣王、常侍王象、荀纬请俊，叩头流血，帝不许。俊曰：“吾知罪矣。”遂自杀，众冤痛之。


司马懿、王象、荀纬三人皆为河内人，自然不是一种巧合，体现出同乡官僚在政治上互相支持与提携。其时家族之间的互相品评、联姻，来上升或者加固大族的地位并且由此进行入仕，这无疑可以看做是魏晋时 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/07/06/carol/" title="颂歌">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/%E9%A2%82%E6%AD%8C.jpg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="颂歌"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/06/carol/" title="颂歌">颂歌</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack article-meta__icon sticky"></i><span class="sticky">Sticky</span><span class="article-meta__separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2020-07-06T12:03:19.000Z" title="Created 2020-07-06 20:03:19">2020-07-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%B0%8F%E8%AF%B4/">小说</a></span></div><div class="content">多年以后，当他躺在一张逼仄的床上，岁月的痕迹无情地刻在他的脸上，浑浊的老眼已经迷瞪地无法睁开的时候，他依然清楚地记得，在他三十三岁那年，他从一场噩梦中惊醒，回忆起很久以前的往事。

那时他睡的床还很大、很舒服，他的生活很考究，他的床单、被罩、床垫、枕巾无一不是最好、最贵的。他的客厅里焚着名贵的香料，这大概已经是古人所用的东西，但他却偏偏喜欢。在每晚睡前，他都会点上香料，他认为香料可以帮他入眠，他是一个严重的失眠者，尽管他每天都看起来精神饱满，面带着笑容。
但不可避免，淡淡的幽香总会使他联想到一切受阻的事情，但这种事情好像永远也无法同他联系起来。再过几天，一件也许是他命运中最重要的事情将会发生，他将成为公司里最为年轻的合伙人。这个每个具有理想的年轻人梦寐以求的事情，，在他这里仿佛是唾手可得。但他却并不十分高兴，在满屋氤氲的香气中，他甚至闻到了苦杏仁的味道。
那大概是很久很久以前的事情了，他大概已经把她的模样忘却了，但总有一根像是浸了水的绸带绑在他的心上，他愈是挣扎，这绸带便缚的愈紧，就同他的失眠一般，越是努力地想要入眠，却又偏偏更加心烦迷乱。
“你应当知道，这件事情已经永远无法更改了”， ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/14/rCore-Lab-4/" title="rCore Lab-4">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/Rust.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="rCore Lab-4"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/14/rCore-Lab-4/" title="rCore Lab-4">rCore Lab-4</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-02-14T07:39:39.000Z" title="Created 2021-02-14 15:39:39">2021-02-14</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/10/rCore-Lab-3/" title="rCore Lab-3">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/Rust.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="rCore Lab-3"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/10/rCore-Lab-3/" title="rCore Lab-3">rCore Lab-3</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-02-10T09:01:43.000Z" title="Created 2021-02-10 17:01:43">2021-02-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="content">
 实验三 虚实地址转换
 实验题
1.原理： 原理：在 os/src/entry.asm 中，boot_page_table 的意义是什么？当跳转执行 rust_main 时，不考虑缓存，硬件通过哪些地址找到了 rust_main 的第一条指令？
更改后的entry.asm如下所示：
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061# 操作系统启动时所需的指令以及字段## 我们在 linker.ld 中将程序入口设置为了 _start，因此在这里我们将填充这个标签# 它将会执行一些必要操作，然后跳转至我们用 rust 编写的入口函数## 关于 RISC-V 下的汇编语言，可以参考 https:&#x2F;&#x2F;github.com&#x2F;riscv&#x2F;riscv-asm-manual&#x2F;blob&#x2F;master&#x2F;riscv-asm.md# %hi 表示取 [12,3 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/09/RISC-V%E6%80%BB%E7%BB%93/" title="RISC -V总结">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/RISC.jpeg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RISC -V总结"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/09/RISC-V%E6%80%BB%E7%BB%93/" title="RISC -V总结">RISC -V总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-02-09T14:20:06.000Z" title="Created 2021-02-09 22:20:06">2021-02-09</time></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/08/rCore-Lab-2/" title="rCore Lab-2">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/Rust.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="rCore Lab-2"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/08/rCore-Lab-2/" title="rCore Lab-2">rCore Lab-2</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-02-08T03:41:12.000Z" title="Created 2021-02-08 11:41:12">2021-02-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="content"> 实验二：内存分配
 实验题
1.原理：.bss字段是什么含义？为什么我们要将动态分配的内存（堆）空间放在 .bss 字段？
.bss段：未初始化的全局和静态变量，以及所有被初始化为0的全局或静态变量，在目标文件中这个这个节不占据实际的空间，它仅仅是一个占位符。目标文件格式区分已初始化和未初始化变量是为了空间效率：在目标文件中，未初始化变量不需要占据任何实际的磁盘空间。运行时，在内存中分配这些变量，初始化值为0。
.bss段放堆空间，实际并不是必须的——我们完全可以随意指定一段可以访问的内存空间。不过，在代码中用全局变量来表示堆并将其放在.bss段，是一个很简单的实现：这样堆空间就包含在内核的二进制数据之中了，而自KERNEL_END_ADDRESS以后的空间就可以给进程使用。
2.分析：我们在动态内存分配中实现了一个堆，它允许我们在内核代码中使用动态分配的内存，例如 Vec、 Box 等。那么，如果我们在实现这个堆的过程中使用 Vec 而不是 [u8]，会出现什么结果？

无法编译？
运行时错误？
正常运行？

会发生死锁。使用Vec会向堆中申请内存，而Allocator也需要向堆内 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/07/rCore-Lab-1/" title="rCore Lab-1">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/Rust.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="rCore Lab-1"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/07/rCore-Lab-1/" title="rCore Lab-1">rCore Lab-1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-02-07T07:25:40.000Z" title="Created 2021-02-07 15:25:40">2021-02-07</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="content"> 实验一： 中断
 实验题：
1.原理：在rust_main函数中，执行ebreak命令后至函数结束前，sp寄存器的值是怎样变化的？
在rust_main函数中执行ebreak进入中断，首先需要在栈上开辟Context所需空间，即将栈顶（即sp寄存器）减去 34*8 bits。随后在__restore中恢复了sp寄存器中位置。
2.分析：如果去掉 rust_main 后的 panic 会发生什么，为什么？
去掉rust_main后的panic后程序将不会立刻返回。执行ebreak函数后进入到interrupt_handler函数中，判断为断点后进入breakpoint函数进行处理，在breakpoint函数中打印出断点位置并将sepc寄存器+2后返回，调用__restore函数恢复所有寄存器，并跳转至Context中sepc的位置上，即会回到entry.asm中，此时entry.asm函数后并未做任何处理。
3.实验：
I. 如果程序访问不存在的地址，会得到 Exception::LoadFault。模仿捕获 ebreak 和时钟中断的方法，捕获 LoadFault（之后 panic  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/04/%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8EC%E8%AF%AD%E8%A8%80%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%9A%84%E8%AF%AF%E5%8C%BA/" title="一个关于C语言内存分配的误区">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/C.jpg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一个关于C语言内存分配的误区"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/04/%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8EC%E8%AF%AD%E8%A8%80%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%9A%84%E8%AF%AF%E5%8C%BA/" title="一个关于C语言内存分配的误区">一个关于C语言内存分配的误区</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-01-04T03:55:43.000Z" title="Created 2021-01-04 11:55:43">2021-01-04</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="content"> 起源
事情是这样的，我在编写一段Unicode解析的代码时，需要先判断输入的Unicode后面从’\u’后是否为4位16进制数，如果是的话，就将这几位复制到一段字符串中并进行解析，如果不是的话则抛出异常。
这段代码如下：
123456789char *high = NULL, *low = NULL;   p = charcpy(p, high);   if(!p)return NULL;   if(*p == &#x27;\\&#x27;)&#123;       p++;       p = charcpy(p, low);       if(!p)return NULL;   &#125;
其中，charcpy函数的代码如下：
1234567891011121314151617static const char* charcpy(const char* p, char* target)&#123;    target = (char *)malloc(5 * sizeof(char));    int len;    for(len = 0; len &lt; 4; len++ ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/12/26/xv6-bigger-files/" title="xv6 Bigger Files">     <img class="post_bg" src="https://github.com/KuangjuX/Blog-Images/blob/main/operator-system.jpg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="xv6 Bigger Files"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/26/xv6-bigger-files/" title="xv6 Bigger Files">xv6 Bigger Files</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2020-12-26T06:32:06.000Z" title="Created 2020-12-26 14:32:06">2020-12-26</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="content"> Introduction
In this assignment you’ll increase the maximum size of an xv6 file. Currently xv6 files are limited to 140 sectors, or 71,680 bytes. This limit comes from the fact that an xv6 inode contains 12 “direct” block numbers and one “singly-indirect” block number, which refers to a block that holds up to 128 more block numbers, for a total of 12+128=140. You’ll change the xv6 file system code to support a “doubly-indirect” block in each inode, containing 128 addresses of singly-indirect bl ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/KuangjuX.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">KuangjuX</div><div class="author-info__description">狂且的人文及技术博客</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">39</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">30</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/KuangjuX"><i class="fab fa-github"></i><span>Follow Me</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/02/15/%E9%98%B3%E5%85%89%E6%99%AE%E7%85%A7/" title="阳光普照"><img src="https://github.com/KuangjuX/Blog-Images/blob/main/%E9%98%B3%E5%85%89%E6%99%AE%E7%85%A7.jpg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="阳光普照"/></a><div class="content"><a class="title" href="/2021/02/15/%E9%98%B3%E5%85%89%E6%99%AE%E7%85%A7/" title="阳光普照">阳光普照</a><time datetime="2021-02-15T02:16:18.000Z" title="Created 2021-02-15 10:16:18">2021-02-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/14/rCore-Lab-4/" title="rCore Lab-4"><img src="https://github.com/KuangjuX/Blog-Images/blob/main/Rust.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="rCore Lab-4"/></a><div class="content"><a class="title" href="/2021/02/14/rCore-Lab-4/" title="rCore Lab-4">rCore Lab-4</a><time datetime="2021-02-14T07:39:39.000Z" title="Created 2021-02-14 15:39:39">2021-02-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/10/rCore-Lab-3/" title="rCore Lab-3"><img src="https://github.com/KuangjuX/Blog-Images/blob/main/Rust.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="rCore Lab-3"/></a><div class="content"><a class="title" href="/2021/02/10/rCore-Lab-3/" title="rCore Lab-3">rCore Lab-3</a><time datetime="2021-02-10T09:01:43.000Z" title="Created 2021-02-10 17:01:43">2021-02-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/09/RISC-V%E6%80%BB%E7%BB%93/" title="RISC -V总结"><img src="https://github.com/KuangjuX/Blog-Images/blob/main/RISC.jpeg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RISC -V总结"/></a><div class="content"><a class="title" href="/2021/02/09/RISC-V%E6%80%BB%E7%BB%93/" title="RISC -V总结">RISC -V总结</a><time datetime="2021-02-09T14:20:06.000Z" title="Created 2021-02-09 22:20:06">2021-02-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/08/rCore-Lab-2/" title="rCore Lab-2"><img src="https://github.com/KuangjuX/Blog-Images/blob/main/Rust.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="rCore Lab-2"/></a><div class="content"><a class="title" href="/2021/02/08/rCore-Lab-2/" title="rCore Lab-2">rCore Lab-2</a><time datetime="2021-02-08T03:41:12.000Z" title="Created 2021-02-08 11:41:12">2021-02-08</time></div></div></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>Categories</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%8E%86%E5%8F%B2/"><span class="card-category-list-name">历史</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B0%8F%E8%AF%B4/"><span class="card-category-list-name">小说</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/"><span class="card-category-list-name">技术</span><span class="card-category-list-count">24</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%97%85%E8%A1%8C/"><span class="card-category-list-name">旅行</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%9D%82%E6%96%87/"><span class="card-category-list-name">杂文</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%94%B5%E5%BD%B1/"><span class="card-category-list-name">电影</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6/"><span class="card-category-list-name">读书</span><span class="card-category-list-count">2</span></a></li>
            
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/ARM/" style="font-size: 1.1em; color: #999">ARM</a> <a href="/tags/C-C/" style="font-size: 1.5em; color: #99a9bf">C/C++</a> <a href="/tags/CSAPP/" style="font-size: 1.44em; color: #99a7ba">CSAPP</a> <a href="/tags/Docker/" style="font-size: 1.1em; color: #999">Docker</a> <a href="/tags/Javascript/" style="font-size: 1.1em; color: #999">Javascript</a> <a href="/tags/Laravel/" style="font-size: 1.16em; color: #999b9e">Laravel</a> <a href="/tags/Leetcode/" style="font-size: 1.21em; color: #999ea4">Leetcode</a> <a href="/tags/Linux/" style="font-size: 1.27em; color: #99a0a9">Linux</a> <a href="/tags/Nginx/" style="font-size: 1.1em; color: #999">Nginx</a> <a href="/tags/PHP/" style="font-size: 1.1em; color: #999">PHP</a> <a href="/tags/RISC-V/" style="font-size: 1.27em; color: #99a0a9">RISC -V</a> <a href="/tags/Rust/" style="font-size: 1.27em; color: #99a0a9">Rust</a> <a href="/tags/rCore/" style="font-size: 1.27em; color: #99a0a9">rCore</a> <a href="/tags/%E4%BA%BA%E7%94%9F/" style="font-size: 1.39em; color: #99a4b4">人生</a> <a href="/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" style="font-size: 1.1em; color: #999">函数式编程</a> <a href="/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 1.33em; color: #99a2af">后端开发</a> <a href="/tags/%E5%90%90%E6%A7%BD/" style="font-size: 1.16em; color: #999b9e">吐槽</a> <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F/" style="font-size: 1.1em; color: #999">嵌入式系统</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.39em; color: #99a4b4">操作系统</a> <a href="/tags/%E6%95%99%E8%82%B2/" style="font-size: 1.1em; color: #999">教育</a> <a href="/tags/%E6%96%87%E5%AD%A6/" style="font-size: 1.21em; color: #999ea4">文学</a> <a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 1.1em; color: #999">旅行</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1.21em; color: #999ea4">服务器</a> <a href="/tags/%E6%9D%82%E8%AE%BA/" style="font-size: 1.27em; color: #99a0a9">杂论</a> <a href="/tags/%E6%B1%87%E7%BC%96/" style="font-size: 1.21em; color: #999ea4">汇编</a> <a href="/tags/%E7%88%B1%E5%9B%BD/" style="font-size: 1.1em; color: #999">爱国</a> <a href="/tags/%E7%88%B1%E6%83%85/" style="font-size: 1.27em; color: #99a0a9">爱情</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.16em; color: #999b9e">算法</a> <a href="/tags/%E9%87%8D%E6%9E%84/" style="font-size: 1.1em; color: #999">重构</a> <a href="/tags/%E9%AD%8F%E6%99%8B/" style="font-size: 1.1em; color: #999">魏晋</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">February 2021</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">January 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">December 2020</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">October 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/09/"><span class="card-archive-list-date">September 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/07/"><span class="card-archive-list-date">July 2020</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">June 2020</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/04/"><span class="card-archive-list-date">April 2020</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>More</span><i class="fas fa-angle-right"  ></i></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">39</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-02-15T07:42:07.036Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By KuangjuX</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>